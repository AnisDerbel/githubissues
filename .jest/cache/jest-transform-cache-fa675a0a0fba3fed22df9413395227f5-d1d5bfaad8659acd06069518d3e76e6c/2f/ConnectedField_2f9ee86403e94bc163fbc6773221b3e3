36fe0583a12b254093684334c00b98f9
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports["default"] = void 0;

var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _inheritsLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _reactRedux = require("react-redux");

var _createFieldProps2 = _interopRequireDefault(require("./createFieldProps"));

var _onChangeValue = _interopRequireDefault(require("./events/onChangeValue"));

var _eventConsts = require("./util/eventConsts");

var _plain = _interopRequireDefault(require("./structure/plain"));

var _isReactNative = _interopRequireDefault(require("./isReactNative"));

var _validateComponentProp = _interopRequireDefault(require("./util/validateComponentProp"));

var _isEvent = _interopRequireDefault(require("./events/isEvent"));

var propsToNotUpdateFor = ['_reduxForm'];

var isObject = function isObject(entity) {
  return entity && typeof entity === 'object';
};

var isFunction = function isFunction(entity) {
  return entity && typeof entity === 'function';
};

var eventPreventDefault = function eventPreventDefault(event) {
  if (isObject(event) && isFunction(event.preventDefault)) {
    event.preventDefault();
  }
};

var eventDataTransferGetData = function eventDataTransferGetData(event, key) {
  if (isObject(event) && isObject(event.dataTransfer) && isFunction(event.dataTransfer.getData)) {
    return event.dataTransfer.getData(key);
  }
};

var eventDataTransferSetData = function eventDataTransferSetData(event, key, value) {
  if (isObject(event) && isObject(event.dataTransfer) && isFunction(event.dataTransfer.setData)) {
    event.dataTransfer.setData(key, value);
  }
};

function createConnectedField(structure) {
  var deepEqual = structure.deepEqual,
      getIn = structure.getIn;

  var getSyncError = function getSyncError(syncErrors, name) {
    var error = _plain["default"].getIn(syncErrors, name);

    return error && error._error ? error._error : error;
  };

  var getSyncWarning = function getSyncWarning(syncWarnings, name) {
    var warning = getIn(syncWarnings, name);
    return warning && warning._warning ? warning._warning : warning;
  };

  var ConnectedField = function (_Component) {
    (0, _inheritsLoose2["default"])(ConnectedField, _Component);

    function ConnectedField() {
      var _this;

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _Component.call.apply(_Component, [this].concat(args)) || this;
      _this.ref = _react["default"].createRef();

      _this.isPristine = function () {
        return _this.props.pristine;
      };

      _this.getValue = function () {
        return _this.props.value;
      };

      _this.handleChange = function (event) {
        var _this$props = _this.props,
            name = _this$props.name,
            dispatch = _this$props.dispatch,
            parse = _this$props.parse,
            normalize = _this$props.normalize,
            onChange = _this$props.onChange,
            _reduxForm = _this$props._reduxForm,
            previousValue = _this$props.value;
        var newValue = (0, _onChangeValue["default"])(event, {
          name: name,
          parse: parse,
          normalize: normalize
        });
        var defaultPrevented = false;

        if (onChange) {
          if (!_isReactNative["default"] && (0, _isEvent["default"])(event)) {
            onChange((0, _extends2["default"])({}, event, {
              preventDefault: function preventDefault() {
                defaultPrevented = true;
                return eventPreventDefault(event);
              }
            }), newValue, previousValue, name);
          } else {
            var onChangeResult = onChange(event, newValue, previousValue, name);

            if (_isReactNative["default"]) {
              defaultPrevented = onChangeResult;
            }
          }
        }

        if (!defaultPrevented) {
          dispatch(_reduxForm.change(name, newValue));

          if (_reduxForm.asyncValidate) {
            _reduxForm.asyncValidate(name, newValue, 'change');
          }
        }
      };

      _this.handleFocus = function (event) {
        var _this$props2 = _this.props,
            name = _this$props2.name,
            dispatch = _this$props2.dispatch,
            onFocus = _this$props2.onFocus,
            _reduxForm = _this$props2._reduxForm;
        var defaultPrevented = false;

        if (onFocus) {
          if (!_isReactNative["default"]) {
            onFocus((0, _extends2["default"])({}, event, {
              preventDefault: function preventDefault() {
                defaultPrevented = true;
                return eventPreventDefault(event);
              }
            }), name);
          } else {
            defaultPrevented = onFocus(event, name);
          }
        }

        if (!defaultPrevented) {
          dispatch(_reduxForm.focus(name));
        }
      };

      _this.handleBlur = function (event) {
        var _this$props3 = _this.props,
            name = _this$props3.name,
            dispatch = _this$props3.dispatch,
            parse = _this$props3.parse,
            normalize = _this$props3.normalize,
            onBlur = _this$props3.onBlur,
            _reduxForm = _this$props3._reduxForm,
            _value = _this$props3._value,
            previousValue = _this$props3.value;
        var newValue = (0, _onChangeValue["default"])(event, {
          name: name,
          parse: parse,
          normalize: normalize
        });

        if (newValue === _value && _value !== undefined) {
          newValue = previousValue;
        }

        var defaultPrevented = false;

        if (onBlur) {
          if (!_isReactNative["default"]) {
            onBlur((0, _extends2["default"])({}, event, {
              preventDefault: function preventDefault() {
                defaultPrevented = true;
                return eventPreventDefault(event);
              }
            }), newValue, previousValue, name);
          } else {
            defaultPrevented = onBlur(event, newValue, previousValue, name);
          }
        }

        if (!defaultPrevented) {
          dispatch(_reduxForm.blur(name, newValue));

          if (_reduxForm.asyncValidate) {
            _reduxForm.asyncValidate(name, newValue, 'blur');
          }
        }
      };

      _this.handleDragStart = function (event) {
        var _this$props4 = _this.props,
            name = _this$props4.name,
            onDragStart = _this$props4.onDragStart,
            value = _this$props4.value;
        eventDataTransferSetData(event, _eventConsts.dataKey, value == null ? '' : value);

        if (onDragStart) {
          onDragStart(event, name);
        }
      };

      _this.handleDrop = function (event) {
        var _this$props5 = _this.props,
            name = _this$props5.name,
            dispatch = _this$props5.dispatch,
            onDrop = _this$props5.onDrop,
            _reduxForm = _this$props5._reduxForm,
            previousValue = _this$props5.value;
        var newValue = eventDataTransferGetData(event, _eventConsts.dataKey);
        var defaultPrevented = false;

        if (onDrop) {
          onDrop((0, _extends2["default"])({}, event, {
            preventDefault: function preventDefault() {
              defaultPrevented = true;
              return eventPreventDefault(event);
            }
          }), newValue, previousValue, name);
        }

        if (!defaultPrevented) {
          dispatch(_reduxForm.change(name, newValue));
          eventPreventDefault(event);
        }
      };

      return _this;
    }

    var _proto = ConnectedField.prototype;

    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
      var _this2 = this;

      var nextPropsKeys = Object.keys(nextProps);
      var thisPropsKeys = Object.keys(this.props);
      return !!(this.props.children || nextProps.children || nextPropsKeys.length !== thisPropsKeys.length || nextPropsKeys.some(function (prop) {
        if (~(nextProps.immutableProps || []).indexOf(prop)) {
          return _this2.props[prop] !== nextProps[prop];
        }

        return !~propsToNotUpdateFor.indexOf(prop) && !deepEqual(_this2.props[prop], nextProps[prop]);
      }));
    };

    _proto.getRenderedComponent = function getRenderedComponent() {
      return this.ref.current;
    };

    _proto.render = function render() {
      var _this$props6 = this.props,
          component = _this$props6.component,
          forwardRef = _this$props6.forwardRef,
          name = _this$props6.name,
          _reduxForm = _this$props6._reduxForm,
          normalize = _this$props6.normalize,
          onBlur = _this$props6.onBlur,
          onChange = _this$props6.onChange,
          onFocus = _this$props6.onFocus,
          onDragStart = _this$props6.onDragStart,
          onDrop = _this$props6.onDrop,
          immutableProps = _this$props6.immutableProps,
          rest = (0, _objectWithoutPropertiesLoose2["default"])(_this$props6, ["component", "forwardRef", "name", "_reduxForm", "normalize", "onBlur", "onChange", "onFocus", "onDragStart", "onDrop", "immutableProps"]);

      var _createFieldProps = (0, _createFieldProps2["default"])(structure, name, (0, _extends2["default"])({}, rest, {
        form: _reduxForm.form,
        onBlur: this.handleBlur,
        onChange: this.handleChange,
        onDrop: this.handleDrop,
        onDragStart: this.handleDragStart,
        onFocus: this.handleFocus
      })),
          custom = _createFieldProps.custom,
          props = (0, _objectWithoutPropertiesLoose2["default"])(_createFieldProps, ["custom"]);

      if (forwardRef) {
        custom.ref = this.ref;
      }

      if (typeof component === 'string') {
        var input = props.input,
            meta = props.meta;
        return (0, _react.createElement)(component, (0, _extends2["default"])({}, input, {}, custom));
      } else {
        return (0, _react.createElement)(component, (0, _extends2["default"])({}, props, {}, custom));
      }
    };

    return ConnectedField;
  }(_react.Component);

  ConnectedField.propTypes = {
    component: _validateComponentProp["default"],
    props: _propTypes["default"].object
  };
  var connector = (0, _reactRedux.connect)(function (state, ownProps) {
    var name = ownProps.name,
        _ownProps$_reduxForm = ownProps._reduxForm,
        initialValues = _ownProps$_reduxForm.initialValues,
        getFormState = _ownProps$_reduxForm.getFormState;
    var formState = getFormState(state);
    var initialState = getIn(formState, "initial." + name);
    var initial = initialState !== undefined ? initialState : initialValues && getIn(initialValues, name);
    var value = getIn(formState, "values." + name);
    var submitting = getIn(formState, 'submitting');
    var syncError = getSyncError(getIn(formState, 'syncErrors'), name);
    var syncWarning = getSyncWarning(getIn(formState, 'syncWarnings'), name);
    var pristine = deepEqual(value, initial);
    return {
      asyncError: getIn(formState, "asyncErrors." + name),
      asyncValidating: getIn(formState, 'asyncValidating') === name,
      dirty: !pristine,
      pristine: pristine,
      state: getIn(formState, "fields." + name),
      submitError: getIn(formState, "submitErrors." + name),
      submitFailed: getIn(formState, 'submitFailed'),
      submitting: submitting,
      syncError: syncError,
      syncWarning: syncWarning,
      initial: initial,
      value: value,
      _value: ownProps.value
    };
  }, undefined, undefined, {
    forwardRef: true
  });
  return connector(ConnectedField);
}

var _default = createConnectedField;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbm5lY3RlZEZpZWxkLmpzIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJleHBvcnRzIiwiX19lc01vZHVsZSIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlMiIsIl9leHRlbmRzMiIsIl9pbmhlcml0c0xvb3NlMiIsIl9yZWFjdCIsIl9wcm9wVHlwZXMiLCJfcmVhY3RSZWR1eCIsIl9jcmVhdGVGaWVsZFByb3BzMiIsIl9vbkNoYW5nZVZhbHVlIiwiX2V2ZW50Q29uc3RzIiwiX3BsYWluIiwiX2lzUmVhY3ROYXRpdmUiLCJfdmFsaWRhdGVDb21wb25lbnRQcm9wIiwiX2lzRXZlbnQiLCJwcm9wc1RvTm90VXBkYXRlRm9yIiwiaXNPYmplY3QiLCJlbnRpdHkiLCJpc0Z1bmN0aW9uIiwiZXZlbnRQcmV2ZW50RGVmYXVsdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJldmVudERhdGFUcmFuc2ZlckdldERhdGEiLCJrZXkiLCJkYXRhVHJhbnNmZXIiLCJnZXREYXRhIiwiZXZlbnREYXRhVHJhbnNmZXJTZXREYXRhIiwidmFsdWUiLCJzZXREYXRhIiwiY3JlYXRlQ29ubmVjdGVkRmllbGQiLCJzdHJ1Y3R1cmUiLCJkZWVwRXF1YWwiLCJnZXRJbiIsImdldFN5bmNFcnJvciIsInN5bmNFcnJvcnMiLCJuYW1lIiwiZXJyb3IiLCJfZXJyb3IiLCJnZXRTeW5jV2FybmluZyIsInN5bmNXYXJuaW5ncyIsIndhcm5pbmciLCJfd2FybmluZyIsIkNvbm5lY3RlZEZpZWxkIiwiX0NvbXBvbmVudCIsIl90aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjYWxsIiwiYXBwbHkiLCJjb25jYXQiLCJyZWYiLCJjcmVhdGVSZWYiLCJpc1ByaXN0aW5lIiwicHJvcHMiLCJwcmlzdGluZSIsImdldFZhbHVlIiwiaGFuZGxlQ2hhbmdlIiwiX3RoaXMkcHJvcHMiLCJkaXNwYXRjaCIsInBhcnNlIiwibm9ybWFsaXplIiwib25DaGFuZ2UiLCJfcmVkdXhGb3JtIiwicHJldmlvdXNWYWx1ZSIsIm5ld1ZhbHVlIiwiZGVmYXVsdFByZXZlbnRlZCIsIm9uQ2hhbmdlUmVzdWx0IiwiY2hhbmdlIiwiYXN5bmNWYWxpZGF0ZSIsImhhbmRsZUZvY3VzIiwiX3RoaXMkcHJvcHMyIiwib25Gb2N1cyIsImZvY3VzIiwiaGFuZGxlQmx1ciIsIl90aGlzJHByb3BzMyIsIm9uQmx1ciIsIl92YWx1ZSIsInVuZGVmaW5lZCIsImJsdXIiLCJoYW5kbGVEcmFnU3RhcnQiLCJfdGhpcyRwcm9wczQiLCJvbkRyYWdTdGFydCIsImRhdGFLZXkiLCJoYW5kbGVEcm9wIiwiX3RoaXMkcHJvcHM1Iiwib25Ecm9wIiwiX3Byb3RvIiwicHJvdG90eXBlIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwibmV4dFByb3BzIiwiX3RoaXMyIiwibmV4dFByb3BzS2V5cyIsIk9iamVjdCIsImtleXMiLCJ0aGlzUHJvcHNLZXlzIiwiY2hpbGRyZW4iLCJzb21lIiwicHJvcCIsImltbXV0YWJsZVByb3BzIiwiaW5kZXhPZiIsImdldFJlbmRlcmVkQ29tcG9uZW50IiwiY3VycmVudCIsInJlbmRlciIsIl90aGlzJHByb3BzNiIsImNvbXBvbmVudCIsImZvcndhcmRSZWYiLCJyZXN0IiwiX2NyZWF0ZUZpZWxkUHJvcHMiLCJmb3JtIiwiY3VzdG9tIiwiaW5wdXQiLCJtZXRhIiwiY3JlYXRlRWxlbWVudCIsIkNvbXBvbmVudCIsInByb3BUeXBlcyIsIm9iamVjdCIsImNvbm5lY3RvciIsImNvbm5lY3QiLCJzdGF0ZSIsIm93blByb3BzIiwiX293blByb3BzJF9yZWR1eEZvcm0iLCJpbml0aWFsVmFsdWVzIiwiZ2V0Rm9ybVN0YXRlIiwiZm9ybVN0YXRlIiwiaW5pdGlhbFN0YXRlIiwiaW5pdGlhbCIsInN1Ym1pdHRpbmciLCJzeW5jRXJyb3IiLCJzeW5jV2FybmluZyIsImFzeW5jRXJyb3IiLCJhc3luY1ZhbGlkYXRpbmciLCJkaXJ0eSIsInN1Ym1pdEVycm9yIiwic3VibWl0RmFpbGVkIiwiX2RlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLHVCQUF1QixHQUFHQyxPQUFPLENBQUMsK0NBQUQsQ0FBckM7O0FBRUEsSUFBSUMsc0JBQXNCLEdBQUdELE9BQU8sQ0FBQyw4Q0FBRCxDQUFwQzs7QUFFQUUsT0FBTyxDQUFDQyxVQUFSLEdBQXFCLElBQXJCO0FBQ0FELE9BQU8sQ0FBQyxTQUFELENBQVAsR0FBcUIsS0FBSyxDQUExQjs7QUFFQSxJQUFJRSw4QkFBOEIsR0FBR0gsc0JBQXNCLENBQUNELE9BQU8sQ0FBQyxxREFBRCxDQUFSLENBQTNEOztBQUVBLElBQUlLLFNBQVMsR0FBR0osc0JBQXNCLENBQUNELE9BQU8sQ0FBQyxnQ0FBRCxDQUFSLENBQXRDOztBQUVBLElBQUlNLGVBQWUsR0FBR0wsc0JBQXNCLENBQUNELE9BQU8sQ0FBQyxzQ0FBRCxDQUFSLENBQTVDOztBQUVBLElBQUlPLE1BQU0sR0FBR1IsdUJBQXVCLENBQUNDLE9BQU8sQ0FBQyxPQUFELENBQVIsQ0FBcEM7O0FBRUEsSUFBSVEsVUFBVSxHQUFHUCxzQkFBc0IsQ0FBQ0QsT0FBTyxDQUFDLFlBQUQsQ0FBUixDQUF2Qzs7QUFFQSxJQUFJUyxXQUFXLEdBQUdULE9BQU8sQ0FBQyxhQUFELENBQXpCOztBQUVBLElBQUlVLGtCQUFrQixHQUFHVCxzQkFBc0IsQ0FBQ0QsT0FBTyxDQUFDLG9CQUFELENBQVIsQ0FBL0M7O0FBRUEsSUFBSVcsY0FBYyxHQUFHVixzQkFBc0IsQ0FBQ0QsT0FBTyxDQUFDLHdCQUFELENBQVIsQ0FBM0M7O0FBRUEsSUFBSVksWUFBWSxHQUFHWixPQUFPLENBQUMsb0JBQUQsQ0FBMUI7O0FBRUEsSUFBSWEsTUFBTSxHQUFHWixzQkFBc0IsQ0FBQ0QsT0FBTyxDQUFDLG1CQUFELENBQVIsQ0FBbkM7O0FBRUEsSUFBSWMsY0FBYyxHQUFHYixzQkFBc0IsQ0FBQ0QsT0FBTyxDQUFDLGlCQUFELENBQVIsQ0FBM0M7O0FBRUEsSUFBSWUsc0JBQXNCLEdBQUdkLHNCQUFzQixDQUFDRCxPQUFPLENBQUMsOEJBQUQsQ0FBUixDQUFuRDs7QUFFQSxJQUFJZ0IsUUFBUSxHQUFHZixzQkFBc0IsQ0FBQ0QsT0FBTyxDQUFDLGtCQUFELENBQVIsQ0FBckM7O0FBRUEsSUFBSWlCLG1CQUFtQixHQUFHLENBQUMsWUFBRCxDQUExQjs7QUFFQSxJQUFJQyxRQUFRLEdBQUcsU0FBU0EsUUFBVCxDQUFrQkMsTUFBbEIsRUFBMEI7QUFDdkMsU0FBT0EsTUFBTSxJQUFJLE9BQU9BLE1BQVAsS0FBa0IsUUFBbkM7QUFDRCxDQUZEOztBQUlBLElBQUlDLFVBQVUsR0FBRyxTQUFTQSxVQUFULENBQW9CRCxNQUFwQixFQUE0QjtBQUMzQyxTQUFPQSxNQUFNLElBQUksT0FBT0EsTUFBUCxLQUFrQixVQUFuQztBQUNELENBRkQ7O0FBSUEsSUFBSUUsbUJBQW1CLEdBQUcsU0FBU0EsbUJBQVQsQ0FBNkJDLEtBQTdCLEVBQW9DO0FBQzVELE1BQUlKLFFBQVEsQ0FBQ0ksS0FBRCxDQUFSLElBQW1CRixVQUFVLENBQUNFLEtBQUssQ0FBQ0MsY0FBUCxDQUFqQyxFQUF5RDtBQUN2REQsSUFBQUEsS0FBSyxDQUFDQyxjQUFOO0FBQ0Q7QUFDRixDQUpEOztBQU1BLElBQUlDLHdCQUF3QixHQUFHLFNBQVNBLHdCQUFULENBQWtDRixLQUFsQyxFQUF5Q0csR0FBekMsRUFBOEM7QUFDM0UsTUFBSVAsUUFBUSxDQUFDSSxLQUFELENBQVIsSUFBbUJKLFFBQVEsQ0FBQ0ksS0FBSyxDQUFDSSxZQUFQLENBQTNCLElBQW1ETixVQUFVLENBQUNFLEtBQUssQ0FBQ0ksWUFBTixDQUFtQkMsT0FBcEIsQ0FBakUsRUFBK0Y7QUFDN0YsV0FBT0wsS0FBSyxDQUFDSSxZQUFOLENBQW1CQyxPQUFuQixDQUEyQkYsR0FBM0IsQ0FBUDtBQUNEO0FBQ0YsQ0FKRDs7QUFNQSxJQUFJRyx3QkFBd0IsR0FBRyxTQUFTQSx3QkFBVCxDQUFrQ04sS0FBbEMsRUFBeUNHLEdBQXpDLEVBQThDSSxLQUE5QyxFQUFxRDtBQUNsRixNQUFJWCxRQUFRLENBQUNJLEtBQUQsQ0FBUixJQUFtQkosUUFBUSxDQUFDSSxLQUFLLENBQUNJLFlBQVAsQ0FBM0IsSUFBbUROLFVBQVUsQ0FBQ0UsS0FBSyxDQUFDSSxZQUFOLENBQW1CSSxPQUFwQixDQUFqRSxFQUErRjtBQUM3RlIsSUFBQUEsS0FBSyxDQUFDSSxZQUFOLENBQW1CSSxPQUFuQixDQUEyQkwsR0FBM0IsRUFBZ0NJLEtBQWhDO0FBQ0Q7QUFDRixDQUpEOztBQU1BLFNBQVNFLG9CQUFULENBQThCQyxTQUE5QixFQUF5QztBQUN2QyxNQUFJQyxTQUFTLEdBQUdELFNBQVMsQ0FBQ0MsU0FBMUI7QUFBQSxNQUNJQyxLQUFLLEdBQUdGLFNBQVMsQ0FBQ0UsS0FEdEI7O0FBR0EsTUFBSUMsWUFBWSxHQUFHLFNBQVNBLFlBQVQsQ0FBc0JDLFVBQXRCLEVBQWtDQyxJQUFsQyxFQUF3QztBQUN6RCxRQUFJQyxLQUFLLEdBQUd6QixNQUFNLENBQUMsU0FBRCxDQUFOLENBQWtCcUIsS0FBbEIsQ0FBd0JFLFVBQXhCLEVBQW9DQyxJQUFwQyxDQUFaOztBQUlBLFdBQU9DLEtBQUssSUFBSUEsS0FBSyxDQUFDQyxNQUFmLEdBQXdCRCxLQUFLLENBQUNDLE1BQTlCLEdBQXVDRCxLQUE5QztBQUNELEdBTkQ7O0FBUUEsTUFBSUUsY0FBYyxHQUFHLFNBQVNBLGNBQVQsQ0FBd0JDLFlBQXhCLEVBQXNDSixJQUF0QyxFQUE0QztBQUMvRCxRQUFJSyxPQUFPLEdBQUdSLEtBQUssQ0FBQ08sWUFBRCxFQUFlSixJQUFmLENBQW5CO0FBR0EsV0FBT0ssT0FBTyxJQUFJQSxPQUFPLENBQUNDLFFBQW5CLEdBQThCRCxPQUFPLENBQUNDLFFBQXRDLEdBQWlERCxPQUF4RDtBQUNELEdBTEQ7O0FBT0EsTUFBSUUsY0FBYyxHQUFnQixVQUFVQyxVQUFWLEVBQXNCO0FBQ3RELEtBQUMsR0FBR3ZDLGVBQWUsQ0FBQyxTQUFELENBQW5CLEVBQWdDc0MsY0FBaEMsRUFBZ0RDLFVBQWhEOztBQUVBLGFBQVNELGNBQVQsR0FBMEI7QUFDeEIsVUFBSUUsS0FBSjs7QUFFQSxXQUFLLElBQUlDLElBQUksR0FBR0MsU0FBUyxDQUFDQyxNQUFyQixFQUE2QkMsSUFBSSxHQUFHLElBQUlDLEtBQUosQ0FBVUosSUFBVixDQUFwQyxFQUFxREssSUFBSSxHQUFHLENBQWpFLEVBQW9FQSxJQUFJLEdBQUdMLElBQTNFLEVBQWlGSyxJQUFJLEVBQXJGLEVBQXlGO0FBQ3ZGRixRQUFBQSxJQUFJLENBQUNFLElBQUQsQ0FBSixHQUFhSixTQUFTLENBQUNJLElBQUQsQ0FBdEI7QUFDRDs7QUFFRE4sTUFBQUEsS0FBSyxHQUFHRCxVQUFVLENBQUNRLElBQVgsQ0FBZ0JDLEtBQWhCLENBQXNCVCxVQUF0QixFQUFrQyxDQUFDLElBQUQsRUFBT1UsTUFBUCxDQUFjTCxJQUFkLENBQWxDLEtBQTBELElBQWxFO0FBQ0FKLE1BQUFBLEtBQUssQ0FBQ1UsR0FBTixHQUFZakQsTUFBTSxDQUFDLFNBQUQsQ0FBTixDQUFrQmtELFNBQWxCLEVBQVo7O0FBRUFYLE1BQUFBLEtBQUssQ0FBQ1ksVUFBTixHQUFtQixZQUFZO0FBQzdCLGVBQU9aLEtBQUssQ0FBQ2EsS0FBTixDQUFZQyxRQUFuQjtBQUNELE9BRkQ7O0FBSUFkLE1BQUFBLEtBQUssQ0FBQ2UsUUFBTixHQUFpQixZQUFZO0FBQzNCLGVBQU9mLEtBQUssQ0FBQ2EsS0FBTixDQUFZOUIsS0FBbkI7QUFDRCxPQUZEOztBQUlBaUIsTUFBQUEsS0FBSyxDQUFDZ0IsWUFBTixHQUFxQixVQUFVeEMsS0FBVixFQUFpQjtBQUNwQyxZQUFJeUMsV0FBVyxHQUFHakIsS0FBSyxDQUFDYSxLQUF4QjtBQUFBLFlBQ0l0QixJQUFJLEdBQUcwQixXQUFXLENBQUMxQixJQUR2QjtBQUFBLFlBRUkyQixRQUFRLEdBQUdELFdBQVcsQ0FBQ0MsUUFGM0I7QUFBQSxZQUdJQyxLQUFLLEdBQUdGLFdBQVcsQ0FBQ0UsS0FIeEI7QUFBQSxZQUlJQyxTQUFTLEdBQUdILFdBQVcsQ0FBQ0csU0FKNUI7QUFBQSxZQUtJQyxRQUFRLEdBQUdKLFdBQVcsQ0FBQ0ksUUFMM0I7QUFBQSxZQU1JQyxVQUFVLEdBQUdMLFdBQVcsQ0FBQ0ssVUFON0I7QUFBQSxZQU9JQyxhQUFhLEdBQUdOLFdBQVcsQ0FBQ2xDLEtBUGhDO0FBUUEsWUFBSXlDLFFBQVEsR0FBRyxDQUFDLEdBQUczRCxjQUFjLENBQUMsU0FBRCxDQUFsQixFQUErQlcsS0FBL0IsRUFBc0M7QUFDbkRlLFVBQUFBLElBQUksRUFBRUEsSUFENkM7QUFFbkQ0QixVQUFBQSxLQUFLLEVBQUVBLEtBRjRDO0FBR25EQyxVQUFBQSxTQUFTLEVBQUVBO0FBSHdDLFNBQXRDLENBQWY7QUFLQSxZQUFJSyxnQkFBZ0IsR0FBRyxLQUF2Qjs7QUFFQSxZQUFJSixRQUFKLEVBQWM7QUFNWixjQUFJLENBQUNyRCxjQUFjLENBQUMsU0FBRCxDQUFmLElBQThCLENBQUMsR0FBR0UsUUFBUSxDQUFDLFNBQUQsQ0FBWixFQUF5Qk0sS0FBekIsQ0FBbEMsRUFBbUU7QUFDakU2QyxZQUFBQSxRQUFRLENBQUMsQ0FBQyxHQUFHOUQsU0FBUyxDQUFDLFNBQUQsQ0FBYixFQUEwQixFQUExQixFQUE4QmlCLEtBQTlCLEVBQXFDO0FBQzVDQyxjQUFBQSxjQUFjLEVBQUUsU0FBU0EsY0FBVCxHQUEwQjtBQUN4Q2dELGdCQUFBQSxnQkFBZ0IsR0FBRyxJQUFuQjtBQUNBLHVCQUFPbEQsbUJBQW1CLENBQUNDLEtBQUQsQ0FBMUI7QUFDRDtBQUoyQyxhQUFyQyxDQUFELEVBS0pnRCxRQUxJLEVBS01ELGFBTE4sRUFLcUJoQyxJQUxyQixDQUFSO0FBTUQsV0FQRCxNQU9PO0FBQ0wsZ0JBQUltQyxjQUFjLEdBQUdMLFFBQVEsQ0FBQzdDLEtBQUQsRUFBUWdELFFBQVIsRUFBa0JELGFBQWxCLEVBQWlDaEMsSUFBakMsQ0FBN0I7O0FBR0EsZ0JBQUl2QixjQUFjLENBQUMsU0FBRCxDQUFsQixFQUErQjtBQUM3QnlELGNBQUFBLGdCQUFnQixHQUFHQyxjQUFuQjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxZQUFJLENBQUNELGdCQUFMLEVBQXVCO0FBRXJCUCxVQUFBQSxRQUFRLENBQUNJLFVBQVUsQ0FBQ0ssTUFBWCxDQUFrQnBDLElBQWxCLEVBQXdCaUMsUUFBeEIsQ0FBRCxDQUFSOztBQUVBLGNBQUlGLFVBQVUsQ0FBQ00sYUFBZixFQUE4QjtBQUM1Qk4sWUFBQUEsVUFBVSxDQUFDTSxhQUFYLENBQXlCckMsSUFBekIsRUFBK0JpQyxRQUEvQixFQUF5QyxRQUF6QztBQUNEO0FBQ0Y7QUFDRixPQS9DRDs7QUFpREF4QixNQUFBQSxLQUFLLENBQUM2QixXQUFOLEdBQW9CLFVBQVVyRCxLQUFWLEVBQWlCO0FBQ25DLFlBQUlzRCxZQUFZLEdBQUc5QixLQUFLLENBQUNhLEtBQXpCO0FBQUEsWUFDSXRCLElBQUksR0FBR3VDLFlBQVksQ0FBQ3ZDLElBRHhCO0FBQUEsWUFFSTJCLFFBQVEsR0FBR1ksWUFBWSxDQUFDWixRQUY1QjtBQUFBLFlBR0lhLE9BQU8sR0FBR0QsWUFBWSxDQUFDQyxPQUgzQjtBQUFBLFlBSUlULFVBQVUsR0FBR1EsWUFBWSxDQUFDUixVQUo5QjtBQUtBLFlBQUlHLGdCQUFnQixHQUFHLEtBQXZCOztBQUVBLFlBQUlNLE9BQUosRUFBYTtBQUNYLGNBQUksQ0FBQy9ELGNBQWMsQ0FBQyxTQUFELENBQW5CLEVBQWdDO0FBQzlCK0QsWUFBQUEsT0FBTyxDQUFDLENBQUMsR0FBR3hFLFNBQVMsQ0FBQyxTQUFELENBQWIsRUFBMEIsRUFBMUIsRUFBOEJpQixLQUE5QixFQUFxQztBQUMzQ0MsY0FBQUEsY0FBYyxFQUFFLFNBQVNBLGNBQVQsR0FBMEI7QUFDeENnRCxnQkFBQUEsZ0JBQWdCLEdBQUcsSUFBbkI7QUFDQSx1QkFBT2xELG1CQUFtQixDQUFDQyxLQUFELENBQTFCO0FBQ0Q7QUFKMEMsYUFBckMsQ0FBRCxFQUtIZSxJQUxHLENBQVA7QUFNRCxXQVBELE1BT087QUFDTGtDLFlBQUFBLGdCQUFnQixHQUFHTSxPQUFPLENBQUN2RCxLQUFELEVBQVFlLElBQVIsQ0FBMUI7QUFDRDtBQUNGOztBQUVELFlBQUksQ0FBQ2tDLGdCQUFMLEVBQXVCO0FBQ3JCUCxVQUFBQSxRQUFRLENBQUNJLFVBQVUsQ0FBQ1UsS0FBWCxDQUFpQnpDLElBQWpCLENBQUQsQ0FBUjtBQUNEO0FBQ0YsT0F4QkQ7O0FBMEJBUyxNQUFBQSxLQUFLLENBQUNpQyxVQUFOLEdBQW1CLFVBQVV6RCxLQUFWLEVBQWlCO0FBQ2xDLFlBQUkwRCxZQUFZLEdBQUdsQyxLQUFLLENBQUNhLEtBQXpCO0FBQUEsWUFDSXRCLElBQUksR0FBRzJDLFlBQVksQ0FBQzNDLElBRHhCO0FBQUEsWUFFSTJCLFFBQVEsR0FBR2dCLFlBQVksQ0FBQ2hCLFFBRjVCO0FBQUEsWUFHSUMsS0FBSyxHQUFHZSxZQUFZLENBQUNmLEtBSHpCO0FBQUEsWUFJSUMsU0FBUyxHQUFHYyxZQUFZLENBQUNkLFNBSjdCO0FBQUEsWUFLSWUsTUFBTSxHQUFHRCxZQUFZLENBQUNDLE1BTDFCO0FBQUEsWUFNSWIsVUFBVSxHQUFHWSxZQUFZLENBQUNaLFVBTjlCO0FBQUEsWUFPSWMsTUFBTSxHQUFHRixZQUFZLENBQUNFLE1BUDFCO0FBQUEsWUFRSWIsYUFBYSxHQUFHVyxZQUFZLENBQUNuRCxLQVJqQztBQVNBLFlBQUl5QyxRQUFRLEdBQUcsQ0FBQyxHQUFHM0QsY0FBYyxDQUFDLFNBQUQsQ0FBbEIsRUFBK0JXLEtBQS9CLEVBQXNDO0FBQ25EZSxVQUFBQSxJQUFJLEVBQUVBLElBRDZDO0FBRW5ENEIsVUFBQUEsS0FBSyxFQUFFQSxLQUY0QztBQUduREMsVUFBQUEsU0FBUyxFQUFFQTtBQUh3QyxTQUF0QyxDQUFmOztBQU9BLFlBQUlJLFFBQVEsS0FBS1ksTUFBYixJQUF1QkEsTUFBTSxLQUFLQyxTQUF0QyxFQUFpRDtBQUMvQ2IsVUFBQUEsUUFBUSxHQUFHRCxhQUFYO0FBQ0Q7O0FBRUQsWUFBSUUsZ0JBQWdCLEdBQUcsS0FBdkI7O0FBRUEsWUFBSVUsTUFBSixFQUFZO0FBQ1YsY0FBSSxDQUFDbkUsY0FBYyxDQUFDLFNBQUQsQ0FBbkIsRUFBZ0M7QUFDOUJtRSxZQUFBQSxNQUFNLENBQUMsQ0FBQyxHQUFHNUUsU0FBUyxDQUFDLFNBQUQsQ0FBYixFQUEwQixFQUExQixFQUE4QmlCLEtBQTlCLEVBQXFDO0FBQzFDQyxjQUFBQSxjQUFjLEVBQUUsU0FBU0EsY0FBVCxHQUEwQjtBQUN4Q2dELGdCQUFBQSxnQkFBZ0IsR0FBRyxJQUFuQjtBQUNBLHVCQUFPbEQsbUJBQW1CLENBQUNDLEtBQUQsQ0FBMUI7QUFDRDtBQUp5QyxhQUFyQyxDQUFELEVBS0ZnRCxRQUxFLEVBS1FELGFBTFIsRUFLdUJoQyxJQUx2QixDQUFOO0FBTUQsV0FQRCxNQU9PO0FBQ0xrQyxZQUFBQSxnQkFBZ0IsR0FBR1UsTUFBTSxDQUFDM0QsS0FBRCxFQUFRZ0QsUUFBUixFQUFrQkQsYUFBbEIsRUFBaUNoQyxJQUFqQyxDQUF6QjtBQUNEO0FBQ0Y7O0FBRUQsWUFBSSxDQUFDa0MsZ0JBQUwsRUFBdUI7QUFFckJQLFVBQUFBLFFBQVEsQ0FBQ0ksVUFBVSxDQUFDZ0IsSUFBWCxDQUFnQi9DLElBQWhCLEVBQXNCaUMsUUFBdEIsQ0FBRCxDQUFSOztBQUVBLGNBQUlGLFVBQVUsQ0FBQ00sYUFBZixFQUE4QjtBQUM1Qk4sWUFBQUEsVUFBVSxDQUFDTSxhQUFYLENBQXlCckMsSUFBekIsRUFBK0JpQyxRQUEvQixFQUF5QyxNQUF6QztBQUNEO0FBQ0Y7QUFDRixPQTVDRDs7QUE4Q0F4QixNQUFBQSxLQUFLLENBQUN1QyxlQUFOLEdBQXdCLFVBQVUvRCxLQUFWLEVBQWlCO0FBQ3ZDLFlBQUlnRSxZQUFZLEdBQUd4QyxLQUFLLENBQUNhLEtBQXpCO0FBQUEsWUFDSXRCLElBQUksR0FBR2lELFlBQVksQ0FBQ2pELElBRHhCO0FBQUEsWUFFSWtELFdBQVcsR0FBR0QsWUFBWSxDQUFDQyxXQUYvQjtBQUFBLFlBR0kxRCxLQUFLLEdBQUd5RCxZQUFZLENBQUN6RCxLQUh6QjtBQUlBRCxRQUFBQSx3QkFBd0IsQ0FBQ04sS0FBRCxFQUFRVixZQUFZLENBQUM0RSxPQUFyQixFQUE4QjNELEtBQUssSUFBSSxJQUFULEdBQWdCLEVBQWhCLEdBQXFCQSxLQUFuRCxDQUF4Qjs7QUFFQSxZQUFJMEQsV0FBSixFQUFpQjtBQUNmQSxVQUFBQSxXQUFXLENBQUNqRSxLQUFELEVBQVFlLElBQVIsQ0FBWDtBQUNEO0FBQ0YsT0FWRDs7QUFZQVMsTUFBQUEsS0FBSyxDQUFDMkMsVUFBTixHQUFtQixVQUFVbkUsS0FBVixFQUFpQjtBQUNsQyxZQUFJb0UsWUFBWSxHQUFHNUMsS0FBSyxDQUFDYSxLQUF6QjtBQUFBLFlBQ0l0QixJQUFJLEdBQUdxRCxZQUFZLENBQUNyRCxJQUR4QjtBQUFBLFlBRUkyQixRQUFRLEdBQUcwQixZQUFZLENBQUMxQixRQUY1QjtBQUFBLFlBR0kyQixNQUFNLEdBQUdELFlBQVksQ0FBQ0MsTUFIMUI7QUFBQSxZQUlJdkIsVUFBVSxHQUFHc0IsWUFBWSxDQUFDdEIsVUFKOUI7QUFBQSxZQUtJQyxhQUFhLEdBQUdxQixZQUFZLENBQUM3RCxLQUxqQztBQU1BLFlBQUl5QyxRQUFRLEdBQUc5Qyx3QkFBd0IsQ0FBQ0YsS0FBRCxFQUFRVixZQUFZLENBQUM0RSxPQUFyQixDQUF2QztBQUNBLFlBQUlqQixnQkFBZ0IsR0FBRyxLQUF2Qjs7QUFFQSxZQUFJb0IsTUFBSixFQUFZO0FBQ1ZBLFVBQUFBLE1BQU0sQ0FBQyxDQUFDLEdBQUd0RixTQUFTLENBQUMsU0FBRCxDQUFiLEVBQTBCLEVBQTFCLEVBQThCaUIsS0FBOUIsRUFBcUM7QUFDMUNDLFlBQUFBLGNBQWMsRUFBRSxTQUFTQSxjQUFULEdBQTBCO0FBQ3hDZ0QsY0FBQUEsZ0JBQWdCLEdBQUcsSUFBbkI7QUFDQSxxQkFBT2xELG1CQUFtQixDQUFDQyxLQUFELENBQTFCO0FBQ0Q7QUFKeUMsV0FBckMsQ0FBRCxFQUtGZ0QsUUFMRSxFQUtRRCxhQUxSLEVBS3VCaEMsSUFMdkIsQ0FBTjtBQU1EOztBQUVELFlBQUksQ0FBQ2tDLGdCQUFMLEVBQXVCO0FBRXJCUCxVQUFBQSxRQUFRLENBQUNJLFVBQVUsQ0FBQ0ssTUFBWCxDQUFrQnBDLElBQWxCLEVBQXdCaUMsUUFBeEIsQ0FBRCxDQUFSO0FBQ0FqRCxVQUFBQSxtQkFBbUIsQ0FBQ0MsS0FBRCxDQUFuQjtBQUNEO0FBQ0YsT0F4QkQ7O0FBMEJBLGFBQU93QixLQUFQO0FBQ0Q7O0FBRUQsUUFBSThDLE1BQU0sR0FBR2hELGNBQWMsQ0FBQ2lELFNBQTVCOztBQUVBRCxJQUFBQSxNQUFNLENBQUNFLHFCQUFQLEdBQStCLFNBQVNBLHFCQUFULENBQStCQyxTQUEvQixFQUEwQztBQUN2RSxVQUFJQyxNQUFNLEdBQUcsSUFBYjs7QUFFQSxVQUFJQyxhQUFhLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSixTQUFaLENBQXBCO0FBQ0EsVUFBSUssYUFBYSxHQUFHRixNQUFNLENBQUNDLElBQVAsQ0FBWSxLQUFLeEMsS0FBakIsQ0FBcEI7QUFHQSxhQUFPLENBQUMsRUFBRSxLQUFLQSxLQUFMLENBQVcwQyxRQUFYLElBQXVCTixTQUFTLENBQUNNLFFBQWpDLElBQTZDSixhQUFhLENBQUNoRCxNQUFkLEtBQXlCbUQsYUFBYSxDQUFDbkQsTUFBcEYsSUFBOEZnRCxhQUFhLENBQUNLLElBQWQsQ0FBbUIsVUFBVUMsSUFBVixFQUFnQjtBQUN6SSxZQUFJLENBQUMsQ0FBQ1IsU0FBUyxDQUFDUyxjQUFWLElBQTRCLEVBQTdCLEVBQWlDQyxPQUFqQyxDQUF5Q0YsSUFBekMsQ0FBTCxFQUFxRDtBQUNuRCxpQkFBT1AsTUFBTSxDQUFDckMsS0FBUCxDQUFhNEMsSUFBYixNQUF1QlIsU0FBUyxDQUFDUSxJQUFELENBQXZDO0FBQ0Q7O0FBRUQsZUFBTyxDQUFDLENBQUN0RixtQkFBbUIsQ0FBQ3dGLE9BQXBCLENBQTRCRixJQUE1QixDQUFGLElBQXVDLENBQUN0RSxTQUFTLENBQUMrRCxNQUFNLENBQUNyQyxLQUFQLENBQWE0QyxJQUFiLENBQUQsRUFBcUJSLFNBQVMsQ0FBQ1EsSUFBRCxDQUE5QixDQUF4RDtBQUNELE9BTnVHLENBQWhHLENBQVI7QUFPRCxLQWREOztBQWdCQVgsSUFBQUEsTUFBTSxDQUFDYyxvQkFBUCxHQUE4QixTQUFTQSxvQkFBVCxHQUFnQztBQUM1RCxhQUFPLEtBQUtsRCxHQUFMLENBQVNtRCxPQUFoQjtBQUNELEtBRkQ7O0FBSUFmLElBQUFBLE1BQU0sQ0FBQ2dCLE1BQVAsR0FBZ0IsU0FBU0EsTUFBVCxHQUFrQjtBQUNoQyxVQUFJQyxZQUFZLEdBQUcsS0FBS2xELEtBQXhCO0FBQUEsVUFDSW1ELFNBQVMsR0FBR0QsWUFBWSxDQUFDQyxTQUQ3QjtBQUFBLFVBRUlDLFVBQVUsR0FBR0YsWUFBWSxDQUFDRSxVQUY5QjtBQUFBLFVBR0kxRSxJQUFJLEdBQUd3RSxZQUFZLENBQUN4RSxJQUh4QjtBQUFBLFVBSUkrQixVQUFVLEdBQUd5QyxZQUFZLENBQUN6QyxVQUo5QjtBQUFBLFVBS0lGLFNBQVMsR0FBRzJDLFlBQVksQ0FBQzNDLFNBTDdCO0FBQUEsVUFNSWUsTUFBTSxHQUFHNEIsWUFBWSxDQUFDNUIsTUFOMUI7QUFBQSxVQU9JZCxRQUFRLEdBQUcwQyxZQUFZLENBQUMxQyxRQVA1QjtBQUFBLFVBUUlVLE9BQU8sR0FBR2dDLFlBQVksQ0FBQ2hDLE9BUjNCO0FBQUEsVUFTSVUsV0FBVyxHQUFHc0IsWUFBWSxDQUFDdEIsV0FUL0I7QUFBQSxVQVVJSSxNQUFNLEdBQUdrQixZQUFZLENBQUNsQixNQVYxQjtBQUFBLFVBV0lhLGNBQWMsR0FBR0ssWUFBWSxDQUFDTCxjQVhsQztBQUFBLFVBWUlRLElBQUksR0FBRyxDQUFDLEdBQUc1Ryw4QkFBOEIsQ0FBQyxTQUFELENBQWxDLEVBQStDeUcsWUFBL0MsRUFBNkQsQ0FBQyxXQUFELEVBQWMsWUFBZCxFQUE0QixNQUE1QixFQUFvQyxZQUFwQyxFQUFrRCxXQUFsRCxFQUErRCxRQUEvRCxFQUF5RSxVQUF6RSxFQUFxRixTQUFyRixFQUFnRyxhQUFoRyxFQUErRyxRQUEvRyxFQUF5SCxnQkFBekgsQ0FBN0QsQ0FaWDs7QUFjQSxVQUFJSSxpQkFBaUIsR0FBRyxDQUFDLEdBQUd2RyxrQkFBa0IsQ0FBQyxTQUFELENBQXRCLEVBQW1Dc0IsU0FBbkMsRUFBOENLLElBQTlDLEVBQW9ELENBQUMsR0FBR2hDLFNBQVMsQ0FBQyxTQUFELENBQWIsRUFBMEIsRUFBMUIsRUFBOEIyRyxJQUE5QixFQUFvQztBQUM5R0UsUUFBQUEsSUFBSSxFQUFFOUMsVUFBVSxDQUFDOEMsSUFENkY7QUFFOUdqQyxRQUFBQSxNQUFNLEVBQUUsS0FBS0YsVUFGaUc7QUFHOUdaLFFBQUFBLFFBQVEsRUFBRSxLQUFLTCxZQUgrRjtBQUk5RzZCLFFBQUFBLE1BQU0sRUFBRSxLQUFLRixVQUppRztBQUs5R0YsUUFBQUEsV0FBVyxFQUFFLEtBQUtGLGVBTDRGO0FBTTlHUixRQUFBQSxPQUFPLEVBQUUsS0FBS0Y7QUFOZ0csT0FBcEMsQ0FBcEQsQ0FBeEI7QUFBQSxVQVFJd0MsTUFBTSxHQUFHRixpQkFBaUIsQ0FBQ0UsTUFSL0I7QUFBQSxVQVNJeEQsS0FBSyxHQUFHLENBQUMsR0FBR3ZELDhCQUE4QixDQUFDLFNBQUQsQ0FBbEMsRUFBK0M2RyxpQkFBL0MsRUFBa0UsQ0FBQyxRQUFELENBQWxFLENBVFo7O0FBV0EsVUFBSUYsVUFBSixFQUFnQjtBQUNkSSxRQUFBQSxNQUFNLENBQUMzRCxHQUFQLEdBQWEsS0FBS0EsR0FBbEI7QUFDRDs7QUFFRCxVQUFJLE9BQU9zRCxTQUFQLEtBQXFCLFFBQXpCLEVBQW1DO0FBQ2pDLFlBQUlNLEtBQUssR0FBR3pELEtBQUssQ0FBQ3lELEtBQWxCO0FBQUEsWUFDSUMsSUFBSSxHQUFHMUQsS0FBSyxDQUFDMEQsSUFEakI7QUFJQSxlQUFPLENBQUMsR0FBRzlHLE1BQU0sQ0FBQytHLGFBQVgsRUFBMEJSLFNBQTFCLEVBQXFDLENBQUMsR0FBR3pHLFNBQVMsQ0FBQyxTQUFELENBQWIsRUFBMEIsRUFBMUIsRUFBOEIrRyxLQUE5QixFQUFxQyxFQUFyQyxFQUF5Q0QsTUFBekMsQ0FBckMsQ0FBUDtBQUNELE9BTkQsTUFNTztBQUNMLGVBQU8sQ0FBQyxHQUFHNUcsTUFBTSxDQUFDK0csYUFBWCxFQUEwQlIsU0FBMUIsRUFBcUMsQ0FBQyxHQUFHekcsU0FBUyxDQUFDLFNBQUQsQ0FBYixFQUEwQixFQUExQixFQUE4QnNELEtBQTlCLEVBQXFDLEVBQXJDLEVBQXlDd0QsTUFBekMsQ0FBckMsQ0FBUDtBQUNEO0FBQ0YsS0F2Q0Q7O0FBeUNBLFdBQU92RSxjQUFQO0FBQ0QsR0F2UGlDLENBdVBoQ3JDLE1BQU0sQ0FBQ2dILFNBdlB5QixDQUFsQzs7QUF5UEEzRSxFQUFBQSxjQUFjLENBQUM0RSxTQUFmLEdBQTJCO0FBQ3pCVixJQUFBQSxTQUFTLEVBQUUvRixzQkFBc0IsQ0FBQyxTQUFELENBRFI7QUFFekI0QyxJQUFBQSxLQUFLLEVBQUVuRCxVQUFVLENBQUMsU0FBRCxDQUFWLENBQXNCaUg7QUFGSixHQUEzQjtBQUlBLE1BQUlDLFNBQVMsR0FBRyxDQUFDLEdBQUdqSCxXQUFXLENBQUNrSCxPQUFoQixFQUF5QixVQUFVQyxLQUFWLEVBQWlCQyxRQUFqQixFQUEyQjtBQUNsRSxRQUFJeEYsSUFBSSxHQUFHd0YsUUFBUSxDQUFDeEYsSUFBcEI7QUFBQSxRQUNJeUYsb0JBQW9CLEdBQUdELFFBQVEsQ0FBQ3pELFVBRHBDO0FBQUEsUUFFSTJELGFBQWEsR0FBR0Qsb0JBQW9CLENBQUNDLGFBRnpDO0FBQUEsUUFHSUMsWUFBWSxHQUFHRixvQkFBb0IsQ0FBQ0UsWUFIeEM7QUFJQSxRQUFJQyxTQUFTLEdBQUdELFlBQVksQ0FBQ0osS0FBRCxDQUE1QjtBQUNBLFFBQUlNLFlBQVksR0FBR2hHLEtBQUssQ0FBQytGLFNBQUQsRUFBWSxhQUFhNUYsSUFBekIsQ0FBeEI7QUFDQSxRQUFJOEYsT0FBTyxHQUFHRCxZQUFZLEtBQUsvQyxTQUFqQixHQUE2QitDLFlBQTdCLEdBQTRDSCxhQUFhLElBQUk3RixLQUFLLENBQUM2RixhQUFELEVBQWdCMUYsSUFBaEIsQ0FBaEY7QUFDQSxRQUFJUixLQUFLLEdBQUdLLEtBQUssQ0FBQytGLFNBQUQsRUFBWSxZQUFZNUYsSUFBeEIsQ0FBakI7QUFDQSxRQUFJK0YsVUFBVSxHQUFHbEcsS0FBSyxDQUFDK0YsU0FBRCxFQUFZLFlBQVosQ0FBdEI7QUFDQSxRQUFJSSxTQUFTLEdBQUdsRyxZQUFZLENBQUNELEtBQUssQ0FBQytGLFNBQUQsRUFBWSxZQUFaLENBQU4sRUFBaUM1RixJQUFqQyxDQUE1QjtBQUNBLFFBQUlpRyxXQUFXLEdBQUc5RixjQUFjLENBQUNOLEtBQUssQ0FBQytGLFNBQUQsRUFBWSxjQUFaLENBQU4sRUFBbUM1RixJQUFuQyxDQUFoQztBQUNBLFFBQUl1QixRQUFRLEdBQUczQixTQUFTLENBQUNKLEtBQUQsRUFBUXNHLE9BQVIsQ0FBeEI7QUFDQSxXQUFPO0FBQ0xJLE1BQUFBLFVBQVUsRUFBRXJHLEtBQUssQ0FBQytGLFNBQUQsRUFBWSxpQkFBaUI1RixJQUE3QixDQURaO0FBRUxtRyxNQUFBQSxlQUFlLEVBQUV0RyxLQUFLLENBQUMrRixTQUFELEVBQVksaUJBQVosQ0FBTCxLQUF3QzVGLElBRnBEO0FBR0xvRyxNQUFBQSxLQUFLLEVBQUUsQ0FBQzdFLFFBSEg7QUFJTEEsTUFBQUEsUUFBUSxFQUFFQSxRQUpMO0FBS0xnRSxNQUFBQSxLQUFLLEVBQUUxRixLQUFLLENBQUMrRixTQUFELEVBQVksWUFBWTVGLElBQXhCLENBTFA7QUFNTHFHLE1BQUFBLFdBQVcsRUFBRXhHLEtBQUssQ0FBQytGLFNBQUQsRUFBWSxrQkFBa0I1RixJQUE5QixDQU5iO0FBT0xzRyxNQUFBQSxZQUFZLEVBQUV6RyxLQUFLLENBQUMrRixTQUFELEVBQVksY0FBWixDQVBkO0FBUUxHLE1BQUFBLFVBQVUsRUFBRUEsVUFSUDtBQVNMQyxNQUFBQSxTQUFTLEVBQUVBLFNBVE47QUFVTEMsTUFBQUEsV0FBVyxFQUFFQSxXQVZSO0FBV0xILE1BQUFBLE9BQU8sRUFBRUEsT0FYSjtBQVlMdEcsTUFBQUEsS0FBSyxFQUFFQSxLQVpGO0FBYUxxRCxNQUFBQSxNQUFNLEVBQUUyQyxRQUFRLENBQUNoRztBQWJaLEtBQVA7QUFnQkQsR0E3QmUsRUE2QmJzRCxTQTdCYSxFQTZCRkEsU0E3QkUsRUE2QlM7QUFDdkI0QixJQUFBQSxVQUFVLEVBQUU7QUFEVyxHQTdCVCxDQUFoQjtBQWdDQSxTQUFPVyxTQUFTLENBQUM5RSxjQUFELENBQWhCO0FBQ0Q7O0FBRUQsSUFBSWdHLFFBQVEsR0FBRzdHLG9CQUFmO0FBQ0E3QixPQUFPLENBQUMsU0FBRCxDQUFQLEdBQXFCMEksUUFBckIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHZvaWQgMDtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiKSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xuXG52YXIgX2luaGVyaXRzTG9vc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c0xvb3NlXCIpKTtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3RSZWR1eCA9IHJlcXVpcmUoXCJyZWFjdC1yZWR1eFwiKTtcblxudmFyIF9jcmVhdGVGaWVsZFByb3BzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY3JlYXRlRmllbGRQcm9wc1wiKSk7XG5cbnZhciBfb25DaGFuZ2VWYWx1ZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZXZlbnRzL29uQ2hhbmdlVmFsdWVcIikpO1xuXG52YXIgX2V2ZW50Q29uc3RzID0gcmVxdWlyZShcIi4vdXRpbC9ldmVudENvbnN0c1wiKTtcblxudmFyIF9wbGFpbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc3RydWN0dXJlL3BsYWluXCIpKTtcblxudmFyIF9pc1JlYWN0TmF0aXZlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pc1JlYWN0TmF0aXZlXCIpKTtcblxudmFyIF92YWxpZGF0ZUNvbXBvbmVudFByb3AgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWwvdmFsaWRhdGVDb21wb25lbnRQcm9wXCIpKTtcblxudmFyIF9pc0V2ZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9ldmVudHMvaXNFdmVudFwiKSk7XG5cbnZhciBwcm9wc1RvTm90VXBkYXRlRm9yID0gWydfcmVkdXhGb3JtJ107XG5cbnZhciBpc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KGVudGl0eSkge1xuICByZXR1cm4gZW50aXR5ICYmIHR5cGVvZiBlbnRpdHkgPT09ICdvYmplY3QnO1xufTtcblxudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiBpc0Z1bmN0aW9uKGVudGl0eSkge1xuICByZXR1cm4gZW50aXR5ICYmIHR5cGVvZiBlbnRpdHkgPT09ICdmdW5jdGlvbic7XG59O1xuXG52YXIgZXZlbnRQcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uIGV2ZW50UHJldmVudERlZmF1bHQoZXZlbnQpIHtcbiAgaWYgKGlzT2JqZWN0KGV2ZW50KSAmJiBpc0Z1bmN0aW9uKGV2ZW50LnByZXZlbnREZWZhdWx0KSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn07XG5cbnZhciBldmVudERhdGFUcmFuc2ZlckdldERhdGEgPSBmdW5jdGlvbiBldmVudERhdGFUcmFuc2ZlckdldERhdGEoZXZlbnQsIGtleSkge1xuICBpZiAoaXNPYmplY3QoZXZlbnQpICYmIGlzT2JqZWN0KGV2ZW50LmRhdGFUcmFuc2ZlcikgJiYgaXNGdW5jdGlvbihldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YSkpIHtcbiAgICByZXR1cm4gZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoa2V5KTtcbiAgfVxufTtcblxudmFyIGV2ZW50RGF0YVRyYW5zZmVyU2V0RGF0YSA9IGZ1bmN0aW9uIGV2ZW50RGF0YVRyYW5zZmVyU2V0RGF0YShldmVudCwga2V5LCB2YWx1ZSkge1xuICBpZiAoaXNPYmplY3QoZXZlbnQpICYmIGlzT2JqZWN0KGV2ZW50LmRhdGFUcmFuc2ZlcikgJiYgaXNGdW5jdGlvbihldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSkpIHtcbiAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YShrZXksIHZhbHVlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY3JlYXRlQ29ubmVjdGVkRmllbGQoc3RydWN0dXJlKSB7XG4gIHZhciBkZWVwRXF1YWwgPSBzdHJ1Y3R1cmUuZGVlcEVxdWFsLFxuICAgICAgZ2V0SW4gPSBzdHJ1Y3R1cmUuZ2V0SW47XG5cbiAgdmFyIGdldFN5bmNFcnJvciA9IGZ1bmN0aW9uIGdldFN5bmNFcnJvcihzeW5jRXJyb3JzLCBuYW1lKSB7XG4gICAgdmFyIGVycm9yID0gX3BsYWluW1wiZGVmYXVsdFwiXS5nZXRJbihzeW5jRXJyb3JzLCBuYW1lKTsgLy8gQmVjYXVzZSB0aGUgZXJyb3IgZm9yIHRoaXMgZmllbGQgbWlnaHQgbm90IGJlIGF0IGEgbGV2ZWwgaW4gdGhlIGVycm9yIHN0cnVjdHVyZSB3aGVyZVxuICAgIC8vIGl0IGNhbiBiZSBzZXQgZGlyZWN0bHksIGl0IG1pZ2h0IG5lZWQgdG8gYmUgdW53cmFwcGVkIGZyb20gdGhlIF9lcnJvciBwcm9wZXJ0eVxuXG5cbiAgICByZXR1cm4gZXJyb3IgJiYgZXJyb3IuX2Vycm9yID8gZXJyb3IuX2Vycm9yIDogZXJyb3I7XG4gIH07XG5cbiAgdmFyIGdldFN5bmNXYXJuaW5nID0gZnVuY3Rpb24gZ2V0U3luY1dhcm5pbmcoc3luY1dhcm5pbmdzLCBuYW1lKSB7XG4gICAgdmFyIHdhcm5pbmcgPSBnZXRJbihzeW5jV2FybmluZ3MsIG5hbWUpOyAvLyBCZWNhdXNlIHRoZSB3YXJuaW5nIGZvciB0aGlzIGZpZWxkIG1pZ2h0IG5vdCBiZSBhdCBhIGxldmVsIGluIHRoZSB3YXJuaW5nIHN0cnVjdHVyZSB3aGVyZVxuICAgIC8vIGl0IGNhbiBiZSBzZXQgZGlyZWN0bHksIGl0IG1pZ2h0IG5lZWQgdG8gYmUgdW53cmFwcGVkIGZyb20gdGhlIF93YXJuaW5nIHByb3BlcnR5XG5cbiAgICByZXR1cm4gd2FybmluZyAmJiB3YXJuaW5nLl93YXJuaW5nID8gd2FybmluZy5fd2FybmluZyA6IHdhcm5pbmc7XG4gIH07XG5cbiAgdmFyIENvbm5lY3RlZEZpZWxkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0c0xvb3NlMltcImRlZmF1bHRcIl0pKENvbm5lY3RlZEZpZWxkLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIENvbm5lY3RlZEZpZWxkKCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICAgIF90aGlzLnJlZiA9IF9yZWFjdFtcImRlZmF1bHRcIl0uY3JlYXRlUmVmKCk7XG5cbiAgICAgIF90aGlzLmlzUHJpc3RpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5wcmlzdGluZTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMudmFsdWU7XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICBuYW1lID0gX3RoaXMkcHJvcHMubmFtZSxcbiAgICAgICAgICAgIGRpc3BhdGNoID0gX3RoaXMkcHJvcHMuZGlzcGF0Y2gsXG4gICAgICAgICAgICBwYXJzZSA9IF90aGlzJHByb3BzLnBhcnNlLFxuICAgICAgICAgICAgbm9ybWFsaXplID0gX3RoaXMkcHJvcHMubm9ybWFsaXplLFxuICAgICAgICAgICAgb25DaGFuZ2UgPSBfdGhpcyRwcm9wcy5vbkNoYW5nZSxcbiAgICAgICAgICAgIF9yZWR1eEZvcm0gPSBfdGhpcyRwcm9wcy5fcmVkdXhGb3JtLFxuICAgICAgICAgICAgcHJldmlvdXNWYWx1ZSA9IF90aGlzJHByb3BzLnZhbHVlO1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSAoMCwgX29uQ2hhbmdlVmFsdWVbXCJkZWZhdWx0XCJdKShldmVudCwge1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgcGFyc2U6IHBhcnNlLFxuICAgICAgICAgIG5vcm1hbGl6ZTogbm9ybWFsaXplXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgIC8vIENhbid0IHNlZW0gdG8gZmluZCBhIHdheSB0byBleHRlbmQgRXZlbnQgaW4gUmVhY3QgTmF0aXZlLFxuICAgICAgICAgIC8vIHRodXMgSSBzaW1wbHkgYXZvaWQgYWRkaW5nIHByZXZlbnREZWZhdWx0KCkgaW4gYSBSTiBlbnZpcm9ubWVudFxuICAgICAgICAgIC8vIHRvIHByZXZlbnQgdGhlIGZvbGxvd2luZyBlcnJvcjpcbiAgICAgICAgICAvLyBgT25lIG9mIHRoZSBzb3VyY2VzIGZvciBhc3NpZ24gaGFzIGFuIGVudW1lcmFibGUga2V5IG9uIHRoZSBwcm90b3R5cGUgY2hhaW5gXG4gICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL2lzc3Vlcy81NTA3XG4gICAgICAgICAgaWYgKCFfaXNSZWFjdE5hdGl2ZVtcImRlZmF1bHRcIl0gJiYgKDAsIF9pc0V2ZW50W1wiZGVmYXVsdFwiXSkoZXZlbnQpKSB7XG4gICAgICAgICAgICBvbkNoYW5nZSgoMCwgX2V4dGVuZHMyW1wiZGVmYXVsdFwiXSkoe30sIGV2ZW50LCB7XG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRQcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCBuZXdWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgbmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBvbkNoYW5nZVJlc3VsdCA9IG9uQ2hhbmdlKGV2ZW50LCBuZXdWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgbmFtZSk7IC8vIFJldHVybiB2YWx1ZSBvZiBjaGFuZ2UgaGFuZGxlciBhZmZlY3RpbmcgcHJldmVudERlZmF1bHQgaXMgUk5cbiAgICAgICAgICAgIC8vIHNwZWNpZmljIGJlaGF2aW9yLlxuXG4gICAgICAgICAgICBpZiAoX2lzUmVhY3ROYXRpdmVbXCJkZWZhdWx0XCJdKSB7XG4gICAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSBvbkNoYW5nZVJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAvLyBkaXNwYXRjaCBjaGFuZ2UgYWN0aW9uXG4gICAgICAgICAgZGlzcGF0Y2goX3JlZHV4Rm9ybS5jaGFuZ2UobmFtZSwgbmV3VmFsdWUpKTsgLy8gY2FsbCBwb3N0LWNoYW5nZSBjYWxsYmFja1xuXG4gICAgICAgICAgaWYgKF9yZWR1eEZvcm0uYXN5bmNWYWxpZGF0ZSkge1xuICAgICAgICAgICAgX3JlZHV4Rm9ybS5hc3luY1ZhbGlkYXRlKG5hbWUsIG5ld1ZhbHVlLCAnY2hhbmdlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICBuYW1lID0gX3RoaXMkcHJvcHMyLm5hbWUsXG4gICAgICAgICAgICBkaXNwYXRjaCA9IF90aGlzJHByb3BzMi5kaXNwYXRjaCxcbiAgICAgICAgICAgIG9uRm9jdXMgPSBfdGhpcyRwcm9wczIub25Gb2N1cyxcbiAgICAgICAgICAgIF9yZWR1eEZvcm0gPSBfdGhpcyRwcm9wczIuX3JlZHV4Rm9ybTtcbiAgICAgICAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAob25Gb2N1cykge1xuICAgICAgICAgIGlmICghX2lzUmVhY3ROYXRpdmVbXCJkZWZhdWx0XCJdKSB7XG4gICAgICAgICAgICBvbkZvY3VzKCgwLCBfZXh0ZW5kczJbXCJkZWZhdWx0XCJdKSh7fSwgZXZlbnQsIHtcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudFByZXZlbnREZWZhdWx0KGV2ZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIG5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkID0gb25Gb2N1cyhldmVudCwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgZGlzcGF0Y2goX3JlZHV4Rm9ybS5mb2N1cyhuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgbmFtZSA9IF90aGlzJHByb3BzMy5uYW1lLFxuICAgICAgICAgICAgZGlzcGF0Y2ggPSBfdGhpcyRwcm9wczMuZGlzcGF0Y2gsXG4gICAgICAgICAgICBwYXJzZSA9IF90aGlzJHByb3BzMy5wYXJzZSxcbiAgICAgICAgICAgIG5vcm1hbGl6ZSA9IF90aGlzJHByb3BzMy5ub3JtYWxpemUsXG4gICAgICAgICAgICBvbkJsdXIgPSBfdGhpcyRwcm9wczMub25CbHVyLFxuICAgICAgICAgICAgX3JlZHV4Rm9ybSA9IF90aGlzJHByb3BzMy5fcmVkdXhGb3JtLFxuICAgICAgICAgICAgX3ZhbHVlID0gX3RoaXMkcHJvcHMzLl92YWx1ZSxcbiAgICAgICAgICAgIHByZXZpb3VzVmFsdWUgPSBfdGhpcyRwcm9wczMudmFsdWU7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9ICgwLCBfb25DaGFuZ2VWYWx1ZVtcImRlZmF1bHRcIl0pKGV2ZW50LCB7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBwYXJzZTogcGFyc2UsXG4gICAgICAgICAgbm9ybWFsaXplOiBub3JtYWxpemVcbiAgICAgICAgfSk7IC8vIGZvciBjaGVja2JveCBhbmQgcmFkaW8sIGlmIHRoZSB2YWx1ZSBwcm9wZXJ0eSBvZiBjaGVja2JveCBvciByYWRpbyBlcXVhbHNcbiAgICAgICAgLy8gdGhlIHZhbHVlIHBhc3NlZCBieSBibHVyIGV2ZW50LCB0aGVuIGZpcmUgYmx1ciBhY3Rpb24gd2l0aCBwcmV2aW91c1ZhbHVlLlxuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gX3ZhbHVlICYmIF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBwcmV2aW91c1ZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAob25CbHVyKSB7XG4gICAgICAgICAgaWYgKCFfaXNSZWFjdE5hdGl2ZVtcImRlZmF1bHRcIl0pIHtcbiAgICAgICAgICAgIG9uQmx1cigoMCwgX2V4dGVuZHMyW1wiZGVmYXVsdFwiXSkoe30sIGV2ZW50LCB7XG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRQcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCBuZXdWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgbmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSBvbkJsdXIoZXZlbnQsIG5ld1ZhbHVlLCBwcmV2aW91c1ZhbHVlLCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAvLyBkaXNwYXRjaCBibHVyIGFjdGlvblxuICAgICAgICAgIGRpc3BhdGNoKF9yZWR1eEZvcm0uYmx1cihuYW1lLCBuZXdWYWx1ZSkpOyAvLyBjYWxsIHBvc3QtYmx1ciBjYWxsYmFja1xuXG4gICAgICAgICAgaWYgKF9yZWR1eEZvcm0uYXN5bmNWYWxpZGF0ZSkge1xuICAgICAgICAgICAgX3JlZHV4Rm9ybS5hc3luY1ZhbGlkYXRlKG5hbWUsIG5ld1ZhbHVlLCAnYmx1cicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3RoaXMuaGFuZGxlRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wczQgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wczQubmFtZSxcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0ID0gX3RoaXMkcHJvcHM0Lm9uRHJhZ1N0YXJ0LFxuICAgICAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczQudmFsdWU7XG4gICAgICAgIGV2ZW50RGF0YVRyYW5zZmVyU2V0RGF0YShldmVudCwgX2V2ZW50Q29uc3RzLmRhdGFLZXksIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlKTtcblxuICAgICAgICBpZiAob25EcmFnU3RhcnQpIHtcbiAgICAgICAgICBvbkRyYWdTdGFydChldmVudCwgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF90aGlzLmhhbmRsZURyb3AgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzNSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgbmFtZSA9IF90aGlzJHByb3BzNS5uYW1lLFxuICAgICAgICAgICAgZGlzcGF0Y2ggPSBfdGhpcyRwcm9wczUuZGlzcGF0Y2gsXG4gICAgICAgICAgICBvbkRyb3AgPSBfdGhpcyRwcm9wczUub25Ecm9wLFxuICAgICAgICAgICAgX3JlZHV4Rm9ybSA9IF90aGlzJHByb3BzNS5fcmVkdXhGb3JtLFxuICAgICAgICAgICAgcHJldmlvdXNWYWx1ZSA9IF90aGlzJHByb3BzNS52YWx1ZTtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gZXZlbnREYXRhVHJhbnNmZXJHZXREYXRhKGV2ZW50LCBfZXZlbnRDb25zdHMuZGF0YUtleSk7XG4gICAgICAgIHZhciBkZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKG9uRHJvcCkge1xuICAgICAgICAgIG9uRHJvcCgoMCwgX2V4dGVuZHMyW1wiZGVmYXVsdFwiXSkoe30sIGV2ZW50LCB7XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICByZXR1cm4gZXZlbnRQcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksIG5ld1ZhbHVlLCBwcmV2aW91c1ZhbHVlLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIC8vIGRpc3BhdGNoIGNoYW5nZSBhY3Rpb25cbiAgICAgICAgICBkaXNwYXRjaChfcmVkdXhGb3JtLmNoYW5nZShuYW1lLCBuZXdWYWx1ZSkpO1xuICAgICAgICAgIGV2ZW50UHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IENvbm5lY3RlZEZpZWxkLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG5leHRQcm9wc0tleXMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcHMpO1xuICAgICAgdmFyIHRoaXNQcm9wc0tleXMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzKTsgLy8gaWYgd2UgaGF2ZSBjaGlsZHJlbiwgd2UgTVVTVCB1cGRhdGUgaW4gUmVhY3QgMTZcbiAgICAgIC8vIGh0dHBzOi8vdHdpdHRlci5jb20vZXJpa3Jhcy9zdGF0dXMvOTE1ODY2NTQ0NTU4Nzg4NjA4XG5cbiAgICAgIHJldHVybiAhISh0aGlzLnByb3BzLmNoaWxkcmVuIHx8IG5leHRQcm9wcy5jaGlsZHJlbiB8fCBuZXh0UHJvcHNLZXlzLmxlbmd0aCAhPT0gdGhpc1Byb3BzS2V5cy5sZW5ndGggfHwgbmV4dFByb3BzS2V5cy5zb21lKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIGlmICh+KG5leHRQcm9wcy5pbW11dGFibGVQcm9wcyB8fCBbXSkuaW5kZXhPZihwcm9wKSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIucHJvcHNbcHJvcF0gIT09IG5leHRQcm9wc1twcm9wXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhfnByb3BzVG9Ob3RVcGRhdGVGb3IuaW5kZXhPZihwcm9wKSAmJiAhZGVlcEVxdWFsKF90aGlzMi5wcm9wc1twcm9wXSwgbmV4dFByb3BzW3Byb3BdKTtcbiAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmdldFJlbmRlcmVkQ29tcG9uZW50ID0gZnVuY3Rpb24gZ2V0UmVuZGVyZWRDb21wb25lbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWYuY3VycmVudDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbXBvbmVudCA9IF90aGlzJHByb3BzNi5jb21wb25lbnQsXG4gICAgICAgICAgZm9yd2FyZFJlZiA9IF90aGlzJHByb3BzNi5mb3J3YXJkUmVmLFxuICAgICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wczYubmFtZSxcbiAgICAgICAgICBfcmVkdXhGb3JtID0gX3RoaXMkcHJvcHM2Ll9yZWR1eEZvcm0sXG4gICAgICAgICAgbm9ybWFsaXplID0gX3RoaXMkcHJvcHM2Lm5vcm1hbGl6ZSxcbiAgICAgICAgICBvbkJsdXIgPSBfdGhpcyRwcm9wczYub25CbHVyLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHM2Lm9uQ2hhbmdlLFxuICAgICAgICAgIG9uRm9jdXMgPSBfdGhpcyRwcm9wczYub25Gb2N1cyxcbiAgICAgICAgICBvbkRyYWdTdGFydCA9IF90aGlzJHByb3BzNi5vbkRyYWdTdGFydCxcbiAgICAgICAgICBvbkRyb3AgPSBfdGhpcyRwcm9wczYub25Ecm9wLFxuICAgICAgICAgIGltbXV0YWJsZVByb3BzID0gX3RoaXMkcHJvcHM2LmltbXV0YWJsZVByb3BzLFxuICAgICAgICAgIHJlc3QgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UyW1wiZGVmYXVsdFwiXSkoX3RoaXMkcHJvcHM2LCBbXCJjb21wb25lbnRcIiwgXCJmb3J3YXJkUmVmXCIsIFwibmFtZVwiLCBcIl9yZWR1eEZvcm1cIiwgXCJub3JtYWxpemVcIiwgXCJvbkJsdXJcIiwgXCJvbkNoYW5nZVwiLCBcIm9uRm9jdXNcIiwgXCJvbkRyYWdTdGFydFwiLCBcIm9uRHJvcFwiLCBcImltbXV0YWJsZVByb3BzXCJdKTtcblxuICAgICAgdmFyIF9jcmVhdGVGaWVsZFByb3BzID0gKDAsIF9jcmVhdGVGaWVsZFByb3BzMltcImRlZmF1bHRcIl0pKHN0cnVjdHVyZSwgbmFtZSwgKDAsIF9leHRlbmRzMltcImRlZmF1bHRcIl0pKHt9LCByZXN0LCB7XG4gICAgICAgIGZvcm06IF9yZWR1eEZvcm0uZm9ybSxcbiAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIsXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgb25Ecm9wOiB0aGlzLmhhbmRsZURyb3AsXG4gICAgICAgIG9uRHJhZ1N0YXJ0OiB0aGlzLmhhbmRsZURyYWdTdGFydCxcbiAgICAgICAgb25Gb2N1czogdGhpcy5oYW5kbGVGb2N1c1xuICAgICAgfSkpLFxuICAgICAgICAgIGN1c3RvbSA9IF9jcmVhdGVGaWVsZFByb3BzLmN1c3RvbSxcbiAgICAgICAgICBwcm9wcyA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZTJbXCJkZWZhdWx0XCJdKShfY3JlYXRlRmllbGRQcm9wcywgW1wiY3VzdG9tXCJdKTtcblxuICAgICAgaWYgKGZvcndhcmRSZWYpIHtcbiAgICAgICAgY3VzdG9tLnJlZiA9IHRoaXMucmVmO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gcHJvcHMuaW5wdXQsXG4gICAgICAgICAgICBtZXRhID0gcHJvcHMubWV0YTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICAvLyBmbGF0dGVuIGlucHV0IGludG8gb3RoZXIgcHJvcHNcblxuICAgICAgICByZXR1cm4gKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KShjb21wb25lbnQsICgwLCBfZXh0ZW5kczJbXCJkZWZhdWx0XCJdKSh7fSwgaW5wdXQsIHt9LCBjdXN0b20pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKGNvbXBvbmVudCwgKDAsIF9leHRlbmRzMltcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywge30sIGN1c3RvbSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQ29ubmVjdGVkRmllbGQ7XG4gIH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbiAgQ29ubmVjdGVkRmllbGQucHJvcFR5cGVzID0ge1xuICAgIGNvbXBvbmVudDogX3ZhbGlkYXRlQ29tcG9uZW50UHJvcFtcImRlZmF1bHRcIl0sXG4gICAgcHJvcHM6IF9wcm9wVHlwZXNbXCJkZWZhdWx0XCJdLm9iamVjdFxuICB9O1xuICB2YXIgY29ubmVjdG9yID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKGZ1bmN0aW9uIChzdGF0ZSwgb3duUHJvcHMpIHtcbiAgICB2YXIgbmFtZSA9IG93blByb3BzLm5hbWUsXG4gICAgICAgIF9vd25Qcm9wcyRfcmVkdXhGb3JtID0gb3duUHJvcHMuX3JlZHV4Rm9ybSxcbiAgICAgICAgaW5pdGlhbFZhbHVlcyA9IF9vd25Qcm9wcyRfcmVkdXhGb3JtLmluaXRpYWxWYWx1ZXMsXG4gICAgICAgIGdldEZvcm1TdGF0ZSA9IF9vd25Qcm9wcyRfcmVkdXhGb3JtLmdldEZvcm1TdGF0ZTtcbiAgICB2YXIgZm9ybVN0YXRlID0gZ2V0Rm9ybVN0YXRlKHN0YXRlKTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gZ2V0SW4oZm9ybVN0YXRlLCBcImluaXRpYWwuXCIgKyBuYW1lKTtcbiAgICB2YXIgaW5pdGlhbCA9IGluaXRpYWxTdGF0ZSAhPT0gdW5kZWZpbmVkID8gaW5pdGlhbFN0YXRlIDogaW5pdGlhbFZhbHVlcyAmJiBnZXRJbihpbml0aWFsVmFsdWVzLCBuYW1lKTtcbiAgICB2YXIgdmFsdWUgPSBnZXRJbihmb3JtU3RhdGUsIFwidmFsdWVzLlwiICsgbmFtZSk7XG4gICAgdmFyIHN1Ym1pdHRpbmcgPSBnZXRJbihmb3JtU3RhdGUsICdzdWJtaXR0aW5nJyk7XG4gICAgdmFyIHN5bmNFcnJvciA9IGdldFN5bmNFcnJvcihnZXRJbihmb3JtU3RhdGUsICdzeW5jRXJyb3JzJyksIG5hbWUpO1xuICAgIHZhciBzeW5jV2FybmluZyA9IGdldFN5bmNXYXJuaW5nKGdldEluKGZvcm1TdGF0ZSwgJ3N5bmNXYXJuaW5ncycpLCBuYW1lKTtcbiAgICB2YXIgcHJpc3RpbmUgPSBkZWVwRXF1YWwodmFsdWUsIGluaXRpYWwpO1xuICAgIHJldHVybiB7XG4gICAgICBhc3luY0Vycm9yOiBnZXRJbihmb3JtU3RhdGUsIFwiYXN5bmNFcnJvcnMuXCIgKyBuYW1lKSxcbiAgICAgIGFzeW5jVmFsaWRhdGluZzogZ2V0SW4oZm9ybVN0YXRlLCAnYXN5bmNWYWxpZGF0aW5nJykgPT09IG5hbWUsXG4gICAgICBkaXJ0eTogIXByaXN0aW5lLFxuICAgICAgcHJpc3RpbmU6IHByaXN0aW5lLFxuICAgICAgc3RhdGU6IGdldEluKGZvcm1TdGF0ZSwgXCJmaWVsZHMuXCIgKyBuYW1lKSxcbiAgICAgIHN1Ym1pdEVycm9yOiBnZXRJbihmb3JtU3RhdGUsIFwic3VibWl0RXJyb3JzLlwiICsgbmFtZSksXG4gICAgICBzdWJtaXRGYWlsZWQ6IGdldEluKGZvcm1TdGF0ZSwgJ3N1Ym1pdEZhaWxlZCcpLFxuICAgICAgc3VibWl0dGluZzogc3VibWl0dGluZyxcbiAgICAgIHN5bmNFcnJvcjogc3luY0Vycm9yLFxuICAgICAgc3luY1dhcm5pbmc6IHN5bmNXYXJuaW5nLFxuICAgICAgaW5pdGlhbDogaW5pdGlhbCxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIF92YWx1ZTogb3duUHJvcHMudmFsdWUgLy8gc2F2ZSB2YWx1ZSBwYXNzZWQgaW4gKGZvciByYWRpb3MpXG5cbiAgICB9O1xuICB9LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwge1xuICAgIGZvcndhcmRSZWY6IHRydWVcbiAgfSk7XG4gIHJldHVybiBjb25uZWN0b3IoQ29ubmVjdGVkRmllbGQpO1xufVxuXG52YXIgX2RlZmF1bHQgPSBjcmVhdGVDb25uZWN0ZWRGaWVsZDtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX2RlZmF1bHQ7Il19