{"version":3,"sources":["/Users/anisderbel/Documents/apcgithubissues/src/redux/repo/reducer.ts"],"names":[],"mappings":";;;;;;;;;;;AACA;;AA8BO,IAAM,YAAY,GAAe;AACtC,EAAA,MAAM,EAAE,EAD8B;AAEtC,EAAA,SAAS,EAAE,KAF2B;AAGtC,EAAA,aAAa,EAAE,KAHuB;AAItC,EAAA,KAAK,EAAE,IAJ+B;AAKtC,EAAA,IAAI,EAAE;AALgC,CAAjC;;;AAQP,IAAM,WAAW,GAAwB,SAAnC,WAAmC,GAGzB;AAAA,MAFd,KAEc,uEAFM,YAEN;AAAA,MADd,MACc;;AACd,UAAQ,MAAM,CAAC,IAAf;AACE,SAAK,0BAAiB,eAAtB;AAAuC;AACrC,eAAA,uBAAA,uBAAA,EAAA,EACK,KADL,CAAA,EACU;AACR,UAAA,SAAS,EAAE,IADH;AAER,UAAA,MAAM,EAAE,MAAM,CAAC,OAAP,CAAe,KAAf,KAAyB,IAAzB,GAAgC,EAAhC,GAAqC,KAAK,CAAC,MAF3C;AAGR,UAAA,KAAK,EAAE;AAHC,SADV,CAAA;AAMD;;AACD,SAAK,0BAAiB,uBAAtB;AAA+C;AAC7C,eAAA,uBAAA,uBAAA,EAAA,EACK,KADL,CAAA,EACU;AACR,UAAA,SAAS,EAAE,KADH;AAER,UAAA,KAAK,EAAE,KAFC;AAGR,UAAA,aAAa,EAAE,MAAM,CAAC,OAAP,CAAe,aAHtB;AAIR,UAAA,IAAI,EAAE,MAAM,CAAC,OAAP,CAAe,IAJb;AAKR,UAAA,MAAM,EAAA,uBAAA,uBAAA,EAAA,EACD,KAAK,CAAC,MADL,CAAA,oCAEH,MAAM,CAAC,OAAP,CAAe,IAFZ,EAEmB,MAAM,CAAC,OAAP,CAAe,MAFlC;AALE,SADV,CAAA;AAWD;;AACD,SAAK,0BAAiB,gBAAtB;AAAwC;AACtC,eAAA,uBAAA,uBAAA,EAAA,EACK,KADL,CAAA,EACU;AACR,UAAA,SAAS,EAAE,KADH;AAER,UAAA,KAAK,EAAE,KAFC;AAGR,UAAA,aAAa,EAAE,MAAM,CAAC,OAAP,CAAe,aAHtB;AAIR,UAAA,IAAI,EAAE,MAAM,CAAC,OAAP,CAAe;AAJb,SADV,CAAA;AAOD;;AACD,SAAK,0BAAiB,sBAAtB;AAA8C;AAC5C,eAAA,uBAAA,uBAAA,EAAA,EACK,KADL,CAAA,EACU;AACR,UAAA,SAAS,EAAE,KADH;AAER,UAAA,KAAK,EAAE,MAAM,CAAC;AAFN,SADV,CAAA;AAKD;;AACD;AACE,aAAO,KAAP;AAvCJ;AAyCD,CA7CD;;eA+Ce,W","sourcesContent":["import {AnyAction, Reducer} from 'redux';\nimport {ERepoActionTypes} from './actions';\n\ninterface PaginatedIssue {\n  [key: number]: Array<Issue>;\n}\nexport type IRepoState = {\n  issues: PaginatedIssue;\n  isLoading: boolean;\n  error: string | boolean | null;\n  hasMoreIssues: boolean;\n  page: number;\n};\nexport interface Label {\n  id: number;\n  name: string;\n  color: string;\n}\n\nexport interface Issue {\n  node_id: string;\n  title: string;\n  labels: Array<Label>;\n  user: {login: string};\n  number: number;\n  created_at: string;\n  state: 'open' | 'closed';\n  html_url: string;\n  comments: number;\n}\n\nexport const initialState: IRepoState = {\n  issues: {},\n  isLoading: false,\n  hasMoreIssues: false,\n  error: null,\n  page: 0,\n};\n\nconst formReducer: Reducer<IRepoState> = (\n  state: IRepoState = initialState,\n  action: AnyAction,\n): IRepoState => {\n  switch (action.type) {\n    case ERepoActionTypes.GET_REPO_ISSUES: {\n      return {\n        ...state,\n        isLoading: true,\n        issues: action.payload.reset === true ? {} : state.issues,\n        error: null,\n      };\n    }\n    case ERepoActionTypes.GET_REPO_ISSUES_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        error: false,\n        hasMoreIssues: action.payload.hasMoreIssues,\n        page: action.payload.page,\n        issues: {\n          ...state.issues,\n          [action.payload.page]: action.payload.issues,\n        },\n      };\n    }\n    case ERepoActionTypes.SET_CURRENT_PAGE: {\n      return {\n        ...state,\n        isLoading: false,\n        error: false,\n        hasMoreIssues: action.payload.hasMoreIssues,\n        page: action.payload.page,\n      };\n    }\n    case ERepoActionTypes.GET_REPO_ISSUES_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default formReducer;\n"]}