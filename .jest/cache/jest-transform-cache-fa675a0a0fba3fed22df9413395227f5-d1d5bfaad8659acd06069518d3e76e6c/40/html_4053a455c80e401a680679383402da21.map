{"version":3,"sources":["html.js"],"names":["Object","defineProperty","exports","value","default","printHTMLForWrapper","_instance","_interopRequireDefault","require","_isShallowWrapper","_getConsoleObject","obj","__esModule","consoleObject","noop","mapWrappersHTML","wrapper","getElements","map","node","inst","type","_tag","error","props","_currentElement","children","transformedProps","keys","key","toString","e","stringifiedNode","join","length","debug","replace","html","nodes","reduce","acc","curr","index","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = printHTMLForWrapper;\n\nvar _instance = _interopRequireDefault(require(\"./instance\"));\n\nvar _isShallowWrapper = _interopRequireDefault(require(\"./isShallowWrapper\"));\n\nvar _getConsoleObject = _interopRequireDefault(require(\"./getConsoleObject\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst consoleObject = (0, _getConsoleObject.default)();\n\nconst noop = () => {};\n\nfunction mapWrappersHTML(wrapper) {\n  return wrapper.getElements().map(node => {\n    const inst = (0, _instance.default)(node);\n    const type = node.type || inst._tag;\n    const {\n      error\n    } = consoleObject;\n    consoleObject.error = noop;\n    const {\n      children,\n      ...props\n    } = node.props ? node.props : inst._currentElement.props;\n    consoleObject.error = error;\n    const transformedProps = Object.keys(props).map(key => {\n      try {\n        return `${key}=\"${props[key].toString()}\"`;\n      } catch (e) {\n        return `${key}=\"[object Object]\"`;\n      }\n    });\n    let stringifiedNode = `<${type} ${transformedProps.join(' ')}`;\n\n    if (children) {\n      stringifiedNode += `>[..children..]</${node.type}`;\n    } else {\n      stringifiedNode += '/>';\n    }\n\n    return stringifiedNode;\n  });\n}\n\nfunction printHTMLForWrapper(wrapper) {\n  switch (wrapper.getElements().length) {\n    case 0:\n      {\n        return '[empty set]';\n      }\n\n    case 1:\n      {\n        if ((0, _isShallowWrapper.default)(wrapper)) {\n          // This is used to clean up in any awkward spacing in the debug output.\n          // <div>  <Foo /></div> => <div><Foo /></div>\n          return wrapper.debug().replace(/\\n(\\s*)/g, '');\n        }\n\n        return wrapper.html();\n      }\n\n    default:\n      {\n        const nodes = mapWrappersHTML(wrapper).reduce((acc, curr, index) => `${acc}${index}: ${curr}\\n`, '');\n        return `Multiple nodes found:\\n${nodes}`;\n      }\n  }\n}\n\nmodule.exports = exports.default;"]}