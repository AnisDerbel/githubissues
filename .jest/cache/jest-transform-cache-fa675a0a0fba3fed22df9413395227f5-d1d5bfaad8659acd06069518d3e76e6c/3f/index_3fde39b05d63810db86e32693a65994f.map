{"version":3,"sources":["index.js"],"names":["encode","data","replacer","list","seen","stored","key","value","i","l","seenIndex","get","index","length","proto","Object","prototype","toString","call","set","push","keys","decode","reviver","j","k","exports","stringify","space","arguments","JSON","e","stringifyStrict","parse","hasCircular","test","Map"],"mappings":"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","sourcesContent":["function encode (data, replacer, list, seen) {\n  var stored, key, value, i, l\n  var seenIndex = seen.get(data)\n  if (seenIndex != null) {\n    return seenIndex\n  }\n  var index = list.length\n  var proto = Object.prototype.toString.call(data)\n  if (proto === '[object Object]') {\n    stored = {}\n    seen.set(data, index)\n    list.push(stored)\n    var keys = Object.keys(data)\n    for (i = 0, l = keys.length; i < l; i++) {\n      key = keys[i]\n      value = data[key]\n      if (replacer) value = replacer.call(data, key, value)\n      stored[key] = encode(value, replacer, list, seen)\n    }\n  } else if (proto === '[object Array]') {\n    stored = []\n    seen.set(data, index)\n    list.push(stored)\n    for (i = 0, l = data.length; i < l; i++) {\n      value = data[i]\n      if (replacer) value = replacer.call(data, i, value)\n      stored[i] = encode(value, replacer, list, seen)\n    }\n  } else {\n    list.push(data)\n  }\n  return index\n}\n\nfunction decode (list, reviver) {\n  var i = list.length\n  var j, k, data, key, value, proto\n  while (i--) {\n    data = list[i]\n    proto = Object.prototype.toString.call(data)\n    if (proto === '[object Object]') {\n      var keys = Object.keys(data)\n      for (j = 0, k = keys.length; j < k; j++) {\n        key = keys[j]\n        value = list[data[key]]\n        if (reviver) value = reviver.call(data, key, value)\n        data[key] = value\n      }\n    } else if (proto === '[object Array]') {\n      for (j = 0, k = data.length; j < k; j++) {\n        value = list[data[j]]\n        if (reviver) value = reviver.call(data, j, value)\n        data[j] = value\n      }\n    }\n  }\n}\n\nexports.stringify = function stringify (data, replacer, space) {\n  try {\n    return arguments.length === 1\n      ? JSON.stringify(data)\n      : JSON.stringify(data, replacer, space)\n  } catch (e) {\n    return exports.stringifyStrict(data, replacer, space)\n  }\n}\n\nexports.parse = function parse (data, reviver) {\n  var hasCircular = /^\\s/.test(data)\n  if (!hasCircular) {\n    return arguments.length === 1\n      ? JSON.parse(data)\n      : JSON.parse(data, reviver)\n  } else {\n    var list = JSON.parse(data)\n    decode(list, reviver)\n    return list[0]\n  }\n}\n\nexports.stringifyStrict = function stringifyStrict (data, replacer, space) {\n  var list = []\n  encode(data, replacer, list, new Map())\n  return space\n    ? ' ' + JSON.stringify(list, null, space)\n    : ' ' + JSON.stringify(list)\n}\n"]}