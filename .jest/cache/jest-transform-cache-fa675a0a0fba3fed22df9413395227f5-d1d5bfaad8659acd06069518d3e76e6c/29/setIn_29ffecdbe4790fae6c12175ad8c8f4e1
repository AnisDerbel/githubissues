bac3717dc0485534f360693a79a4f35e
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports["default"] = void 0;

var _extends3 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _toPath2 = _interopRequireDefault(require("lodash/toPath"));

var setInWithPath = function setInWithPath(state, value, path, pathIndex) {
  var _extends2;

  if (pathIndex >= path.length) {
    return value;
  }

  var first = path[pathIndex];
  var firstState = state && (Array.isArray(state) ? state[Number(first)] : state[first]);
  var next = setInWithPath(firstState, value, path, pathIndex + 1);

  if (!state) {
    if (isNaN(first)) {
      var _ref;

      return _ref = {}, _ref[first] = next, _ref;
    }

    var initialized = [];
    initialized[parseInt(first, 10)] = next;
    return initialized;
  }

  if (Array.isArray(state)) {
    var copy = [].concat(state);
    copy[parseInt(first, 10)] = next;
    return copy;
  }

  return (0, _extends3["default"])({}, state, (_extends2 = {}, _extends2[first] = next, _extends2));
};

var setIn = function setIn(state, field, value) {
  return setInWithPath(state, value, (0, _toPath2["default"])(field), 0);
};

var _default = setIn;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldEluLmpzIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZXhwb3J0cyIsIl9fZXNNb2R1bGUiLCJfZXh0ZW5kczMiLCJfdG9QYXRoMiIsInNldEluV2l0aFBhdGgiLCJzdGF0ZSIsInZhbHVlIiwicGF0aCIsInBhdGhJbmRleCIsIl9leHRlbmRzMiIsImxlbmd0aCIsImZpcnN0IiwiZmlyc3RTdGF0ZSIsIkFycmF5IiwiaXNBcnJheSIsIk51bWJlciIsIm5leHQiLCJpc05hTiIsIl9yZWYiLCJpbml0aWFsaXplZCIsInBhcnNlSW50IiwiY29weSIsImNvbmNhdCIsInNldEluIiwiZmllbGQiLCJfZGVmYXVsdCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsc0JBQXNCLEdBQUdDLE9BQU8sQ0FBQyw4Q0FBRCxDQUFwQzs7QUFFQUMsT0FBTyxDQUFDQyxVQUFSLEdBQXFCLElBQXJCO0FBQ0FELE9BQU8sQ0FBQyxTQUFELENBQVAsR0FBcUIsS0FBSyxDQUExQjs7QUFFQSxJQUFJRSxTQUFTLEdBQUdKLHNCQUFzQixDQUFDQyxPQUFPLENBQUMsZ0NBQUQsQ0FBUixDQUF0Qzs7QUFFQSxJQUFJSSxRQUFRLEdBQUdMLHNCQUFzQixDQUFDQyxPQUFPLENBQUMsZUFBRCxDQUFSLENBQXJDOztBQUVBLElBQUlLLGFBQWEsR0FBRyxTQUFTQSxhQUFULENBQXVCQyxLQUF2QixFQUE4QkMsS0FBOUIsRUFBcUNDLElBQXJDLEVBQTJDQyxTQUEzQyxFQUFzRDtBQUN4RSxNQUFJQyxTQUFKOztBQUVBLE1BQUlELFNBQVMsSUFBSUQsSUFBSSxDQUFDRyxNQUF0QixFQUE4QjtBQUM1QixXQUFPSixLQUFQO0FBQ0Q7O0FBRUQsTUFBSUssS0FBSyxHQUFHSixJQUFJLENBQUNDLFNBQUQsQ0FBaEI7QUFDQSxNQUFJSSxVQUFVLEdBQUdQLEtBQUssS0FBS1EsS0FBSyxDQUFDQyxPQUFOLENBQWNULEtBQWQsSUFBdUJBLEtBQUssQ0FBQ1UsTUFBTSxDQUFDSixLQUFELENBQVAsQ0FBNUIsR0FBOENOLEtBQUssQ0FBQ00sS0FBRCxDQUF4RCxDQUF0QjtBQUNBLE1BQUlLLElBQUksR0FBR1osYUFBYSxDQUFDUSxVQUFELEVBQWFOLEtBQWIsRUFBb0JDLElBQXBCLEVBQTBCQyxTQUFTLEdBQUcsQ0FBdEMsQ0FBeEI7O0FBRUEsTUFBSSxDQUFDSCxLQUFMLEVBQVk7QUFDVixRQUFJWSxLQUFLLENBQUNOLEtBQUQsQ0FBVCxFQUFrQjtBQUNoQixVQUFJTyxJQUFKOztBQUVBLGFBQU9BLElBQUksR0FBRyxFQUFQLEVBQVdBLElBQUksQ0FBQ1AsS0FBRCxDQUFKLEdBQWNLLElBQXpCLEVBQStCRSxJQUF0QztBQUNEOztBQUVELFFBQUlDLFdBQVcsR0FBRyxFQUFsQjtBQUNBQSxJQUFBQSxXQUFXLENBQUNDLFFBQVEsQ0FBQ1QsS0FBRCxFQUFRLEVBQVIsQ0FBVCxDQUFYLEdBQW1DSyxJQUFuQztBQUNBLFdBQU9HLFdBQVA7QUFDRDs7QUFFRCxNQUFJTixLQUFLLENBQUNDLE9BQU4sQ0FBY1QsS0FBZCxDQUFKLEVBQTBCO0FBQ3hCLFFBQUlnQixJQUFJLEdBQUcsR0FBR0MsTUFBSCxDQUFVakIsS0FBVixDQUFYO0FBQ0FnQixJQUFBQSxJQUFJLENBQUNELFFBQVEsQ0FBQ1QsS0FBRCxFQUFRLEVBQVIsQ0FBVCxDQUFKLEdBQTRCSyxJQUE1QjtBQUNBLFdBQU9LLElBQVA7QUFDRDs7QUFFRCxTQUFPLENBQUMsR0FBR25CLFNBQVMsQ0FBQyxTQUFELENBQWIsRUFBMEIsRUFBMUIsRUFBOEJHLEtBQTlCLEdBQXNDSSxTQUFTLEdBQUcsRUFBWixFQUFnQkEsU0FBUyxDQUFDRSxLQUFELENBQVQsR0FBbUJLLElBQW5DLEVBQXlDUCxTQUEvRSxFQUFQO0FBQ0QsQ0E5QkQ7O0FBZ0NBLElBQUljLEtBQUssR0FBRyxTQUFTQSxLQUFULENBQWVsQixLQUFmLEVBQXNCbUIsS0FBdEIsRUFBNkJsQixLQUE3QixFQUFvQztBQUM5QyxTQUFPRixhQUFhLENBQUNDLEtBQUQsRUFBUUMsS0FBUixFQUFlLENBQUMsR0FBR0gsUUFBUSxDQUFDLFNBQUQsQ0FBWixFQUF5QnFCLEtBQXpCLENBQWYsRUFBZ0QsQ0FBaEQsQ0FBcEI7QUFDRCxDQUZEOztBQUlBLElBQUlDLFFBQVEsR0FBR0YsS0FBZjtBQUNBdkIsT0FBTyxDQUFDLFNBQUQsQ0FBUCxHQUFxQnlCLFFBQXJCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB2b2lkIDA7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xuXG52YXIgX3RvUGF0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2gvdG9QYXRoXCIpKTtcblxudmFyIHNldEluV2l0aFBhdGggPSBmdW5jdGlvbiBzZXRJbldpdGhQYXRoKHN0YXRlLCB2YWx1ZSwgcGF0aCwgcGF0aEluZGV4KSB7XG4gIHZhciBfZXh0ZW5kczI7XG5cbiAgaWYgKHBhdGhJbmRleCA+PSBwYXRoLmxlbmd0aCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHZhciBmaXJzdCA9IHBhdGhbcGF0aEluZGV4XTtcbiAgdmFyIGZpcnN0U3RhdGUgPSBzdGF0ZSAmJiAoQXJyYXkuaXNBcnJheShzdGF0ZSkgPyBzdGF0ZVtOdW1iZXIoZmlyc3QpXSA6IHN0YXRlW2ZpcnN0XSk7XG4gIHZhciBuZXh0ID0gc2V0SW5XaXRoUGF0aChmaXJzdFN0YXRlLCB2YWx1ZSwgcGF0aCwgcGF0aEluZGV4ICsgMSk7XG5cbiAgaWYgKCFzdGF0ZSkge1xuICAgIGlmIChpc05hTihmaXJzdCkpIHtcbiAgICAgIHZhciBfcmVmO1xuXG4gICAgICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW2ZpcnN0XSA9IG5leHQsIF9yZWY7XG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxpemVkID0gW107XG4gICAgaW5pdGlhbGl6ZWRbcGFyc2VJbnQoZmlyc3QsIDEwKV0gPSBuZXh0O1xuICAgIHJldHVybiBpbml0aWFsaXplZDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHN0YXRlKSkge1xuICAgIHZhciBjb3B5ID0gW10uY29uY2F0KHN0YXRlKTtcbiAgICBjb3B5W3BhcnNlSW50KGZpcnN0LCAxMCldID0gbmV4dDtcbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIHJldHVybiAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHN0YXRlLCAoX2V4dGVuZHMyID0ge30sIF9leHRlbmRzMltmaXJzdF0gPSBuZXh0LCBfZXh0ZW5kczIpKTtcbn07XG5cbnZhciBzZXRJbiA9IGZ1bmN0aW9uIHNldEluKHN0YXRlLCBmaWVsZCwgdmFsdWUpIHtcbiAgcmV0dXJuIHNldEluV2l0aFBhdGgoc3RhdGUsIHZhbHVlLCAoMCwgX3RvUGF0aDJbXCJkZWZhdWx0XCJdKShmaWVsZCksIDApO1xufTtcblxudmFyIF9kZWZhdWx0ID0gc2V0SW47XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyJdfQ==