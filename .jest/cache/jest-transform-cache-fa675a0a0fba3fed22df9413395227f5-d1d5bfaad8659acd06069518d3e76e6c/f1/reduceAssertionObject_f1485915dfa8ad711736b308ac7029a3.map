{"version":3,"sources":["reduceAssertionObject.js"],"names":["Object","defineProperty","exports","value","default","reduceAssertionObject","_deepEqualIdent","_interopRequireDefault","require","obj","__esModule","componentDetails","objectOrKey","potentialValue","matcherDetails","Array","isArray","equals","keys","reduce","prevVal","key","retVal","match","actual","expected","hasOwnProperty","missingKeys","push","pass","unmatchedKeys","module"],"mappings":"AAAA;;;;;;;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,qBAAlB;;AAEA,IAAIC,eAAe,GAAGC,sBAAsB,CAACC,OAAO,CAAC,kBAAD,CAAR,CAA5C;;AAEA,SAASD,sBAAT,CAAgCE,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEL,IAAAA,OAAO,EAAEK;AAAX,GAArC;AAAwD;;AAE/F,SAASJ,qBAAT,CAA+BM,gBAA/B,EAAiDC,WAAjD,EAA8DC,cAA9D,EAA8E;AAC5E,MAAMC,cAAc,GAAG,OAAOF,WAAP,KAAuB,QAAvB,IAAmC,CAACG,KAAK,CAACC,OAAN,CAAcJ,WAAd,CAApC,GAAiEA,WAAjE,qCACpBA,WADoB,EACNC,cADM,CAAvB;AAGA,MAAMI,MAAM,GAAG,QAAQ,KAAKA,MAAb,GAAsB,KAAKA,MAA3B,GAAoCX,eAAe,CAACF,OAAnE;AACA,SAAOJ,MAAM,CAACkB,IAAP,CAAYJ,cAAZ,EAA4BK,MAA5B,CAAmC,UAACC,OAAD,EAAUC,GAAV,EAAkB;AAC1D,QAAMC,MAAM,8BAAQF,OAAR,CAAZ;AAEA,QAAMG,KAAK,GAAGN,MAAM,CAACN,gBAAgB,CAACU,GAAD,CAAjB,EAAwBP,cAAc,CAACO,GAAD,CAAtC,CAApB;AACAC,IAAAA,MAAM,CAACE,MAAP,CAAcH,GAAd,IAAqBV,gBAAgB,CAACU,GAAD,CAArC;AACAC,IAAAA,MAAM,CAACG,QAAP,CAAgBJ,GAAhB,IAAuBP,cAAc,CAACO,GAAD,CAArC;;AAMA,QAAI,CAACV,gBAAgB,CAACe,cAAjB,CAAgCL,GAAhC,CAAL,EAA2C;AACzCC,MAAAA,MAAM,CAACK,WAAP,CAAmBC,IAAnB,CAAwBP,GAAxB;AACAC,MAAAA,MAAM,CAACO,IAAP,GAAc,KAAd;AACA,aAAOP,MAAP;AACD;;AAMD,QAAI,CAACC,KAAL,EAAY;AACVD,MAAAA,MAAM,CAACQ,aAAP,CAAqBF,IAArB,CAA0BP,GAA1B;AACD;;AAOD,QAAIC,MAAM,CAACO,IAAX,EAAiB;AACfP,MAAAA,MAAM,CAACO,IAAP,GAAcN,KAAd;AACD;;AAED,WAAOD,MAAP;AACD,GAnCM,EAmCJ;AACDE,IAAAA,MAAM,EAAE,EADP;AAEDC,IAAAA,QAAQ,EAAE,EAFT;AAGDI,IAAAA,IAAI,EAAE,IAHL;AAIDF,IAAAA,WAAW,EAAE,EAJZ;AAKDG,IAAAA,aAAa,EAAE;AALd,GAnCI,CAAP;AA0CD;;AAEDC,MAAM,CAAC7B,OAAP,GAAiBA,OAAO,CAACE,OAAzB","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = reduceAssertionObject;\n\nvar _deepEqualIdent = _interopRequireDefault(require(\"deep-equal-ident\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction reduceAssertionObject(componentDetails, objectOrKey, potentialValue) {\n  const matcherDetails = typeof objectOrKey === 'object' && !Array.isArray(objectOrKey) ? objectOrKey : {\n    [objectOrKey]: potentialValue\n  };\n  const equals = this && this.equals ? this.equals : _deepEqualIdent.default;\n  return Object.keys(matcherDetails).reduce((prevVal, key) => {\n    const retVal = { ...prevVal\n    };\n    const match = equals(componentDetails[key], matcherDetails[key]);\n    retVal.actual[key] = componentDetails[key];\n    retVal.expected[key] = matcherDetails[key];\n    /*\n     * This check helps us give better error messages when the componentDetails doesnt\n     * include a specific key at all.\n     */\n\n    if (!componentDetails.hasOwnProperty(key)) {\n      retVal.missingKeys.push(key);\n      retVal.pass = false;\n      return retVal;\n    }\n    /*\n     * This is just a list of anything that fails to match.\n     */\n\n\n    if (!match) {\n      retVal.unmatchedKeys.push(key);\n    }\n    /*\n     * We only want to update if it was previous pass.\n     * If one fails, its all a fail\n     */\n\n\n    if (retVal.pass) {\n      retVal.pass = match;\n    }\n\n    return retVal;\n  }, {\n    actual: {},\n    expected: {},\n    pass: true,\n    missingKeys: [],\n    unmatchedKeys: []\n  });\n}\n\nmodule.exports = exports.default;"]}