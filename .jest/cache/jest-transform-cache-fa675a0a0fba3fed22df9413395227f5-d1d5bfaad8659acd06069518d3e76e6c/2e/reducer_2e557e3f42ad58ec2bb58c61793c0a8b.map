{"version":3,"sources":["/Users/anisderbel/Documents/apcgithubissues/src/redux/repo/reducer.ts"],"names":[],"mappings":"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","sourcesContent":["import { AnyAction, Reducer } from 'redux';\nimport { ERepoActionTypes } from './actions';\n\nexport interface PaginatedIssue {\n  [key: number]: Array<Issue>;\n}\nexport type IRepoState = {\n  issues: PaginatedIssue;\n  isLoading: boolean;\n  error: string | boolean | null;\n  hasMoreIssues: boolean;\n  page: number;\n};\nexport interface Label {\n  id: number;\n  name: string;\n  color: string;\n}\n\nexport interface Issue {\n  node_id: string;\n  title: string;\n  labels: Array<Label>;\n  user: { login: string };\n  number: number;\n  created_at: string;\n  state: 'open' | 'closed';\n  html_url: string;\n  comments: number;\n}\n\nexport const initialState: IRepoState = {\n  issues: {},\n  isLoading: false,\n  hasMoreIssues: false,\n  error: null,\n  page: 0,\n};\n\nconst formReducer: Reducer<IRepoState> = (\n  state: IRepoState = initialState,\n  action: AnyAction,\n): IRepoState => {\n  switch (action.type) {\n    case ERepoActionTypes.GET_REPO_ISSUES: {\n      return {\n        ...state,\n        isLoading: true,\n        issues: action.payload.reset === true ? {} : state.issues,\n        error: null,\n      };\n    }\n    case ERepoActionTypes.GET_REPO_ISSUES_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        error: false,\n        hasMoreIssues: action.payload.hasMoreIssues,\n        page: action.payload.page,\n        issues: {\n          ...state.issues,\n          [action.payload.page]: action.payload.issues,\n        },\n      };\n    }\n    case ERepoActionTypes.SET_CURRENT_PAGE: {\n      return {\n        ...state,\n        isLoading: false,\n        error: false,\n        hasMoreIssues: action.payload.hasMoreIssues,\n        page: action.payload.page,\n      };\n    }\n    case ERepoActionTypes.GET_REPO_ISSUES_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default formReducer;\n"]}