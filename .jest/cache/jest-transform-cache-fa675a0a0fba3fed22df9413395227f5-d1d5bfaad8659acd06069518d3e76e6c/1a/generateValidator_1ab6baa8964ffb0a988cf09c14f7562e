225d6383f1b048e59d926d7ad72c9147
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports["default"] = generateValidator;

var _plain = _interopRequireDefault(require("./structure/plain"));

var toArray = function toArray(value) {
  return Array.isArray(value) ? value : [value];
};

var getError = function getError(value, values, props, validators, name) {
  var array = toArray(validators);

  for (var i = 0; i < array.length; i++) {
    var error = array[i](value, values, props, name);

    if (error) {
      return error;
    }
  }
};

function generateValidator(validators, _ref) {
  var getIn = _ref.getIn;
  return function (values, props) {
    var errors = {};
    Object.keys(validators).forEach(function (name) {
      var value = getIn(values, name);
      var error = getError(value, values, props, validators[name], name);

      if (error) {
        errors = _plain["default"].setIn(errors, name, error);
      }
    });
    return errors;
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyYXRlVmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZXhwb3J0cyIsIl9fZXNNb2R1bGUiLCJnZW5lcmF0ZVZhbGlkYXRvciIsIl9wbGFpbiIsInRvQXJyYXkiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImdldEVycm9yIiwidmFsdWVzIiwicHJvcHMiLCJ2YWxpZGF0b3JzIiwibmFtZSIsImFycmF5IiwiaSIsImxlbmd0aCIsImVycm9yIiwiX3JlZiIsImdldEluIiwiZXJyb3JzIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJzZXRJbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsc0JBQXNCLEdBQUdDLE9BQU8sQ0FBQyw4Q0FBRCxDQUFwQzs7QUFFQUMsT0FBTyxDQUFDQyxVQUFSLEdBQXFCLElBQXJCO0FBQ0FELE9BQU8sQ0FBQyxTQUFELENBQVAsR0FBcUJFLGlCQUFyQjs7QUFFQSxJQUFJQyxNQUFNLEdBQUdMLHNCQUFzQixDQUFDQyxPQUFPLENBQUMsbUJBQUQsQ0FBUixDQUFuQzs7QUFFQSxJQUFJSyxPQUFPLEdBQUcsU0FBU0EsT0FBVCxDQUFpQkMsS0FBakIsRUFBd0I7QUFDcEMsU0FBT0MsS0FBSyxDQUFDQyxPQUFOLENBQWNGLEtBQWQsSUFBdUJBLEtBQXZCLEdBQStCLENBQUNBLEtBQUQsQ0FBdEM7QUFDRCxDQUZEOztBQUlBLElBQUlHLFFBQVEsR0FBRyxTQUFTQSxRQUFULENBQWtCSCxLQUFsQixFQUF5QkksTUFBekIsRUFBaUNDLEtBQWpDLEVBQXdDQyxVQUF4QyxFQUFvREMsSUFBcEQsRUFBMEQ7QUFDdkUsTUFBSUMsS0FBSyxHQUFHVCxPQUFPLENBQUNPLFVBQUQsQ0FBbkI7O0FBRUEsT0FBSyxJQUFJRyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHRCxLQUFLLENBQUNFLE1BQTFCLEVBQWtDRCxDQUFDLEVBQW5DLEVBQXVDO0FBQ3JDLFFBQUlFLEtBQUssR0FBR0gsS0FBSyxDQUFDQyxDQUFELENBQUwsQ0FBU1QsS0FBVCxFQUFnQkksTUFBaEIsRUFBd0JDLEtBQXhCLEVBQStCRSxJQUEvQixDQUFaOztBQUVBLFFBQUlJLEtBQUosRUFBVztBQUNULGFBQU9BLEtBQVA7QUFDRDtBQUNGO0FBQ0YsQ0FWRDs7QUFZQSxTQUFTZCxpQkFBVCxDQUEyQlMsVUFBM0IsRUFBdUNNLElBQXZDLEVBQTZDO0FBQzNDLE1BQUlDLEtBQUssR0FBR0QsSUFBSSxDQUFDQyxLQUFqQjtBQUNBLFNBQU8sVUFBVVQsTUFBVixFQUFrQkMsS0FBbEIsRUFBeUI7QUFDOUIsUUFBSVMsTUFBTSxHQUFHLEVBQWI7QUFDQUMsSUFBQUEsTUFBTSxDQUFDQyxJQUFQLENBQVlWLFVBQVosRUFBd0JXLE9BQXhCLENBQWdDLFVBQVVWLElBQVYsRUFBZ0I7QUFDOUMsVUFBSVAsS0FBSyxHQUFHYSxLQUFLLENBQUNULE1BQUQsRUFBU0csSUFBVCxDQUFqQjtBQUNBLFVBQUlJLEtBQUssR0FBR1IsUUFBUSxDQUFDSCxLQUFELEVBQVFJLE1BQVIsRUFBZ0JDLEtBQWhCLEVBQXVCQyxVQUFVLENBQUNDLElBQUQsQ0FBakMsRUFBeUNBLElBQXpDLENBQXBCOztBQUVBLFVBQUlJLEtBQUosRUFBVztBQUNURyxRQUFBQSxNQUFNLEdBQUdoQixNQUFNLENBQUMsU0FBRCxDQUFOLENBQWtCb0IsS0FBbEIsQ0FBd0JKLE1BQXhCLEVBQWdDUCxJQUFoQyxFQUFzQ0ksS0FBdEMsQ0FBVDtBQUNEO0FBQ0YsS0FQRDtBQVFBLFdBQU9HLE1BQVA7QUFDRCxHQVhEO0FBWUQiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGdlbmVyYXRlVmFsaWRhdG9yO1xuXG52YXIgX3BsYWluID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zdHJ1Y3R1cmUvcGxhaW5cIikpO1xuXG52YXIgdG9BcnJheSA9IGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xufTtcblxudmFyIGdldEVycm9yID0gZnVuY3Rpb24gZ2V0RXJyb3IodmFsdWUsIHZhbHVlcywgcHJvcHMsIHZhbGlkYXRvcnMsIG5hbWUpIHtcbiAgdmFyIGFycmF5ID0gdG9BcnJheSh2YWxpZGF0b3JzKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVycm9yID0gYXJyYXlbaV0odmFsdWUsIHZhbHVlcywgcHJvcHMsIG5hbWUpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVZhbGlkYXRvcih2YWxpZGF0b3JzLCBfcmVmKSB7XG4gIHZhciBnZXRJbiA9IF9yZWYuZ2V0SW47XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWVzLCBwcm9wcykge1xuICAgIHZhciBlcnJvcnMgPSB7fTtcbiAgICBPYmplY3Qua2V5cyh2YWxpZGF0b3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRJbih2YWx1ZXMsIG5hbWUpO1xuICAgICAgdmFyIGVycm9yID0gZ2V0RXJyb3IodmFsdWUsIHZhbHVlcywgcHJvcHMsIHZhbGlkYXRvcnNbbmFtZV0sIG5hbWUpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgZXJyb3JzID0gX3BsYWluW1wiZGVmYXVsdFwiXS5zZXRJbihlcnJvcnMsIG5hbWUsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xuICB9O1xufSJdfQ==