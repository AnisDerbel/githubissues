21ba58a28ab89ddac6f45316fb77fc97
'use strict';

var has = require('has');

var GetIntrinsic = require('get-intrinsic');

var $TypeError = GetIntrinsic('%TypeError%');

var Type = require('./Type');

var ToBoolean = require('./ToBoolean');

var IsCallable = require('./IsCallable');

module.exports = function ToPropertyDescriptor(Obj) {
  if (Type(Obj) !== 'Object') {
    throw new $TypeError('ToPropertyDescriptor requires an object');
  }

  var desc = {};

  if (has(Obj, 'enumerable')) {
    desc['[[Enumerable]]'] = ToBoolean(Obj.enumerable);
  }

  if (has(Obj, 'configurable')) {
    desc['[[Configurable]]'] = ToBoolean(Obj.configurable);
  }

  if (has(Obj, 'value')) {
    desc['[[Value]]'] = Obj.value;
  }

  if (has(Obj, 'writable')) {
    desc['[[Writable]]'] = ToBoolean(Obj.writable);
  }

  if (has(Obj, 'get')) {
    var getter = Obj.get;

    if (typeof getter !== 'undefined' && !IsCallable(getter)) {
      throw new $TypeError('getter must be a function');
    }

    desc['[[Get]]'] = getter;
  }

  if (has(Obj, 'set')) {
    var setter = Obj.set;

    if (typeof setter !== 'undefined' && !IsCallable(setter)) {
      throw new $TypeError('setter must be a function');
    }

    desc['[[Set]]'] = setter;
  }

  if ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {
    throw new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');
  }

  return desc;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvUHJvcGVydHlEZXNjcmlwdG9yLmpzIl0sIm5hbWVzIjpbImhhcyIsInJlcXVpcmUiLCJHZXRJbnRyaW5zaWMiLCIkVHlwZUVycm9yIiwiVHlwZSIsIlRvQm9vbGVhbiIsIklzQ2FsbGFibGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiVG9Qcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmoiLCJkZXNjIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInZhbHVlIiwid3JpdGFibGUiLCJnZXR0ZXIiLCJnZXQiLCJzZXR0ZXIiLCJzZXQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBakI7O0FBRUEsSUFBSUMsWUFBWSxHQUFHRCxPQUFPLENBQUMsZUFBRCxDQUExQjs7QUFFQSxJQUFJRSxVQUFVLEdBQUdELFlBQVksQ0FBQyxhQUFELENBQTdCOztBQUVBLElBQUlFLElBQUksR0FBR0gsT0FBTyxDQUFDLFFBQUQsQ0FBbEI7O0FBQ0EsSUFBSUksU0FBUyxHQUFHSixPQUFPLENBQUMsYUFBRCxDQUF2Qjs7QUFDQSxJQUFJSyxVQUFVLEdBQUdMLE9BQU8sQ0FBQyxjQUFELENBQXhCOztBQUlBTSxNQUFNLENBQUNDLE9BQVAsR0FBaUIsU0FBU0Msb0JBQVQsQ0FBOEJDLEdBQTlCLEVBQW1DO0FBQ25ELE1BQUlOLElBQUksQ0FBQ00sR0FBRCxDQUFKLEtBQWMsUUFBbEIsRUFBNEI7QUFDM0IsVUFBTSxJQUFJUCxVQUFKLENBQWUseUNBQWYsQ0FBTjtBQUNBOztBQUVELE1BQUlRLElBQUksR0FBRyxFQUFYOztBQUNBLE1BQUlYLEdBQUcsQ0FBQ1UsR0FBRCxFQUFNLFlBQU4sQ0FBUCxFQUE0QjtBQUMzQkMsSUFBQUEsSUFBSSxDQUFDLGdCQUFELENBQUosR0FBeUJOLFNBQVMsQ0FBQ0ssR0FBRyxDQUFDRSxVQUFMLENBQWxDO0FBQ0E7O0FBQ0QsTUFBSVosR0FBRyxDQUFDVSxHQUFELEVBQU0sY0FBTixDQUFQLEVBQThCO0FBQzdCQyxJQUFBQSxJQUFJLENBQUMsa0JBQUQsQ0FBSixHQUEyQk4sU0FBUyxDQUFDSyxHQUFHLENBQUNHLFlBQUwsQ0FBcEM7QUFDQTs7QUFDRCxNQUFJYixHQUFHLENBQUNVLEdBQUQsRUFBTSxPQUFOLENBQVAsRUFBdUI7QUFDdEJDLElBQUFBLElBQUksQ0FBQyxXQUFELENBQUosR0FBb0JELEdBQUcsQ0FBQ0ksS0FBeEI7QUFDQTs7QUFDRCxNQUFJZCxHQUFHLENBQUNVLEdBQUQsRUFBTSxVQUFOLENBQVAsRUFBMEI7QUFDekJDLElBQUFBLElBQUksQ0FBQyxjQUFELENBQUosR0FBdUJOLFNBQVMsQ0FBQ0ssR0FBRyxDQUFDSyxRQUFMLENBQWhDO0FBQ0E7O0FBQ0QsTUFBSWYsR0FBRyxDQUFDVSxHQUFELEVBQU0sS0FBTixDQUFQLEVBQXFCO0FBQ3BCLFFBQUlNLE1BQU0sR0FBR04sR0FBRyxDQUFDTyxHQUFqQjs7QUFDQSxRQUFJLE9BQU9ELE1BQVAsS0FBa0IsV0FBbEIsSUFBaUMsQ0FBQ1YsVUFBVSxDQUFDVSxNQUFELENBQWhELEVBQTBEO0FBQ3pELFlBQU0sSUFBSWIsVUFBSixDQUFlLDJCQUFmLENBQU47QUFDQTs7QUFDRFEsSUFBQUEsSUFBSSxDQUFDLFNBQUQsQ0FBSixHQUFrQkssTUFBbEI7QUFDQTs7QUFDRCxNQUFJaEIsR0FBRyxDQUFDVSxHQUFELEVBQU0sS0FBTixDQUFQLEVBQXFCO0FBQ3BCLFFBQUlRLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxHQUFqQjs7QUFDQSxRQUFJLE9BQU9ELE1BQVAsS0FBa0IsV0FBbEIsSUFBaUMsQ0FBQ1osVUFBVSxDQUFDWSxNQUFELENBQWhELEVBQTBEO0FBQ3pELFlBQU0sSUFBSWYsVUFBSixDQUFlLDJCQUFmLENBQU47QUFDQTs7QUFDRFEsSUFBQUEsSUFBSSxDQUFDLFNBQUQsQ0FBSixHQUFrQk8sTUFBbEI7QUFDQTs7QUFFRCxNQUFJLENBQUNsQixHQUFHLENBQUNXLElBQUQsRUFBTyxTQUFQLENBQUgsSUFBd0JYLEdBQUcsQ0FBQ1csSUFBRCxFQUFPLFNBQVAsQ0FBNUIsTUFBbURYLEdBQUcsQ0FBQ1csSUFBRCxFQUFPLFdBQVAsQ0FBSCxJQUEwQlgsR0FBRyxDQUFDVyxJQUFELEVBQU8sY0FBUCxDQUFoRixDQUFKLEVBQTZHO0FBQzVHLFVBQU0sSUFBSVIsVUFBSixDQUFlLDhGQUFmLENBQU47QUFDQTs7QUFDRCxTQUFPUSxJQUFQO0FBQ0EsQ0FyQ0QiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSByZXF1aXJlKCdoYXMnKTtcblxudmFyIEdldEludHJpbnNpYyA9IHJlcXVpcmUoJ2dldC1pbnRyaW5zaWMnKTtcblxudmFyICRUeXBlRXJyb3IgPSBHZXRJbnRyaW5zaWMoJyVUeXBlRXJyb3IlJyk7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi9UeXBlJyk7XG52YXIgVG9Cb29sZWFuID0gcmVxdWlyZSgnLi9Ub0Jvb2xlYW4nKTtcbnZhciBJc0NhbGxhYmxlID0gcmVxdWlyZSgnLi9Jc0NhbGxhYmxlJyk7XG5cbi8vIGh0dHBzOi8vMjYyLmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvNS4xLyNzZWMtOC4xMC41XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gVG9Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqKSB7XG5cdGlmIChUeXBlKE9iaikgIT09ICdPYmplY3QnKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ1RvUHJvcGVydHlEZXNjcmlwdG9yIHJlcXVpcmVzIGFuIG9iamVjdCcpO1xuXHR9XG5cblx0dmFyIGRlc2MgPSB7fTtcblx0aWYgKGhhcyhPYmosICdlbnVtZXJhYmxlJykpIHtcblx0XHRkZXNjWydbW0VudW1lcmFibGVdXSddID0gVG9Cb29sZWFuKE9iai5lbnVtZXJhYmxlKTtcblx0fVxuXHRpZiAoaGFzKE9iaiwgJ2NvbmZpZ3VyYWJsZScpKSB7XG5cdFx0ZGVzY1snW1tDb25maWd1cmFibGVdXSddID0gVG9Cb29sZWFuKE9iai5jb25maWd1cmFibGUpO1xuXHR9XG5cdGlmIChoYXMoT2JqLCAndmFsdWUnKSkge1xuXHRcdGRlc2NbJ1tbVmFsdWVdXSddID0gT2JqLnZhbHVlO1xuXHR9XG5cdGlmIChoYXMoT2JqLCAnd3JpdGFibGUnKSkge1xuXHRcdGRlc2NbJ1tbV3JpdGFibGVdXSddID0gVG9Cb29sZWFuKE9iai53cml0YWJsZSk7XG5cdH1cblx0aWYgKGhhcyhPYmosICdnZXQnKSkge1xuXHRcdHZhciBnZXR0ZXIgPSBPYmouZ2V0O1xuXHRcdGlmICh0eXBlb2YgZ2V0dGVyICE9PSAndW5kZWZpbmVkJyAmJiAhSXNDYWxsYWJsZShnZXR0ZXIpKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignZ2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcdH1cblx0XHRkZXNjWydbW0dldF1dJ10gPSBnZXR0ZXI7XG5cdH1cblx0aWYgKGhhcyhPYmosICdzZXQnKSkge1xuXHRcdHZhciBzZXR0ZXIgPSBPYmouc2V0O1xuXHRcdGlmICh0eXBlb2Ygc2V0dGVyICE9PSAndW5kZWZpbmVkJyAmJiAhSXNDYWxsYWJsZShzZXR0ZXIpKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignc2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcdH1cblx0XHRkZXNjWydbW1NldF1dJ10gPSBzZXR0ZXI7XG5cdH1cblxuXHRpZiAoKGhhcyhkZXNjLCAnW1tHZXRdXScpIHx8IGhhcyhkZXNjLCAnW1tTZXRdXScpKSAmJiAoaGFzKGRlc2MsICdbW1ZhbHVlXV0nKSB8fCBoYXMoZGVzYywgJ1tbV3JpdGFibGVdXScpKSkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdJbnZhbGlkIHByb3BlcnR5IGRlc2NyaXB0b3IuIENhbm5vdCBib3RoIHNwZWNpZnkgYWNjZXNzb3JzIGFuZCBhIHZhbHVlIG9yIHdyaXRhYmxlIGF0dHJpYnV0ZScpO1xuXHR9XG5cdHJldHVybiBkZXNjO1xufTtcbiJdfQ==