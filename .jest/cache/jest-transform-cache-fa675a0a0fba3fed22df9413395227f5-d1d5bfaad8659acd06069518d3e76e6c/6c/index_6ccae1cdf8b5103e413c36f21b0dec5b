cff9ede1f676fb5e84a4d6ffead1e2f2
"use strict";

var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  Object.defineProperty(o, k2, {
    enumerable: true,
    get: function get() {
      return m[k];
    }
  });
} : function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  o[k2] = m[k];
});

var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {
  Object.defineProperty(o, "default", {
    enumerable: true,
    value: v
  });
} : function (o, v) {
  o["default"] = v;
});

var __importStar = this && this.__importStar || function (mod) {
  if (mod && mod.__esModule) return mod;
  var result = {};
  if (mod != null) for (var k in mod) {
    if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
  }

  __setModuleDefault(result, mod);

  return result;
};

var __exportStar = this && this.__exportStar || function (m, exports) {
  for (var p in m) {
    if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
  }
};

var __importDefault = this && this.__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RssHandler = exports.DefaultHandler = exports.DomUtils = exports.ElementType = exports.Tokenizer = exports.createDomStream = exports.parseDOM = exports.parseDocument = exports.DomHandler = exports.Parser = void 0;

var Parser_1 = require("./Parser");

Object.defineProperty(exports, "Parser", {
  enumerable: true,
  get: function get() {
    return Parser_1.Parser;
  }
});

var domhandler_1 = require("domhandler");

Object.defineProperty(exports, "DomHandler", {
  enumerable: true,
  get: function get() {
    return domhandler_1.DomHandler;
  }
});
Object.defineProperty(exports, "DefaultHandler", {
  enumerable: true,
  get: function get() {
    return domhandler_1.DomHandler;
  }
});

function parseDocument(data, options) {
  var handler = new domhandler_1.DomHandler(undefined, options);
  new Parser_1.Parser(handler, options).end(data);
  return handler.root;
}

exports.parseDocument = parseDocument;

function parseDOM(data, options) {
  return parseDocument(data, options).children;
}

exports.parseDOM = parseDOM;

function createDomStream(cb, options, elementCb) {
  var handler = new domhandler_1.DomHandler(cb, options, elementCb);
  return new Parser_1.Parser(handler, options);
}

exports.createDomStream = createDomStream;

var Tokenizer_1 = require("./Tokenizer");

Object.defineProperty(exports, "Tokenizer", {
  enumerable: true,
  get: function get() {
    return __importDefault(Tokenizer_1).default;
  }
});

var ElementType = __importStar(require("domelementtype"));

exports.ElementType = ElementType;

__exportStar(require("./FeedHandler"), exports);

exports.DomUtils = __importStar(require("domutils"));

var FeedHandler_1 = require("./FeedHandler");

Object.defineProperty(exports, "RssHandler", {
  enumerable: true,
  get: function get() {
    return FeedHandler_1.FeedHandler;
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIl9fY3JlYXRlQmluZGluZyIsIk9iamVjdCIsImNyZWF0ZSIsIm8iLCJtIiwiayIsImsyIiwidW5kZWZpbmVkIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiX19zZXRNb2R1bGVEZWZhdWx0IiwidiIsInZhbHVlIiwiX19pbXBvcnRTdGFyIiwibW9kIiwiX19lc01vZHVsZSIsInJlc3VsdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9fZXhwb3J0U3RhciIsImV4cG9ydHMiLCJwIiwiX19pbXBvcnREZWZhdWx0IiwiUnNzSGFuZGxlciIsIkRlZmF1bHRIYW5kbGVyIiwiRG9tVXRpbHMiLCJFbGVtZW50VHlwZSIsIlRva2VuaXplciIsImNyZWF0ZURvbVN0cmVhbSIsInBhcnNlRE9NIiwicGFyc2VEb2N1bWVudCIsIkRvbUhhbmRsZXIiLCJQYXJzZXIiLCJQYXJzZXJfMSIsInJlcXVpcmUiLCJkb21oYW5kbGVyXzEiLCJkYXRhIiwib3B0aW9ucyIsImhhbmRsZXIiLCJlbmQiLCJyb290IiwiY2hpbGRyZW4iLCJjYiIsImVsZW1lbnRDYiIsIlRva2VuaXplcl8xIiwiZGVmYXVsdCIsIkZlZWRIYW5kbGVyXzEiLCJGZWVkSGFuZGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsZUFBZSxHQUFJLFFBQVEsS0FBS0EsZUFBZCxLQUFtQ0MsTUFBTSxDQUFDQyxNQUFQLEdBQWlCLFVBQVNDLENBQVQsRUFBWUMsQ0FBWixFQUFlQyxDQUFmLEVBQWtCQyxFQUFsQixFQUFzQjtBQUM1RixNQUFJQSxFQUFFLEtBQUtDLFNBQVgsRUFBc0JELEVBQUUsR0FBR0QsQ0FBTDtBQUN0QkosRUFBQUEsTUFBTSxDQUFDTyxjQUFQLENBQXNCTCxDQUF0QixFQUF5QkcsRUFBekIsRUFBNkI7QUFBRUcsSUFBQUEsVUFBVSxFQUFFLElBQWQ7QUFBb0JDLElBQUFBLEdBQUcsRUFBRSxlQUFX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QUFBb0JDLEVBQUFBLEdBQUcsRUFBRSxlQUFZO0FBQUUsV0FBT3NDLGFBQWEsQ0FBQ0MsV0FBckI7QUFBbUM7QUFBMUUsQ0FBN0MiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUnNzSGFuZGxlciA9IGV4cG9ydHMuRGVmYXVsdEhhbmRsZXIgPSBleHBvcnRzLkRvbVV0aWxzID0gZXhwb3J0cy5FbGVtZW50VHlwZSA9IGV4cG9ydHMuVG9rZW5pemVyID0gZXhwb3J0cy5jcmVhdGVEb21TdHJlYW0gPSBleHBvcnRzLnBhcnNlRE9NID0gZXhwb3J0cy5wYXJzZURvY3VtZW50ID0gZXhwb3J0cy5Eb21IYW5kbGVyID0gZXhwb3J0cy5QYXJzZXIgPSB2b2lkIDA7XG52YXIgUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9QYXJzZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQYXJzZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFBhcnNlcl8xLlBhcnNlcjsgfSB9KTtcbnZhciBkb21oYW5kbGVyXzEgPSByZXF1aXJlKFwiZG9taGFuZGxlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkRvbUhhbmRsZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvbWhhbmRsZXJfMS5Eb21IYW5kbGVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRGVmYXVsdEhhbmRsZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvbWhhbmRsZXJfMS5Eb21IYW5kbGVyOyB9IH0pO1xuLy8gSGVscGVyIG1ldGhvZHNcbi8qKlxuICogUGFyc2VzIHRoZSBkYXRhLCByZXR1cm5zIHRoZSByZXN1bHRpbmcgZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdGhhdCBzaG91bGQgYmUgcGFyc2VkLlxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgb3B0aW9ucyBmb3IgdGhlIHBhcnNlciBhbmQgRE9NIGJ1aWxkZXIuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRG9jdW1lbnQoZGF0YSwgb3B0aW9ucykge1xuICAgIHZhciBoYW5kbGVyID0gbmV3IGRvbWhhbmRsZXJfMS5Eb21IYW5kbGVyKHVuZGVmaW5lZCwgb3B0aW9ucyk7XG4gICAgbmV3IFBhcnNlcl8xLlBhcnNlcihoYW5kbGVyLCBvcHRpb25zKS5lbmQoZGF0YSk7XG4gICAgcmV0dXJuIGhhbmRsZXIucm9vdDtcbn1cbmV4cG9ydHMucGFyc2VEb2N1bWVudCA9IHBhcnNlRG9jdW1lbnQ7XG4vKipcbiAqIFBhcnNlcyBkYXRhLCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByb290IG5vZGVzLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgcm9vdCBub2RlcyBzdGlsbCBoYXZlIGEgYERvY3VtZW50YCBub2RlIGFzIHRoZWlyIHBhcmVudC5cbiAqIFVzZSBgcGFyc2VEb2N1bWVudGAgdG8gZ2V0IHRoZSBgRG9jdW1lbnRgIG5vZGUgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0aGF0IHNob3VsZCBiZSBwYXJzZWQuXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBvcHRpb25zIGZvciB0aGUgcGFyc2VyIGFuZCBET00gYnVpbGRlci5cbiAqIEBkZXByZWNhdGVkIFVzZSBgcGFyc2VEb2N1bWVudGAgaW5zdGVhZC5cbiAqL1xuZnVuY3Rpb24gcGFyc2VET00oZGF0YSwgb3B0aW9ucykge1xuICAgIHJldHVybiBwYXJzZURvY3VtZW50KGRhdGEsIG9wdGlvbnMpLmNoaWxkcmVuO1xufVxuZXhwb3J0cy5wYXJzZURPTSA9IHBhcnNlRE9NO1xuLyoqXG4gKiBDcmVhdGVzIGEgcGFyc2VyIGluc3RhbmNlLCB3aXRoIGFuIGF0dGFjaGVkIERPTSBoYW5kbGVyLlxuICpcbiAqIEBwYXJhbSBjYiBBIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBwYXJzaW5nIGhhcyBiZWVuIGNvbXBsZXRlZC5cbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIG9wdGlvbnMgZm9yIHRoZSBwYXJzZXIgYW5kIERPTSBidWlsZGVyLlxuICogQHBhcmFtIGVsZW1lbnRDYiBBbiBvcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIGV2ZXJ5IHRpbWUgYSB0YWcgaGFzIGJlZW4gY29tcGxldGVkIGluc2lkZSBvZiB0aGUgRE9NLlxuICovXG5mdW5jdGlvbiBjcmVhdGVEb21TdHJlYW0oY2IsIG9wdGlvbnMsIGVsZW1lbnRDYikge1xuICAgIHZhciBoYW5kbGVyID0gbmV3IGRvbWhhbmRsZXJfMS5Eb21IYW5kbGVyKGNiLCBvcHRpb25zLCBlbGVtZW50Q2IpO1xuICAgIHJldHVybiBuZXcgUGFyc2VyXzEuUGFyc2VyKGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5jcmVhdGVEb21TdHJlYW0gPSBjcmVhdGVEb21TdHJlYW07XG52YXIgVG9rZW5pemVyXzEgPSByZXF1aXJlKFwiLi9Ub2tlbml6ZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUb2tlbml6ZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9faW1wb3J0RGVmYXVsdChUb2tlbml6ZXJfMSkuZGVmYXVsdDsgfSB9KTtcbnZhciBFbGVtZW50VHlwZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiZG9tZWxlbWVudHR5cGVcIikpO1xuZXhwb3J0cy5FbGVtZW50VHlwZSA9IEVsZW1lbnRUeXBlO1xuLypcbiAqIEFsbCBvZiB0aGUgZm9sbG93aW5nIGV4cG9ydHMgZXhpc3QgZm9yIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5LlxuICogVGhleSBzaG91bGQgcHJvYmFibHkgYmUgcmVtb3ZlZCBldmVudHVhbGx5LlxuICovXG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vRmVlZEhhbmRsZXJcIiksIGV4cG9ydHMpO1xuZXhwb3J0cy5Eb21VdGlscyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiZG9tdXRpbHNcIikpO1xudmFyIEZlZWRIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9GZWVkSGFuZGxlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJzc0hhbmRsZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEZlZWRIYW5kbGVyXzEuRmVlZEhhbmRsZXI7IH0gfSk7XG4iXX0=