dd6affe103e59fab8fd9b711295f1e72
'use strict';

var GetIntrinsic = require('get-intrinsic');

var CodePointAt = require('./CodePointAt');

var IsInteger = require('./IsInteger');

var Type = require('./Type');

var MAX_SAFE_INTEGER = require('../helpers/maxSafeInteger');

var $TypeError = GetIntrinsic('%TypeError%');

module.exports = function AdvanceStringIndex(S, index, unicode) {
  if (Type(S) !== 'String') {
    throw new $TypeError('Assertion failed: `S` must be a String');
  }

  if (!IsInteger(index) || index < 0 || index > MAX_SAFE_INTEGER) {
    throw new $TypeError('Assertion failed: `length` must be an integer >= 0 and <= 2**53');
  }

  if (Type(unicode) !== 'Boolean') {
    throw new $TypeError('Assertion failed: `unicode` must be a Boolean');
  }

  if (!unicode) {
    return index + 1;
  }

  var length = S.length;

  if (index + 1 >= length) {
    return index + 1;
  }

  var cp = CodePointAt(S, index);
  return index + cp['[[CodeUnitCount]]'];
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkdmFuY2VTdHJpbmdJbmRleC5qcyJdLCJuYW1lcyI6WyJHZXRJbnRyaW5zaWMiLCJyZXF1aXJlIiwiQ29kZVBvaW50QXQiLCJJc0ludGVnZXIiLCJUeXBlIiwiTUFYX1NBRkVfSU5URUdFUiIsIiRUeXBlRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiQWR2YW5jZVN0cmluZ0luZGV4IiwiUyIsImluZGV4IiwidW5pY29kZSIsImxlbmd0aCIsImNwIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUVBLElBQUlDLFdBQVcsR0FBR0QsT0FBTyxDQUFDLGVBQUQsQ0FBekI7O0FBQ0EsSUFBSUUsU0FBUyxHQUFHRixPQUFPLENBQUMsYUFBRCxDQUF2Qjs7QUFDQSxJQUFJRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyxRQUFELENBQWxCOztBQUVBLElBQUlJLGdCQUFnQixHQUFHSixPQUFPLENBQUMsMkJBQUQsQ0FBOUI7O0FBRUEsSUFBSUssVUFBVSxHQUFHTixZQUFZLENBQUMsYUFBRCxDQUE3Qjs7QUFJQU8sTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLGtCQUFULENBQTRCQyxDQUE1QixFQUErQkMsS0FBL0IsRUFBc0NDLE9BQXRDLEVBQStDO0FBQy9ELE1BQUlSLElBQUksQ0FBQ00sQ0FBRCxDQUFKLEtBQVksUUFBaEIsRUFBMEI7QUFDekIsVUFBTSxJQUFJSixVQUFKLENBQWUsd0NBQWYsQ0FBTjtBQUNBOztBQUNELE1BQUksQ0FBQ0gsU0FBUyxDQUFDUSxLQUFELENBQVYsSUFBcUJBLEtBQUssR0FBRyxDQUE3QixJQUFrQ0EsS0FBSyxHQUFHTixnQkFBOUMsRUFBZ0U7QUFDL0QsVUFBTSxJQUFJQyxVQUFKLENBQWUsaUVBQWYsQ0FBTjtBQUNBOztBQUNELE1BQUlGLElBQUksQ0FBQ1EsT0FBRCxDQUFKLEtBQWtCLFNBQXRCLEVBQWlDO0FBQ2hDLFVBQU0sSUFBSU4sVUFBSixDQUFlLCtDQUFmLENBQU47QUFDQTs7QUFDRCxNQUFJLENBQUNNLE9BQUwsRUFBYztBQUNiLFdBQU9ELEtBQUssR0FBRyxDQUFmO0FBQ0E7O0FBQ0QsTUFBSUUsTUFBTSxHQUFHSCxDQUFDLENBQUNHLE1BQWY7O0FBQ0EsTUFBS0YsS0FBSyxHQUFHLENBQVQsSUFBZUUsTUFBbkIsRUFBMkI7QUFDMUIsV0FBT0YsS0FBSyxHQUFHLENBQWY7QUFDQTs7QUFDRCxNQUFJRyxFQUFFLEdBQUdaLFdBQVcsQ0FBQ1EsQ0FBRCxFQUFJQyxLQUFKLENBQXBCO0FBQ0EsU0FBT0EsS0FBSyxHQUFHRyxFQUFFLENBQUMsbUJBQUQsQ0FBakI7QUFDQSxDQW5CRCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIEdldEludHJpbnNpYyA9IHJlcXVpcmUoJ2dldC1pbnRyaW5zaWMnKTtcblxudmFyIENvZGVQb2ludEF0ID0gcmVxdWlyZSgnLi9Db2RlUG9pbnRBdCcpO1xudmFyIElzSW50ZWdlciA9IHJlcXVpcmUoJy4vSXNJbnRlZ2VyJyk7XG52YXIgVHlwZSA9IHJlcXVpcmUoJy4vVHlwZScpO1xuXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvbWF4U2FmZUludGVnZXInKTtcblxudmFyICRUeXBlRXJyb3IgPSBHZXRJbnRyaW5zaWMoJyVUeXBlRXJyb3IlJyk7XG5cbi8vIGh0dHBzOi8vMjYyLmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvNi4wLyNzZWMtYWR2YW5jZXN0cmluZ2luZGV4XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gQWR2YW5jZVN0cmluZ0luZGV4KFMsIGluZGV4LCB1bmljb2RlKSB7XG5cdGlmIChUeXBlKFMpICE9PSAnU3RyaW5nJykge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdBc3NlcnRpb24gZmFpbGVkOiBgU2AgbXVzdCBiZSBhIFN0cmluZycpO1xuXHR9XG5cdGlmICghSXNJbnRlZ2VyKGluZGV4KSB8fCBpbmRleCA8IDAgfHwgaW5kZXggPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ0Fzc2VydGlvbiBmYWlsZWQ6IGBsZW5ndGhgIG11c3QgYmUgYW4gaW50ZWdlciA+PSAwIGFuZCA8PSAyKio1MycpO1xuXHR9XG5cdGlmIChUeXBlKHVuaWNvZGUpICE9PSAnQm9vbGVhbicpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignQXNzZXJ0aW9uIGZhaWxlZDogYHVuaWNvZGVgIG11c3QgYmUgYSBCb29sZWFuJyk7XG5cdH1cblx0aWYgKCF1bmljb2RlKSB7XG5cdFx0cmV0dXJuIGluZGV4ICsgMTtcblx0fVxuXHR2YXIgbGVuZ3RoID0gUy5sZW5ndGg7XG5cdGlmICgoaW5kZXggKyAxKSA+PSBsZW5ndGgpIHtcblx0XHRyZXR1cm4gaW5kZXggKyAxO1xuXHR9XG5cdHZhciBjcCA9IENvZGVQb2ludEF0KFMsIGluZGV4KTtcblx0cmV0dXJuIGluZGV4ICsgY3BbJ1tbQ29kZVVuaXRDb3VudF1dJ107XG59O1xuIl19