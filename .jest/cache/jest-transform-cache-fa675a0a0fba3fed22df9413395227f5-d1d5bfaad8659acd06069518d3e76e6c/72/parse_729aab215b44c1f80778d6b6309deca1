cfd611b7adb3f4be6b19e79b59fd785f
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parse = void 0;
var RE_NTH_ELEMENT = /^([+-]?\d*n)?\s*(?:([+-]?)\s*(\d+))?$/;

function parse(formula) {
  formula = formula.trim().toLowerCase();

  if (formula === "even") {
    return [2, 0];
  } else if (formula === "odd") {
    return [2, 1];
  }

  var parsed = formula.match(RE_NTH_ELEMENT);

  if (!parsed) {
    throw new Error("n-th rule couldn't be parsed ('" + formula + "')");
  }

  var a;

  if (parsed[1]) {
    a = parseInt(parsed[1], 10);

    if (isNaN(a)) {
      a = parsed[1].startsWith("-") ? -1 : 1;
    }
  } else a = 0;

  var b = (parsed[2] === "-" ? -1 : 1) * (parsed[3] ? parseInt(parsed[3], 10) : 0);
  return [a, b];
}

exports.parse = parse;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcnNlLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicGFyc2UiLCJSRV9OVEhfRUxFTUVOVCIsImZvcm11bGEiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJwYXJzZWQiLCJtYXRjaCIsIkVycm9yIiwiYSIsInBhcnNlSW50IiwiaXNOYU4iLCJzdGFydHNXaXRoIiwiYiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUFBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFBRUMsRUFBQUEsS0FBSyxFQUFFO0FBQVQsQ0FBN0M7QUFDQUQsT0FBTyxDQUFDRSxLQUFSLEdBQWdCLEtBQUssQ0FBckI7QUFFQSxJQUFJQyxjQUFjLEdBQUcsdUNBQXJCOztBQVFBLFNBQVNELEtBQVQsQ0FBZUUsT0FBZixFQUF3QjtBQUNwQkEsRUFBQUEsT0FBTyxHQUFHQSxPQUFPLENBQUNDLElBQVIsR0FBZUMsV0FBZixFQUFWOztBQUNBLE1BQUlGLE9BQU8sS0FBSyxNQUFoQixFQUF3QjtBQUNwQixXQUFPLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBUDtBQUNILEdBRkQsTUFHSyxJQUFJQSxPQUFPLEtBQUssS0FBaEIsRUFBdUI7QUFDeEIsV0FBTyxDQUFDLENBQUQsRUFBSSxDQUFKLENBQVA7QUFDSDs7QUFDRCxNQUFJRyxNQUFNLEdBQUdILE9BQU8sQ0FBQ0ksS0FBUixDQUFjTCxjQUFkLENBQWI7O0FBQ0EsTUFBSSxDQUFDSSxNQUFMLEVBQWE7QUFDVCxVQUFNLElBQUlFLEtBQUosQ0FBVSxvQ0FBb0NMLE9BQXBDLEdBQThDLElBQXhELENBQU47QUFDSDs7QUFDRCxNQUFJTSxDQUFKOztBQUNBLE1BQUlILE1BQU0sQ0FBQyxDQUFELENBQVYsRUFBZTtBQUNYRyxJQUFBQSxDQUFDLEdBQUdDLFFBQVEsQ0FBQ0osTUFBTSxDQUFDLENBQUQsQ0FBUCxFQUFZLEVBQVosQ0FBWjs7QUFDQSxRQUFJSyxLQUFLLENBQUNGLENBQUQsQ0FBVCxFQUFjO0FBQ1ZBLE1BQUFBLENBQUMsR0FBR0gsTUFBTSxDQUFDLENBQUQsQ0FBTixDQUFVTSxVQUFWLENBQXFCLEdBQXJCLElBQTRCLENBQUMsQ0FBN0IsR0FBaUMsQ0FBckM7QUFDSDtBQUNKLEdBTEQsTUFPSUgsQ0FBQyxHQUFHLENBQUo7O0FBQ0osTUFBSUksQ0FBQyxHQUFHLENBQUNQLE1BQU0sQ0FBQyxDQUFELENBQU4sS0FBYyxHQUFkLEdBQW9CLENBQUMsQ0FBckIsR0FBeUIsQ0FBMUIsS0FDSEEsTUFBTSxDQUFDLENBQUQsQ0FBTixHQUFZSSxRQUFRLENBQUNKLE1BQU0sQ0FBQyxDQUFELENBQVAsRUFBWSxFQUFaLENBQXBCLEdBQXNDLENBRG5DLENBQVI7QUFFQSxTQUFPLENBQUNHLENBQUQsRUFBSUksQ0FBSixDQUFQO0FBQ0g7O0FBQ0RkLE9BQU8sQ0FBQ0UsS0FBUixHQUFnQkEsS0FBaEIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIEZvbGxvd2luZyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jbnRoLWNoaWxkLXBzZXVkb1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZSA9IHZvaWQgMDtcbi8vIFsgWyctJ3wnKyddPyBJTlRFR0VSPyB7Tn0gWyBTKiBbJy0nfCcrJ10gUyogSU5URUdFUiBdP1xudmFyIFJFX05USF9FTEVNRU5UID0gL14oWystXT9cXGQqbik/XFxzKig/OihbKy1dPylcXHMqKFxcZCspKT8kLztcbi8qKlxuICogUGFyc2VzIGFuIGV4cHJlc3Npb24uXG4gKlxuICogQHRocm93cyBBbiBgRXJyb3JgIGlmIHBhcnNpbmcgZmFpbHMuXG4gKiBAcmV0dXJucyBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbnRlZ2VyIHN0ZXAgc2l6ZSBhbmQgdGhlIGludGVnZXIgb2Zmc2V0IG9mIHRoZSBudGggcnVsZS5cbiAqIEBleGFtcGxlIG50aENoZWNrLnBhcnNlKFwiMm4rM1wiKTsgLy8gcmV0dXJucyBbMiwgM11cbiAqL1xuZnVuY3Rpb24gcGFyc2UoZm9ybXVsYSkge1xuICAgIGZvcm11bGEgPSBmb3JtdWxhLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChmb3JtdWxhID09PSBcImV2ZW5cIikge1xuICAgICAgICByZXR1cm4gWzIsIDBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChmb3JtdWxhID09PSBcIm9kZFwiKSB7XG4gICAgICAgIHJldHVybiBbMiwgMV07XG4gICAgfVxuICAgIHZhciBwYXJzZWQgPSBmb3JtdWxhLm1hdGNoKFJFX05USF9FTEVNRU5UKTtcbiAgICBpZiAoIXBhcnNlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJuLXRoIHJ1bGUgY291bGRuJ3QgYmUgcGFyc2VkICgnXCIgKyBmb3JtdWxhICsgXCInKVwiKTtcbiAgICB9XG4gICAgdmFyIGE7XG4gICAgaWYgKHBhcnNlZFsxXSkge1xuICAgICAgICBhID0gcGFyc2VJbnQocGFyc2VkWzFdLCAxMCk7XG4gICAgICAgIGlmIChpc05hTihhKSkge1xuICAgICAgICAgICAgYSA9IHBhcnNlZFsxXS5zdGFydHNXaXRoKFwiLVwiKSA/IC0xIDogMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIGEgPSAwO1xuICAgIHZhciBiID0gKHBhcnNlZFsyXSA9PT0gXCItXCIgPyAtMSA6IDEpICpcbiAgICAgICAgKHBhcnNlZFszXSA/IHBhcnNlSW50KHBhcnNlZFszXSwgMTApIDogMCk7XG4gICAgcmV0dXJuIFthLCBiXTtcbn1cbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcbiJdfQ==