{"version":3,"sources":["stringify.js"],"names":["Object","defineProperty","exports","value","default","stringify","_circularJsonEs","_interopRequireDefault","require","_colors","obj","__esModule","stringifySingle","key","stringifyingValue","skipCircularCheck","Array","isArray","values","map","v","joined","join","initialBracket","gray","endingBracket","length","pad","blue","green","red","JSON","e","color","yellow","object","keys","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = stringify;\n\nvar _circularJsonEs = _interopRequireDefault(require(\"circular-json-es6\"));\n\nvar _colors = _interopRequireDefault(require(\"./colors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringifySingle(key, value) {\n  let stringifyingValue = value;\n  let skipCircularCheck = false;\n\n  if (Array.isArray(value)) {\n    const values = value.map(v => stringifySingle('', v)[1]); // Skip circular check because we have already safely dealt with it above\n\n    skipCircularCheck = true;\n    let joined = values.join(' ');\n\n    let initialBracket = _colors.default.gray('[');\n\n    const endingBracket = _colors.default.gray(']');\n\n    if (joined.length > 20) {\n      const pad = '\\n  ';\n      joined = `${values.join(pad)}\\n`;\n      initialBracket += pad;\n    }\n\n    stringifyingValue = _colors.default.gray(`${initialBracket}${joined}${endingBracket}`);\n  } else if (value === null) {\n    stringifyingValue = _colors.default.gray(value);\n  } else if (typeof value === 'object') {\n    stringifyingValue = _colors.default.gray(_circularJsonEs.default.stringify(value));\n  } else if (typeof value === 'string') {\n    stringifyingValue = _colors.default.gray(`\"${value}\"`);\n  } else if (typeof value === 'number') {\n    stringifyingValue = _colors.default.blue(value);\n  } else if (value) {\n    stringifyingValue = _colors.default.green(value);\n  } else if (!value) {\n    stringifyingValue = _colors.default.red(value);\n  }\n\n  try {\n    // circular if you cant stringify\n    if (!skipCircularCheck) {\n      JSON.stringify({\n        [key]: value\n      });\n    }\n\n    return [key, stringifyingValue];\n  } catch (e) {\n    return [key, _colors.default.gray('[Circular]')];\n  }\n}\n\nfunction color([key, value]) {\n  return `${_colors.default.yellow(key)}${_colors.default.gray(':')} ${_colors.default.yellow(value)}`;\n}\n\nfunction stringify(object) {\n  const keys = Object.keys(object);\n  return keys.map(key => color(stringifySingle(key, object[key]))).join('\\n');\n}\n\nmodule.exports = exports.default;"]}