{"version":3,"sources":["toHaveStyle.js"],"names":["Object","defineProperty","exports","value","default","_name","_interopRequireDefault","require","_stringify","_reduceAssertionObject","_html","_single","obj","__esModule","flattenStyle","style","undefined","Array","isArray","reduce","computedStyle","currentStyle","toHaveStyle","enzymeWrapper","styleKey","styleValue","prop","wrapperName","pass","message","negatedMessage","contextualInformation","actual","arguments","length","hasOwnProperty","expected","results","call","unmatchedKeys","join","missingKeys","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _name = _interopRequireDefault(require(\"../utils/name\"));\n\nvar _stringify = _interopRequireDefault(require(\"../utils/stringify\"));\n\nvar _reduceAssertionObject = _interopRequireDefault(require(\"../utils/reduceAssertionObject\"));\n\nvar _html = _interopRequireDefault(require(\"../utils/html\"));\n\nvar _single = _interopRequireDefault(require(\"../utils/single\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * This source code is licensed under the MIT-style license found in the\n * LICENSE file in the root directory of this source tree. *\n *\n * @providesModule toHaveStyleAssertion\n * \n */\nfunction flattenStyle(style) {\n  if (!style) {\n    return undefined;\n  }\n\n  if (!Array.isArray(style)) {\n    return style;\n  }\n\n  return style.reduce((computedStyle, currentStyle) => ({ ...computedStyle,\n    ...flattenStyle(currentStyle)\n  }), undefined);\n}\n\nfunction toHaveStyle(enzymeWrapper, styleKey, styleValue) {\n  const style = flattenStyle(enzymeWrapper.prop('style'));\n  const wrapperName = (0, _name.default)(enzymeWrapper); // 1. If the component doesn't have a style prop in general. That's an immediate failure.\n\n  if (!style) {\n    return {\n      pass: false,\n      message: `Expected <${wrapperName}> component to have a style prop but it did not.`,\n      negatedMessage: `Expected <${wrapperName}> component not to have a style prop but it did.`,\n      contextualInformation: {\n        actual: (0, _html.default)(enzymeWrapper)\n      }\n    };\n  } // 2. If the assertion is to check if the component has a style in general. We need to make sure\n  // that its not an object and intended for the object assertion API.\n  // Then we have to make sure the style has that key.\n\n\n  if (styleKey === undefined && arguments.length === 2 && typeof styleKey !== 'object' && Array.isArray(styleKey) === false) {\n    return {\n      pass: style.hasOwnProperty(styleKey),\n      message: `Expected <${wrapperName}> to have any value for the prop \"${styleKey}\"`,\n      negatedMessage: `Expected <${wrapperName}> not to receive the prop \"${styleKey}\"`,\n      contextualInformation: {\n        actual: `Actual props: ${(0, _stringify.default)({\n          [styleKey]: style[styleKey]\n        })}`,\n        expected: `Expected props: ${(0, _stringify.default)({\n          [styleKey]: styleValue\n        })}`\n      }\n    };\n  }\n\n  const results = _reduceAssertionObject.default.call(this, style, styleKey, styleValue);\n\n  const unmatchedKeys = results.unmatchedKeys.join(', ');\n  const contextualInformation = {\n    actual: `Actual style: ${(0, _stringify.default)(results.actual)}`,\n    expected: `Expected style: ${(0, _stringify.default)(results.expected)}`\n  };\n\n  if (results.missingKeys.length) {\n    const missingKeys = results.missingKeys.join(', ');\n    return {\n      pass: false,\n      message: `Expected <${wrapperName}> component to have a style keys of \"${missingKeys}\" but it did not.`,\n      negatedMessage: `Expected <${wrapperName}> component not to have a style key of \"${missingKeys}\" but it did.`,\n      contextualInformation: {\n        actual: (0, _html.default)(enzymeWrapper)\n      }\n    };\n  }\n\n  return {\n    pass: results.pass,\n    message: `Expected <${wrapperName}> component style values to match for key \"${unmatchedKeys}\", but they didn't`,\n    negatedMessage: `Expected <${wrapperName}> component style values to be different for key \"${unmatchedKeys}\", but they weren't`,\n    contextualInformation\n  };\n}\n\nvar _default = (0, _single.default)(toHaveStyle);\n\nexports.default = _default;\nmodule.exports = exports.default;"]}