31090f0543a5786db2b0f89b6314aeeb
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _EXITS_FOREIGN_CONTEN;

var Tokenizer = require('../tokenizer');

var HTML = require('./html');

var $ = HTML.TAG_NAMES;
var NS = HTML.NAMESPACES;
var ATTRS = HTML.ATTRS;
var MIME_TYPES = {
  TEXT_HTML: 'text/html',
  APPLICATION_XML: 'application/xhtml+xml'
};
var DEFINITION_URL_ATTR = 'definitionurl';
var ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';
var SVG_ATTRS_ADJUSTMENT_MAP = {
  attributename: 'attributeName',
  attributetype: 'attributeType',
  basefrequency: 'baseFrequency',
  baseprofile: 'baseProfile',
  calcmode: 'calcMode',
  clippathunits: 'clipPathUnits',
  diffuseconstant: 'diffuseConstant',
  edgemode: 'edgeMode',
  filterunits: 'filterUnits',
  glyphref: 'glyphRef',
  gradienttransform: 'gradientTransform',
  gradientunits: 'gradientUnits',
  kernelmatrix: 'kernelMatrix',
  kernelunitlength: 'kernelUnitLength',
  keypoints: 'keyPoints',
  keysplines: 'keySplines',
  keytimes: 'keyTimes',
  lengthadjust: 'lengthAdjust',
  limitingconeangle: 'limitingConeAngle',
  markerheight: 'markerHeight',
  markerunits: 'markerUnits',
  markerwidth: 'markerWidth',
  maskcontentunits: 'maskContentUnits',
  maskunits: 'maskUnits',
  numoctaves: 'numOctaves',
  pathlength: 'pathLength',
  patterncontentunits: 'patternContentUnits',
  patterntransform: 'patternTransform',
  patternunits: 'patternUnits',
  pointsatx: 'pointsAtX',
  pointsaty: 'pointsAtY',
  pointsatz: 'pointsAtZ',
  preservealpha: 'preserveAlpha',
  preserveaspectratio: 'preserveAspectRatio',
  primitiveunits: 'primitiveUnits',
  refx: 'refX',
  refy: 'refY',
  repeatcount: 'repeatCount',
  repeatdur: 'repeatDur',
  requiredextensions: 'requiredExtensions',
  requiredfeatures: 'requiredFeatures',
  specularconstant: 'specularConstant',
  specularexponent: 'specularExponent',
  spreadmethod: 'spreadMethod',
  startoffset: 'startOffset',
  stddeviation: 'stdDeviation',
  stitchtiles: 'stitchTiles',
  surfacescale: 'surfaceScale',
  systemlanguage: 'systemLanguage',
  tablevalues: 'tableValues',
  targetx: 'targetX',
  targety: 'targetY',
  textlength: 'textLength',
  viewbox: 'viewBox',
  viewtarget: 'viewTarget',
  xchannelselector: 'xChannelSelector',
  ychannelselector: 'yChannelSelector',
  zoomandpan: 'zoomAndPan'
};
var XML_ATTRS_ADJUSTMENT_MAP = {
  'xlink:actuate': {
    prefix: 'xlink',
    name: 'actuate',
    namespace: NS.XLINK
  },
  'xlink:arcrole': {
    prefix: 'xlink',
    name: 'arcrole',
    namespace: NS.XLINK
  },
  'xlink:href': {
    prefix: 'xlink',
    name: 'href',
    namespace: NS.XLINK
  },
  'xlink:role': {
    prefix: 'xlink',
    name: 'role',
    namespace: NS.XLINK
  },
  'xlink:show': {
    prefix: 'xlink',
    name: 'show',
    namespace: NS.XLINK
  },
  'xlink:title': {
    prefix: 'xlink',
    name: 'title',
    namespace: NS.XLINK
  },
  'xlink:type': {
    prefix: 'xlink',
    name: 'type',
    namespace: NS.XLINK
  },
  'xml:base': {
    prefix: 'xml',
    name: 'base',
    namespace: NS.XML
  },
  'xml:lang': {
    prefix: 'xml',
    name: 'lang',
    namespace: NS.XML
  },
  'xml:space': {
    prefix: 'xml',
    name: 'space',
    namespace: NS.XML
  },
  xmlns: {
    prefix: '',
    name: 'xmlns',
    namespace: NS.XMLNS
  },
  'xmlns:xlink': {
    prefix: 'xmlns',
    name: 'xlink',
    namespace: NS.XMLNS
  }
};
var SVG_TAG_NAMES_ADJUSTMENT_MAP = exports.SVG_TAG_NAMES_ADJUSTMENT_MAP = {
  altglyph: 'altGlyph',
  altglyphdef: 'altGlyphDef',
  altglyphitem: 'altGlyphItem',
  animatecolor: 'animateColor',
  animatemotion: 'animateMotion',
  animatetransform: 'animateTransform',
  clippath: 'clipPath',
  feblend: 'feBlend',
  fecolormatrix: 'feColorMatrix',
  fecomponenttransfer: 'feComponentTransfer',
  fecomposite: 'feComposite',
  feconvolvematrix: 'feConvolveMatrix',
  fediffuselighting: 'feDiffuseLighting',
  fedisplacementmap: 'feDisplacementMap',
  fedistantlight: 'feDistantLight',
  feflood: 'feFlood',
  fefunca: 'feFuncA',
  fefuncb: 'feFuncB',
  fefuncg: 'feFuncG',
  fefuncr: 'feFuncR',
  fegaussianblur: 'feGaussianBlur',
  feimage: 'feImage',
  femerge: 'feMerge',
  femergenode: 'feMergeNode',
  femorphology: 'feMorphology',
  feoffset: 'feOffset',
  fepointlight: 'fePointLight',
  fespecularlighting: 'feSpecularLighting',
  fespotlight: 'feSpotLight',
  fetile: 'feTile',
  feturbulence: 'feTurbulence',
  foreignobject: 'foreignObject',
  glyphref: 'glyphRef',
  lineargradient: 'linearGradient',
  radialgradient: 'radialGradient',
  textpath: 'textPath'
};
var EXITS_FOREIGN_CONTENT = (_EXITS_FOREIGN_CONTEN = {}, (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.B, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.BIG, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.BLOCKQUOTE, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.BODY, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.BR, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.CENTER, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.CODE, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.DD, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.DIV, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.DL, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.DT, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.EM, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.EMBED, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.H1, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.H2, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.H3, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.H4, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.H5, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.H6, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.HEAD, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.HR, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.I, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.IMG, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.LI, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.LISTING, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.MENU, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.META, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.NOBR, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.OL, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.P, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.PRE, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.RUBY, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.S, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.SMALL, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.SPAN, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.STRONG, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.STRIKE, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.SUB, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.SUP, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.TABLE, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.TT, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.U, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.UL, true), (0, _defineProperty2.default)(_EXITS_FOREIGN_CONTEN, $.VAR, true), _EXITS_FOREIGN_CONTEN);

exports.causesExit = function (startTagToken) {
  var tn = startTagToken.tagName;
  var isFontWithAttrs = tn === $.FONT && (Tokenizer.getTokenAttr(startTagToken, ATTRS.COLOR) !== null || Tokenizer.getTokenAttr(startTagToken, ATTRS.SIZE) !== null || Tokenizer.getTokenAttr(startTagToken, ATTRS.FACE) !== null);
  return isFontWithAttrs ? true : EXITS_FOREIGN_CONTENT[tn];
};

exports.adjustTokenMathMLAttrs = function (token) {
  for (var i = 0; i < token.attrs.length; i++) {
    if (token.attrs[i].name === DEFINITION_URL_ATTR) {
      token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;
      break;
    }
  }
};

exports.adjustTokenSVGAttrs = function (token) {
  for (var i = 0; i < token.attrs.length; i++) {
    var adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];

    if (adjustedAttrName) {
      token.attrs[i].name = adjustedAttrName;
    }
  }
};

exports.adjustTokenXMLAttrs = function (token) {
  for (var i = 0; i < token.attrs.length; i++) {
    var adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];

    if (adjustedAttrEntry) {
      token.attrs[i].prefix = adjustedAttrEntry.prefix;
      token.attrs[i].name = adjustedAttrEntry.name;
      token.attrs[i].namespace = adjustedAttrEntry.namespace;
    }
  }
};

exports.adjustTokenSVGTagName = function (token) {
  var adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];

  if (adjustedTagName) {
    token.tagName = adjustedTagName;
  }
};

function isMathMLTextIntegrationPoint(tn, ns) {
  return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);
}

function isHtmlIntegrationPoint(tn, ns, attrs) {
  if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {
    for (var i = 0; i < attrs.length; i++) {
      if (attrs[i].name === ATTRS.ENCODING) {
        var value = attrs[i].value.toLowerCase();
        return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;
      }
    }
  }

  return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);
}

exports.isIntegrationPoint = function (tn, ns, attrs, foreignNS) {
  if ((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) {
    return true;
  }

  if ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)) {
    return true;
  }

  return false;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcmVpZ24tY29udGVudC5qcyJdLCJuYW1lcyI6WyJUb2tlbml6ZXIiLCJyZXF1aXJlIiwiSFRNTCIsIiQiLCJUQUdfTkFNRVMiLCJOUyIsIk5BTUVTUEFDRVMiLCJBVFRSUyIsIk1JTUVfVFlQRVMiLCJURVhUX0hUTUwiLCJBUFBMSUNBVElPTl9YTUwiLCJERUZJTklUSU9OX1VSTF9BVFRSIiwiQURKVVNURURfREVGSU5JVElPTl9VUkxfQVRUUiIsIlNWR19BVFRSU19BREpVU1RNRU5UX01BUCIsImF0dHJpYnV0ZW5hbWUiLCJhdHRyaWJ1dGV0eXBlIiwiYmFzZWZyZXF1ZW5jeSIsImJhc2Vwcm9maWxlIiwiY2FsY21vZGUiLCJjbGlwcGF0aHVuaXRzIiwiZGlmZnVzZWNvbnN0YW50IiwiZWRnZW1vZGUiLCJmaWx0ZXJ1bml0cyIsImdseXBocmVmIiwiZ3JhZGllbnR0cmFuc2Zvcm0iLCJncmFkaWVudHVuaXRzIiwia2VybmVsbWF0cml4Iiwia2VybmVsdW5pdGxlbmd0aCIsImtleXBvaW50cyIsImtleXNwbGluZXMiLCJrZXl0aW1lcyIsImxlbmd0aGFkanVzdCIsImxpbWl0aW5nY29uZWFuZ2xlIiwibWFya2VyaGVpZ2h0IiwibWFya2VydW5pdHMiLCJtYXJrZXJ3aWR0aCIsIm1hc2tjb250ZW50dW5pdHMiLCJtYXNrdW5pdHMiLCJudW1vY3RhdmVzIiwicGF0aGxlbmd0aCIsInBhdHRlcm5jb250ZW50dW5pdHMiLCJwYXR0ZXJudHJhbnNmb3JtIiwicGF0dGVybnVuaXRzIiwicG9pbnRzYXR4IiwicG9pbnRzYXR5IiwicG9pbnRzYXR6IiwicHJlc2VydmVhbHBoYSIsInByZXNlcnZlYXNwZWN0cmF0aW8iLCJwcmltaXRpdmV1bml0cyIsInJlZngiLCJyZWZ5IiwicmVwZWF0Y291bnQiLCJyZXBlYXRkdXIiLCJyZXF1aXJlZGV4dGVuc2lvbnMiLCJyZXF1aXJlZGZlYXR1cmVzIiwic3BlY3VsYXJjb25zdGFudCIsInNwZWN1bGFyZXhwb25lbnQiLCJzcHJlYWRtZXRob2QiLCJzdGFydG9mZnNldCIsInN0ZGRldmlhdGlvbiIsInN0aXRjaHRpbGVzIiwic3VyZmFjZXNjYWxlIiwic3lzdGVtbGFuZ3VhZ2UiLCJ0YWJsZXZhbHVlcyIsInRhcmdldHgiLCJ0YXJnZXR5IiwidGV4dGxlbmd0aCIsInZpZXdib3giLCJ2aWV3dGFyZ2V0IiwieGNoYW5uZWxzZWxlY3RvciIsInljaGFubmVsc2VsZWN0b3IiLCJ6b29tYW5kcGFuIiwiWE1MX0FUVFJTX0FESlVTVE1FTlRfTUFQIiwicHJlZml4IiwibmFtZSIsIm5hbWVzcGFjZSIsIlhMSU5LIiwiWE1MIiwieG1sbnMiLCJYTUxOUyIsIlNWR19UQUdfTkFNRVNfQURKVVNUTUVOVF9NQVAiLCJleHBvcnRzIiwiYWx0Z2x5cGgiLCJhbHRnbHlwaGRlZiIsImFsdGdseXBoaXRlbSIsImFuaW1hdGVjb2xvciIsImFuaW1hdGVtb3Rpb24iLCJhbmltYXRldHJhbnNmb3JtIiwiY2xpcHBhdGgiLCJmZWJsZW5kIiwiZmVjb2xvcm1hdHJpeCIsImZlY29tcG9uZW50dHJhbnNmZXIiLCJmZWNvbXBvc2l0ZSIsImZlY29udm9sdmVtYXRyaXgiLCJmZWRpZmZ1c2VsaWdodGluZyIsImZlZGlzcGxhY2VtZW50bWFwIiwiZmVkaXN0YW50bGlnaHQiLCJmZWZsb29kIiwiZmVmdW5jYSIsImZlZnVuY2IiLCJmZWZ1bmNnIiwiZmVmdW5jciIsImZlZ2F1c3NpYW5ibHVyIiwiZmVpbWFnZSIsImZlbWVyZ2UiLCJmZW1lcmdlbm9kZSIsImZlbW9ycGhvbG9neSIsImZlb2Zmc2V0IiwiZmVwb2ludGxpZ2h0IiwiZmVzcGVjdWxhcmxpZ2h0aW5nIiwiZmVzcG90bGlnaHQiLCJmZXRpbGUiLCJmZXR1cmJ1bGVuY2UiLCJmb3JlaWdub2JqZWN0IiwibGluZWFyZ3JhZGllbnQiLCJyYWRpYWxncmFkaWVudCIsInRleHRwYXRoIiwiRVhJVFNfRk9SRUlHTl9DT05URU5UIiwiQiIsIkJJRyIsIkJMT0NLUVVPVEUiLCJCT0RZIiwiQlIiLCJDRU5URVIiLCJDT0RFIiwiREQiLCJESVYiLCJETCIsIkRUIiwiRU0iLCJFTUJFRCIsIkgxIiwiSDIiLCJIMyIsIkg0IiwiSDUiLCJINiIsIkhFQUQiLCJIUiIsIkkiLCJJTUciLCJMSSIsIkxJU1RJTkciLCJNRU5VIiwiTUVUQSIsIk5PQlIiLCJPTCIsIlAiLCJQUkUiLCJSVUJZIiwiUyIsIlNNQUxMIiwiU1BBTiIsIlNUUk9ORyIsIlNUUklLRSIsIlNVQiIsIlNVUCIsIlRBQkxFIiwiVFQiLCJVIiwiVUwiLCJWQVIiLCJjYXVzZXNFeGl0Iiwic3RhcnRUYWdUb2tlbiIsInRuIiwidGFnTmFtZSIsImlzRm9udFdpdGhBdHRycyIsIkZPTlQiLCJnZXRUb2tlbkF0dHIiLCJDT0xPUiIsIlNJWkUiLCJGQUNFIiwiYWRqdXN0VG9rZW5NYXRoTUxBdHRycyIsInRva2VuIiwiaSIsImF0dHJzIiwibGVuZ3RoIiwiYWRqdXN0VG9rZW5TVkdBdHRycyIsImFkanVzdGVkQXR0ck5hbWUiLCJhZGp1c3RUb2tlblhNTEF0dHJzIiwiYWRqdXN0ZWRBdHRyRW50cnkiLCJhZGp1c3RUb2tlblNWR1RhZ05hbWUiLCJhZGp1c3RlZFRhZ05hbWUiLCJpc01hdGhNTFRleHRJbnRlZ3JhdGlvblBvaW50IiwibnMiLCJNQVRITUwiLCJNSSIsIk1PIiwiTU4iLCJNUyIsIk1URVhUIiwiaXNIdG1sSW50ZWdyYXRpb25Qb2ludCIsIkFOTk9UQVRJT05fWE1MIiwiRU5DT0RJTkciLCJ2YWx1ZSIsInRvTG93ZXJDYXNlIiwiU1ZHIiwiRk9SRUlHTl9PQkpFQ1QiLCJERVNDIiwiVElUTEUiLCJpc0ludGVncmF0aW9uUG9pbnQiLCJmb3JlaWduTlMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQUVBLElBQU1BLFNBQVMsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBekI7O0FBQ0EsSUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFHQSxJQUFNRSxDQUFDLEdBQUdELElBQUksQ0FBQ0UsU0FBZjtBQUNBLElBQU1DLEVB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RSxLQUFLbkwsRUFBRSxDQUFDK0wsR0FBVixLQUFrQmhDLEVBQUUsS0FBS2pLLENBQUMsQ0FBQ2tNLGNBQVQsSUFBMkJqQyxFQUFFLEtBQUtqSyxDQUFDLENBQUNtTSxJQUFwQyxJQUE0Q2xDLEVBQUUsS0FBS2pLLENBQUMsQ0FBQ29NLEtBQXZFLENBQVA7QUFDSDs7QUFFRHRILE9BQU8sQ0FBQ3VILGtCQUFSLEdBQTZCLFVBQVNwQyxFQUFULEVBQWFvQixFQUFiLEVBQWlCVCxLQUFqQixFQUF3QjBCLFNBQXhCLEVBQW1DO0FBQzVELE1BQUksQ0FBQyxDQUFDQSxTQUFELElBQWNBLFNBQVMsS0FBS3BNLEVBQUUsQ0FBQ0gsSUFBaEMsS0FBeUM2TCxzQkFBc0IsQ0FBQzNCLEVBQUQsRUFBS29CLEVBQUwsRUFBU1QsS0FBVCxDQUFuRSxFQUFvRjtBQUNoRixXQUFPLElBQVA7QUFDSDs7QUFFRCxNQUFJLENBQUMsQ0FBQzBCLFNBQUQsSUFBY0EsU0FBUyxLQUFLcE0sRUFBRSxDQUFDb0wsTUFBaEMsS0FBMkNGLDRCQUE0QixDQUFDbkIsRUFBRCxFQUFLb0IsRUFBTCxDQUEzRSxFQUFxRjtBQUNqRixXQUFPLElBQVA7QUFDSDs7QUFFRCxTQUFPLEtBQVA7QUFDSCxDQVZEIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBUb2tlbml6ZXIgPSByZXF1aXJlKCcuLi90b2tlbml6ZXInKTtcbmNvbnN0IEhUTUwgPSByZXF1aXJlKCcuL2h0bWwnKTtcblxuLy9BbGlhc2VzXG5jb25zdCAkID0gSFRNTC5UQUdfTkFNRVM7XG5jb25zdCBOUyA9IEhUTUwuTkFNRVNQQUNFUztcbmNvbnN0IEFUVFJTID0gSFRNTC5BVFRSUztcblxuLy9NSU1FIHR5cGVzXG5jb25zdCBNSU1FX1RZUEVTID0ge1xuICAgIFRFWFRfSFRNTDogJ3RleHQvaHRtbCcsXG4gICAgQVBQTElDQVRJT05fWE1MOiAnYXBwbGljYXRpb24veGh0bWwreG1sJ1xufTtcblxuLy9BdHRyaWJ1dGVzXG5jb25zdCBERUZJTklUSU9OX1VSTF9BVFRSID0gJ2RlZmluaXRpb251cmwnO1xuY29uc3QgQURKVVNURURfREVGSU5JVElPTl9VUkxfQVRUUiA9ICdkZWZpbml0aW9uVVJMJztcbmNvbnN0IFNWR19BVFRSU19BREpVU1RNRU5UX01BUCA9IHtcbiAgICBhdHRyaWJ1dGVuYW1lOiAnYXR0cmlidXRlTmFtZScsXG4gICAgYXR0cmlidXRldHlwZTogJ2F0dHJpYnV0ZVR5cGUnLFxuICAgIGJhc2VmcmVxdWVuY3k6ICdiYXNlRnJlcXVlbmN5JyxcbiAgICBiYXNlcHJvZmlsZTogJ2Jhc2VQcm9maWxlJyxcbiAgICBjYWxjbW9kZTogJ2NhbGNNb2RlJyxcbiAgICBjbGlwcGF0aHVuaXRzOiAnY2xpcFBhdGhVbml0cycsXG4gICAgZGlmZnVzZWNvbnN0YW50OiAnZGlmZnVzZUNvbnN0YW50JyxcbiAgICBlZGdlbW9kZTogJ2VkZ2VNb2RlJyxcbiAgICBmaWx0ZXJ1bml0czogJ2ZpbHRlclVuaXRzJyxcbiAgICBnbHlwaHJlZjogJ2dseXBoUmVmJyxcbiAgICBncmFkaWVudHRyYW5zZm9ybTogJ2dyYWRpZW50VHJhbnNmb3JtJyxcbiAgICBncmFkaWVudHVuaXRzOiAnZ3JhZGllbnRVbml0cycsXG4gICAga2VybmVsbWF0cml4OiAna2VybmVsTWF0cml4JyxcbiAgICBrZXJuZWx1bml0bGVuZ3RoOiAna2VybmVsVW5pdExlbmd0aCcsXG4gICAga2V5cG9pbnRzOiAna2V5UG9pbnRzJyxcbiAgICBrZXlzcGxpbmVzOiAna2V5U3BsaW5lcycsXG4gICAga2V5dGltZXM6ICdrZXlUaW1lcycsXG4gICAgbGVuZ3RoYWRqdXN0OiAnbGVuZ3RoQWRqdXN0JyxcbiAgICBsaW1pdGluZ2NvbmVhbmdsZTogJ2xpbWl0aW5nQ29uZUFuZ2xlJyxcbiAgICBtYXJrZXJoZWlnaHQ6ICdtYXJrZXJIZWlnaHQnLFxuICAgIG1hcmtlcnVuaXRzOiAnbWFya2VyVW5pdHMnLFxuICAgIG1hcmtlcndpZHRoOiAnbWFya2VyV2lkdGgnLFxuICAgIG1hc2tjb250ZW50dW5pdHM6ICdtYXNrQ29udGVudFVuaXRzJyxcbiAgICBtYXNrdW5pdHM6ICdtYXNrVW5pdHMnLFxuICAgIG51bW9jdGF2ZXM6ICdudW1PY3RhdmVzJyxcbiAgICBwYXRobGVuZ3RoOiAncGF0aExlbmd0aCcsXG4gICAgcGF0dGVybmNvbnRlbnR1bml0czogJ3BhdHRlcm5Db250ZW50VW5pdHMnLFxuICAgIHBhdHRlcm50cmFuc2Zvcm06ICdwYXR0ZXJuVHJhbnNmb3JtJyxcbiAgICBwYXR0ZXJudW5pdHM6ICdwYXR0ZXJuVW5pdHMnLFxuICAgIHBvaW50c2F0eDogJ3BvaW50c0F0WCcsXG4gICAgcG9pbnRzYXR5OiAncG9pbnRzQXRZJyxcbiAgICBwb2ludHNhdHo6ICdwb2ludHNBdFonLFxuICAgIHByZXNlcnZlYWxwaGE6ICdwcmVzZXJ2ZUFscGhhJyxcbiAgICBwcmVzZXJ2ZWFzcGVjdHJhdGlvOiAncHJlc2VydmVBc3BlY3RSYXRpbycsXG4gICAgcHJpbWl0aXZldW5pdHM6ICdwcmltaXRpdmVVbml0cycsXG4gICAgcmVmeDogJ3JlZlgnLFxuICAgIHJlZnk6ICdyZWZZJyxcbiAgICByZXBlYXRjb3VudDogJ3JlcGVhdENvdW50JyxcbiAgICByZXBlYXRkdXI6ICdyZXBlYXREdXInLFxuICAgIHJlcXVpcmVkZXh0ZW5zaW9uczogJ3JlcXVpcmVkRXh0ZW5zaW9ucycsXG4gICAgcmVxdWlyZWRmZWF0dXJlczogJ3JlcXVpcmVkRmVhdHVyZXMnLFxuICAgIHNwZWN1bGFyY29uc3RhbnQ6ICdzcGVjdWxhckNvbnN0YW50JyxcbiAgICBzcGVjdWxhcmV4cG9uZW50OiAnc3BlY3VsYXJFeHBvbmVudCcsXG4gICAgc3ByZWFkbWV0aG9kOiAnc3ByZWFkTWV0aG9kJyxcbiAgICBzdGFydG9mZnNldDogJ3N0YXJ0T2Zmc2V0JyxcbiAgICBzdGRkZXZpYXRpb246ICdzdGREZXZpYXRpb24nLFxuICAgIHN0aXRjaHRpbGVzOiAnc3RpdGNoVGlsZXMnLFxuICAgIHN1cmZhY2VzY2FsZTogJ3N1cmZhY2VTY2FsZScsXG4gICAgc3lzdGVtbGFuZ3VhZ2U6ICdzeXN0ZW1MYW5ndWFnZScsXG4gICAgdGFibGV2YWx1ZXM6ICd0YWJsZVZhbHVlcycsXG4gICAgdGFyZ2V0eDogJ3RhcmdldFgnLFxuICAgIHRhcmdldHk6ICd0YXJnZXRZJyxcbiAgICB0ZXh0bGVuZ3RoOiAndGV4dExlbmd0aCcsXG4gICAgdmlld2JveDogJ3ZpZXdCb3gnLFxuICAgIHZpZXd0YXJnZXQ6ICd2aWV3VGFyZ2V0JyxcbiAgICB4Y2hhbm5lbHNlbGVjdG9yOiAneENoYW5uZWxTZWxlY3RvcicsXG4gICAgeWNoYW5uZWxzZWxlY3RvcjogJ3lDaGFubmVsU2VsZWN0b3InLFxuICAgIHpvb21hbmRwYW46ICd6b29tQW5kUGFuJ1xufTtcblxuY29uc3QgWE1MX0FUVFJTX0FESlVTVE1FTlRfTUFQID0ge1xuICAgICd4bGluazphY3R1YXRlJzogeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdhY3R1YXRlJywgbmFtZXNwYWNlOiBOUy5YTElOSyB9LFxuICAgICd4bGluazphcmNyb2xlJzogeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdhcmNyb2xlJywgbmFtZXNwYWNlOiBOUy5YTElOSyB9LFxuICAgICd4bGluazpocmVmJzogeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdocmVmJywgbmFtZXNwYWNlOiBOUy5YTElOSyB9LFxuICAgICd4bGluazpyb2xlJzogeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdyb2xlJywgbmFtZXNwYWNlOiBOUy5YTElOSyB9LFxuICAgICd4bGluazpzaG93JzogeyBwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdzaG93JywgbmFtZXNwYWNlOiBOUy5YTElOSyB9LFxuICAgICd4bGluazp0aXRsZSc6IHsgcHJlZml4OiAneGxpbmsnLCBuYW1lOiAndGl0bGUnLCBuYW1lc3BhY2U6IE5TLlhMSU5LIH0sXG4gICAgJ3hsaW5rOnR5cGUnOiB7IHByZWZpeDogJ3hsaW5rJywgbmFtZTogJ3R5cGUnLCBuYW1lc3BhY2U6IE5TLlhMSU5LIH0sXG4gICAgJ3htbDpiYXNlJzogeyBwcmVmaXg6ICd4bWwnLCBuYW1lOiAnYmFzZScsIG5hbWVzcGFjZTogTlMuWE1MIH0sXG4gICAgJ3htbDpsYW5nJzogeyBwcmVmaXg6ICd4bWwnLCBuYW1lOiAnbGFuZycsIG5hbWVzcGFjZTogTlMuWE1MIH0sXG4gICAgJ3htbDpzcGFjZSc6IHsgcHJlZml4OiAneG1sJywgbmFtZTogJ3NwYWNlJywgbmFtZXNwYWNlOiBOUy5YTUwgfSxcbiAgICB4bWxuczogeyBwcmVmaXg6ICcnLCBuYW1lOiAneG1sbnMnLCBuYW1lc3BhY2U6IE5TLlhNTE5TIH0sXG4gICAgJ3htbG5zOnhsaW5rJzogeyBwcmVmaXg6ICd4bWxucycsIG5hbWU6ICd4bGluaycsIG5hbWVzcGFjZTogTlMuWE1MTlMgfVxufTtcblxuLy9TVkcgdGFnIG5hbWVzIGFkanVzdG1lbnQgbWFwXG5jb25zdCBTVkdfVEFHX05BTUVTX0FESlVTVE1FTlRfTUFQID0gKGV4cG9ydHMuU1ZHX1RBR19OQU1FU19BREpVU1RNRU5UX01BUCA9IHtcbiAgICBhbHRnbHlwaDogJ2FsdEdseXBoJyxcbiAgICBhbHRnbHlwaGRlZjogJ2FsdEdseXBoRGVmJyxcbiAgICBhbHRnbHlwaGl0ZW06ICdhbHRHbHlwaEl0ZW0nLFxuICAgIGFuaW1hdGVjb2xvcjogJ2FuaW1hdGVDb2xvcicsXG4gICAgYW5pbWF0ZW1vdGlvbjogJ2FuaW1hdGVNb3Rpb24nLFxuICAgIGFuaW1hdGV0cmFuc2Zvcm06ICdhbmltYXRlVHJhbnNmb3JtJyxcbiAgICBjbGlwcGF0aDogJ2NsaXBQYXRoJyxcbiAgICBmZWJsZW5kOiAnZmVCbGVuZCcsXG4gICAgZmVjb2xvcm1hdHJpeDogJ2ZlQ29sb3JNYXRyaXgnLFxuICAgIGZlY29tcG9uZW50dHJhbnNmZXI6ICdmZUNvbXBvbmVudFRyYW5zZmVyJyxcbiAgICBmZWNvbXBvc2l0ZTogJ2ZlQ29tcG9zaXRlJyxcbiAgICBmZWNvbnZvbHZlbWF0cml4OiAnZmVDb252b2x2ZU1hdHJpeCcsXG4gICAgZmVkaWZmdXNlbGlnaHRpbmc6ICdmZURpZmZ1c2VMaWdodGluZycsXG4gICAgZmVkaXNwbGFjZW1lbnRtYXA6ICdmZURpc3BsYWNlbWVudE1hcCcsXG4gICAgZmVkaXN0YW50bGlnaHQ6ICdmZURpc3RhbnRMaWdodCcsXG4gICAgZmVmbG9vZDogJ2ZlRmxvb2QnLFxuICAgIGZlZnVuY2E6ICdmZUZ1bmNBJyxcbiAgICBmZWZ1bmNiOiAnZmVGdW5jQicsXG4gICAgZmVmdW5jZzogJ2ZlRnVuY0cnLFxuICAgIGZlZnVuY3I6ICdmZUZ1bmNSJyxcbiAgICBmZWdhdXNzaWFuYmx1cjogJ2ZlR2F1c3NpYW5CbHVyJyxcbiAgICBmZWltYWdlOiAnZmVJbWFnZScsXG4gICAgZmVtZXJnZTogJ2ZlTWVyZ2UnLFxuICAgIGZlbWVyZ2Vub2RlOiAnZmVNZXJnZU5vZGUnLFxuICAgIGZlbW9ycGhvbG9neTogJ2ZlTW9ycGhvbG9neScsXG4gICAgZmVvZmZzZXQ6ICdmZU9mZnNldCcsXG4gICAgZmVwb2ludGxpZ2h0OiAnZmVQb2ludExpZ2h0JyxcbiAgICBmZXNwZWN1bGFybGlnaHRpbmc6ICdmZVNwZWN1bGFyTGlnaHRpbmcnLFxuICAgIGZlc3BvdGxpZ2h0OiAnZmVTcG90TGlnaHQnLFxuICAgIGZldGlsZTogJ2ZlVGlsZScsXG4gICAgZmV0dXJidWxlbmNlOiAnZmVUdXJidWxlbmNlJyxcbiAgICBmb3JlaWdub2JqZWN0OiAnZm9yZWlnbk9iamVjdCcsXG4gICAgZ2x5cGhyZWY6ICdnbHlwaFJlZicsXG4gICAgbGluZWFyZ3JhZGllbnQ6ICdsaW5lYXJHcmFkaWVudCcsXG4gICAgcmFkaWFsZ3JhZGllbnQ6ICdyYWRpYWxHcmFkaWVudCcsXG4gICAgdGV4dHBhdGg6ICd0ZXh0UGF0aCdcbn0pO1xuXG4vL1RhZ3MgdGhhdCBjYXVzZXMgZXhpdCBmcm9tIGZvcmVpZ24gY29udGVudFxuY29uc3QgRVhJVFNfRk9SRUlHTl9DT05URU5UID0ge1xuICAgIFskLkJdOiB0cnVlLFxuICAgIFskLkJJR106IHRydWUsXG4gICAgWyQuQkxPQ0tRVU9URV06IHRydWUsXG4gICAgWyQuQk9EWV06IHRydWUsXG4gICAgWyQuQlJdOiB0cnVlLFxuICAgIFskLkNFTlRFUl06IHRydWUsXG4gICAgWyQuQ09ERV06IHRydWUsXG4gICAgWyQuRERdOiB0cnVlLFxuICAgIFskLkRJVl06IHRydWUsXG4gICAgWyQuRExdOiB0cnVlLFxuICAgIFskLkRUXTogdHJ1ZSxcbiAgICBbJC5FTV06IHRydWUsXG4gICAgWyQuRU1CRURdOiB0cnVlLFxuICAgIFskLkgxXTogdHJ1ZSxcbiAgICBbJC5IMl06IHRydWUsXG4gICAgWyQuSDNdOiB0cnVlLFxuICAgIFskLkg0XTogdHJ1ZSxcbiAgICBbJC5INV06IHRydWUsXG4gICAgWyQuSDZdOiB0cnVlLFxuICAgIFskLkhFQURdOiB0cnVlLFxuICAgIFskLkhSXTogdHJ1ZSxcbiAgICBbJC5JXTogdHJ1ZSxcbiAgICBbJC5JTUddOiB0cnVlLFxuICAgIFskLkxJXTogdHJ1ZSxcbiAgICBbJC5MSVNUSU5HXTogdHJ1ZSxcbiAgICBbJC5NRU5VXTogdHJ1ZSxcbiAgICBbJC5NRVRBXTogdHJ1ZSxcbiAgICBbJC5OT0JSXTogdHJ1ZSxcbiAgICBbJC5PTF06IHRydWUsXG4gICAgWyQuUF06IHRydWUsXG4gICAgWyQuUFJFXTogdHJ1ZSxcbiAgICBbJC5SVUJZXTogdHJ1ZSxcbiAgICBbJC5TXTogdHJ1ZSxcbiAgICBbJC5TTUFMTF06IHRydWUsXG4gICAgWyQuU1BBTl06IHRydWUsXG4gICAgWyQuU1RST05HXTogdHJ1ZSxcbiAgICBbJC5TVFJJS0VdOiB0cnVlLFxuICAgIFskLlNVQl06IHRydWUsXG4gICAgWyQuU1VQXTogdHJ1ZSxcbiAgICBbJC5UQUJMRV06IHRydWUsXG4gICAgWyQuVFRdOiB0cnVlLFxuICAgIFskLlVdOiB0cnVlLFxuICAgIFskLlVMXTogdHJ1ZSxcbiAgICBbJC5WQVJdOiB0cnVlXG59O1xuXG4vL0NoZWNrIGV4aXQgZnJvbSBmb3JlaWduIGNvbnRlbnRcbmV4cG9ydHMuY2F1c2VzRXhpdCA9IGZ1bmN0aW9uKHN0YXJ0VGFnVG9rZW4pIHtcbiAgICBjb25zdCB0biA9IHN0YXJ0VGFnVG9rZW4udGFnTmFtZTtcbiAgICBjb25zdCBpc0ZvbnRXaXRoQXR0cnMgPVxuICAgICAgICB0biA9PT0gJC5GT05UICYmXG4gICAgICAgIChUb2tlbml6ZXIuZ2V0VG9rZW5BdHRyKHN0YXJ0VGFnVG9rZW4sIEFUVFJTLkNPTE9SKSAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgVG9rZW5pemVyLmdldFRva2VuQXR0cihzdGFydFRhZ1Rva2VuLCBBVFRSUy5TSVpFKSAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgVG9rZW5pemVyLmdldFRva2VuQXR0cihzdGFydFRhZ1Rva2VuLCBBVFRSUy5GQUNFKSAhPT0gbnVsbCk7XG5cbiAgICByZXR1cm4gaXNGb250V2l0aEF0dHJzID8gdHJ1ZSA6IEVYSVRTX0ZPUkVJR05fQ09OVEVOVFt0bl07XG59O1xuXG4vL1Rva2VuIGFkanVzdG1lbnRzXG5leHBvcnRzLmFkanVzdFRva2VuTWF0aE1MQXR0cnMgPSBmdW5jdGlvbih0b2tlbikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW4uYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRva2VuLmF0dHJzW2ldLm5hbWUgPT09IERFRklOSVRJT05fVVJMX0FUVFIpIHtcbiAgICAgICAgICAgIHRva2VuLmF0dHJzW2ldLm5hbWUgPSBBREpVU1RFRF9ERUZJTklUSU9OX1VSTF9BVFRSO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnRzLmFkanVzdFRva2VuU1ZHQXR0cnMgPSBmdW5jdGlvbih0b2tlbikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW4uYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRBdHRyTmFtZSA9IFNWR19BVFRSU19BREpVU1RNRU5UX01BUFt0b2tlbi5hdHRyc1tpXS5uYW1lXTtcblxuICAgICAgICBpZiAoYWRqdXN0ZWRBdHRyTmFtZSkge1xuICAgICAgICAgICAgdG9rZW4uYXR0cnNbaV0ubmFtZSA9IGFkanVzdGVkQXR0ck5hbWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnRzLmFkanVzdFRva2VuWE1MQXR0cnMgPSBmdW5jdGlvbih0b2tlbikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW4uYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRBdHRyRW50cnkgPSBYTUxfQVRUUlNfQURKVVNUTUVOVF9NQVBbdG9rZW4uYXR0cnNbaV0ubmFtZV07XG5cbiAgICAgICAgaWYgKGFkanVzdGVkQXR0ckVudHJ5KSB7XG4gICAgICAgICAgICB0b2tlbi5hdHRyc1tpXS5wcmVmaXggPSBhZGp1c3RlZEF0dHJFbnRyeS5wcmVmaXg7XG4gICAgICAgICAgICB0b2tlbi5hdHRyc1tpXS5uYW1lID0gYWRqdXN0ZWRBdHRyRW50cnkubmFtZTtcbiAgICAgICAgICAgIHRva2VuLmF0dHJzW2ldLm5hbWVzcGFjZSA9IGFkanVzdGVkQXR0ckVudHJ5Lm5hbWVzcGFjZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydHMuYWRqdXN0VG9rZW5TVkdUYWdOYW1lID0gZnVuY3Rpb24odG9rZW4pIHtcbiAgICBjb25zdCBhZGp1c3RlZFRhZ05hbWUgPSBTVkdfVEFHX05BTUVTX0FESlVTVE1FTlRfTUFQW3Rva2VuLnRhZ05hbWVdO1xuXG4gICAgaWYgKGFkanVzdGVkVGFnTmFtZSkge1xuICAgICAgICB0b2tlbi50YWdOYW1lID0gYWRqdXN0ZWRUYWdOYW1lO1xuICAgIH1cbn07XG5cbi8vSW50ZWdyYXRpb24gcG9pbnRzXG5mdW5jdGlvbiBpc01hdGhNTFRleHRJbnRlZ3JhdGlvblBvaW50KHRuLCBucykge1xuICAgIHJldHVybiBucyA9PT0gTlMuTUFUSE1MICYmICh0biA9PT0gJC5NSSB8fCB0biA9PT0gJC5NTyB8fCB0biA9PT0gJC5NTiB8fCB0biA9PT0gJC5NUyB8fCB0biA9PT0gJC5NVEVYVCk7XG59XG5cbmZ1bmN0aW9uIGlzSHRtbEludGVncmF0aW9uUG9pbnQodG4sIG5zLCBhdHRycykge1xuICAgIGlmIChucyA9PT0gTlMuTUFUSE1MICYmIHRuID09PSAkLkFOTk9UQVRJT05fWE1MKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhdHRyc1tpXS5uYW1lID09PSBBVFRSUy5FTkNPRElORykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cnNbaV0udmFsdWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gTUlNRV9UWVBFUy5URVhUX0hUTUwgfHwgdmFsdWUgPT09IE1JTUVfVFlQRVMuQVBQTElDQVRJT05fWE1MO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5zID09PSBOUy5TVkcgJiYgKHRuID09PSAkLkZPUkVJR05fT0JKRUNUIHx8IHRuID09PSAkLkRFU0MgfHwgdG4gPT09ICQuVElUTEUpO1xufVxuXG5leHBvcnRzLmlzSW50ZWdyYXRpb25Qb2ludCA9IGZ1bmN0aW9uKHRuLCBucywgYXR0cnMsIGZvcmVpZ25OUykge1xuICAgIGlmICgoIWZvcmVpZ25OUyB8fCBmb3JlaWduTlMgPT09IE5TLkhUTUwpICYmIGlzSHRtbEludGVncmF0aW9uUG9pbnQodG4sIG5zLCBhdHRycykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCghZm9yZWlnbk5TIHx8IGZvcmVpZ25OUyA9PT0gTlMuTUFUSE1MKSAmJiBpc01hdGhNTFRleHRJbnRlZ3JhdGlvblBvaW50KHRuLCBucykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbiJdfQ==