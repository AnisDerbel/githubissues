6888e15b153df6c0344f0555bbdc47dc
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.prevElementSibling = exports.nextElementSibling = exports.getName = exports.hasAttrib = exports.getAttributeValue = exports.getSiblings = exports.getParent = exports.getChildren = void 0;

var tagtypes_1 = require("./tagtypes");

var emptyArray = [];

function getChildren(elem) {
  var _a;

  return (_a = elem.children) !== null && _a !== void 0 ? _a : emptyArray;
}

exports.getChildren = getChildren;

function getParent(elem) {
  return elem.parent || null;
}

exports.getParent = getParent;

function getSiblings(elem) {
  var _a, _b;

  var parent = getParent(elem);
  if (parent != null) return getChildren(parent);
  var siblings = [elem];
  var prev = elem.prev,
      next = elem.next;

  while (prev != null) {
    siblings.unshift(prev);
    _a = prev, prev = _a.prev;
  }

  while (next != null) {
    siblings.push(next);
    _b = next, next = _b.next;
  }

  return siblings;
}

exports.getSiblings = getSiblings;

function getAttributeValue(elem, name) {
  var _a;

  return (_a = elem.attribs) === null || _a === void 0 ? void 0 : _a[name];
}

exports.getAttributeValue = getAttributeValue;

function hasAttrib(elem, name) {
  return elem.attribs != null && Object.prototype.hasOwnProperty.call(elem.attribs, name) && elem.attribs[name] != null;
}

exports.hasAttrib = hasAttrib;

function getName(elem) {
  return elem.name;
}

exports.getName = getName;

function nextElementSibling(elem) {
  var _a;

  var next = elem.next;

  while (next !== null && !tagtypes_1.isTag(next)) {
    _a = next, next = _a.next;
  }

  return next;
}

exports.nextElementSibling = nextElementSibling;

function prevElementSibling(elem) {
  var _a;

  var prev = elem.prev;

  while (prev !== null && !tagtypes_1.isTag(prev)) {
    _a = prev, prev = _a.prev;
  }

  return prev;
}

exports.prevElementSibling = prevElementSibling;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYXZlcnNhbC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInByZXZFbGVtZW50U2libGluZyIsIm5leHRFbGVtZW50U2libGluZyIsImdldE5hbWUiLCJoYXNBdHRyaWIiLCJnZXRBdHRyaWJ1dGVWYWx1ZSIsImdldFNpYmxpbmdzIiwiZ2V0UGFyZW50IiwiZ2V0Q2hpbGRyZW4iLCJ0YWd0eXBlc18xIiwicmVxdWlyZSIsImVtcHR5QXJyYXkiLCJlbGVtIiwiX2EiLCJjaGlsZHJlbiIsInBhcmVudCIsIl9iIiwic2libGluZ3MiLCJwcmV2IiwibmV4dCIsInVuc2hpZnQiLCJwdXNoIiwibmFtZSIsImF0dHJpYnMiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpc1RhZyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFBRUMsRUFBQUEsS0FBSyxFQUFFO0FBQVQsQ0FBN0M7QUFDQUQsT0FBTyxDQUFDRSxrQkFBUixHQUE2QkYsT0FBTyxDQUFDRyxrQkFBUixHQUE2QkgsT0FBTyxDQUFDSSxPQUFSLEdBQWtCSixPQUFPLENBQUNLLFNBQVIsR0FBb0JMLE9BQU8sQ0FBQ00saUJBQVIsR0FBNEJOLE9BQU8sQ0FBQ08sV0FBUixHQUFzQlAsT0FBTyxDQUFDUSxTQUFSLEdBQW9CUixPQUFPLENBQUNTLFdBQVIsR0FBc0IsS0FBSyxDQUFqTTs7QUFDQSxJQUFJQyxVQUFVLEdBQUdDLE9BQU8sQ0FBQyxZQUFELENBQXhCOztBQUNBLElBQUlDLFVBQVUsR0FBRyxFQUFqQjs7QUFPQSxTQUFTSCxXQUFULENBQXFCSSxJQUFyQixFQUEyQjtBQUN2QixNQUFJQyxFQUFKOztBQUNBLFNBQU8sQ0FBQ0EsRUFBRSxHQUFHRCxJQUFJLENBQUNFLFFBQVgsTUFBeUIsSUFBekIsSUFBaUNELEVBQUUsS0FBSyxL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SSxHQUFHTixJQUFJLENBQUNNLElBQWhCOztBQUNBLFNBQU9BLElBQUksS0FBSyxJQUFULElBQWlCLENBQUNULFVBQVUsQ0FBQ2tCLEtBQVgsQ0FBaUJULElBQWpCLENBQXpCO0FBQ0tMLElBQUFBLEVBQUUsR0FBR0ssSUFBTCxFQUFXQSxJQUFJLEdBQUdMLEVBQUUsQ0FBQ0ssSUFBdEI7QUFESjs7QUFFQSxTQUFPQSxJQUFQO0FBQ0g7O0FBQ0RuQixPQUFPLENBQUNFLGtCQUFSLEdBQTZCQSxrQkFBN0IiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucHJldkVsZW1lbnRTaWJsaW5nID0gZXhwb3J0cy5uZXh0RWxlbWVudFNpYmxpbmcgPSBleHBvcnRzLmdldE5hbWUgPSBleHBvcnRzLmhhc0F0dHJpYiA9IGV4cG9ydHMuZ2V0QXR0cmlidXRlVmFsdWUgPSBleHBvcnRzLmdldFNpYmxpbmdzID0gZXhwb3J0cy5nZXRQYXJlbnQgPSBleHBvcnRzLmdldENoaWxkcmVuID0gdm9pZCAwO1xudmFyIHRhZ3R5cGVzXzEgPSByZXF1aXJlKFwiLi90YWd0eXBlc1wiKTtcbnZhciBlbXB0eUFycmF5ID0gW107XG4vKipcbiAqIEdldCBhIG5vZGUncyBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0gZWxlbSBOb2RlIHRvIGdldCB0aGUgY2hpbGRyZW4gb2YuXG4gKiBAcmV0dXJucyBgZWxlbWAncyBjaGlsZHJlbiwgb3IgYW4gZW1wdHkgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkcmVuKGVsZW0pIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IGVsZW0uY2hpbGRyZW4pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGVtcHR5QXJyYXk7XG59XG5leHBvcnRzLmdldENoaWxkcmVuID0gZ2V0Q2hpbGRyZW47XG4vKipcbiAqIEdldCBhIG5vZGUncyBwYXJlbnQuXG4gKlxuICogQHBhcmFtIGVsZW0gTm9kZSB0byBnZXQgdGhlIHBhcmVudCBvZi5cbiAqIEByZXR1cm5zIGBlbGVtYCdzIHBhcmVudCBub2RlLlxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnQoZWxlbSkge1xuICAgIHJldHVybiBlbGVtLnBhcmVudCB8fCBudWxsO1xufVxuZXhwb3J0cy5nZXRQYXJlbnQgPSBnZXRQYXJlbnQ7XG4vKipcbiAqIEdldHMgYW4gZWxlbWVudHMgc2libGluZ3MsIGluY2x1ZGluZyB0aGUgZWxlbWVudCBpdHNlbGYuXG4gKlxuICogQXR0ZW1wdHMgdG8gZ2V0IHRoZSBjaGlsZHJlbiB0aHJvdWdoIHRoZSBlbGVtZW50J3MgcGFyZW50IGZpcnN0LlxuICogSWYgd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCAodGhlIGVsZW1lbnQgaXMgYSByb290IG5vZGUpLFxuICogd2Ugd2FsayB0aGUgZWxlbWVudCdzIGBwcmV2YCAmIGBuZXh0YCB0byBnZXQgYWxsIHJlbWFpbmluZyBub2Rlcy5cbiAqXG4gKiBAcGFyYW0gZWxlbSBFbGVtZW50IHRvIGdldCB0aGUgc2libGluZ3Mgb2YuXG4gKiBAcmV0dXJucyBgZWxlbWAncyBzaWJsaW5ncy5cbiAqL1xuZnVuY3Rpb24gZ2V0U2libGluZ3MoZWxlbSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIHBhcmVudCA9IGdldFBhcmVudChlbGVtKTtcbiAgICBpZiAocGFyZW50ICE9IG51bGwpXG4gICAgICAgIHJldHVybiBnZXRDaGlsZHJlbihwYXJlbnQpO1xuICAgIHZhciBzaWJsaW5ncyA9IFtlbGVtXTtcbiAgICB2YXIgcHJldiA9IGVsZW0ucHJldiwgbmV4dCA9IGVsZW0ubmV4dDtcbiAgICB3aGlsZSAocHJldiAhPSBudWxsKSB7XG4gICAgICAgIHNpYmxpbmdzLnVuc2hpZnQocHJldik7XG4gICAgICAgIChfYSA9IHByZXYsIHByZXYgPSBfYS5wcmV2KTtcbiAgICB9XG4gICAgd2hpbGUgKG5leHQgIT0gbnVsbCkge1xuICAgICAgICBzaWJsaW5ncy5wdXNoKG5leHQpO1xuICAgICAgICAoX2IgPSBuZXh0LCBuZXh0ID0gX2IubmV4dCk7XG4gICAgfVxuICAgIHJldHVybiBzaWJsaW5ncztcbn1cbmV4cG9ydHMuZ2V0U2libGluZ3MgPSBnZXRTaWJsaW5ncztcbi8qKlxuICogR2V0cyBhbiBhdHRyaWJ1dGUgZnJvbSBhbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSBlbGVtIEVsZW1lbnQgdG8gY2hlY2suXG4gKiBAcGFyYW0gbmFtZSBBdHRyaWJ1dGUgbmFtZSB0byByZXRyaWV2ZS5cbiAqIEByZXR1cm5zIFRoZSBlbGVtZW50J3MgYXR0cmlidXRlIHZhbHVlLCBvciBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoZWxlbSwgbmFtZSkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gZWxlbS5hdHRyaWJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbbmFtZV07XG59XG5leHBvcnRzLmdldEF0dHJpYnV0ZVZhbHVlID0gZ2V0QXR0cmlidXRlVmFsdWU7XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaGFzIGFuIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0gZWxlbSBFbGVtZW50IHRvIGNoZWNrLlxuICogQHBhcmFtIG5hbWUgQXR0cmlidXRlIG5hbWUgdG8gbG9vayBmb3IuXG4gKiBAcmV0dXJucyBSZXR1cm5zIHdoZXRoZXIgYGVsZW1gIGhhcyB0aGUgYXR0cmlidXRlIGBuYW1lYC5cbiAqL1xuZnVuY3Rpb24gaGFzQXR0cmliKGVsZW0sIG5hbWUpIHtcbiAgICByZXR1cm4gKGVsZW0uYXR0cmlicyAhPSBudWxsICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlbGVtLmF0dHJpYnMsIG5hbWUpICYmXG4gICAgICAgIGVsZW0uYXR0cmlic1tuYW1lXSAhPSBudWxsKTtcbn1cbmV4cG9ydHMuaGFzQXR0cmliID0gaGFzQXR0cmliO1xuLyoqXG4gKiBHZXQgdGhlIHRhZyBuYW1lIG9mIGFuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIGVsZW0gVGhlIGVsZW1lbnQgdG8gZ2V0IHRoZSBuYW1lIGZvci5cbiAqIEByZXR1cm5zIFRoZSB0YWcgbmFtZSBvZiBgZWxlbWAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hbWUoZWxlbSkge1xuICAgIHJldHVybiBlbGVtLm5hbWU7XG59XG5leHBvcnRzLmdldE5hbWUgPSBnZXROYW1lO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBuZXh0IGVsZW1lbnQgc2libGluZyBvZiBhIG5vZGUuXG4gKlxuICogQHBhcmFtIGVsZW0gVGhlIGVsZW1lbnQgdG8gZ2V0IHRoZSBuZXh0IHNpYmxpbmcgb2YuXG4gKiBAcmV0dXJucyBgZWxlbWAncyBuZXh0IHNpYmxpbmcgdGhhdCBpcyBhIHRhZy5cbiAqL1xuZnVuY3Rpb24gbmV4dEVsZW1lbnRTaWJsaW5nKGVsZW0pIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIG5leHQgPSBlbGVtLm5leHQ7XG4gICAgd2hpbGUgKG5leHQgIT09IG51bGwgJiYgIXRhZ3R5cGVzXzEuaXNUYWcobmV4dCkpXG4gICAgICAgIChfYSA9IG5leHQsIG5leHQgPSBfYS5uZXh0KTtcbiAgICByZXR1cm4gbmV4dDtcbn1cbmV4cG9ydHMubmV4dEVsZW1lbnRTaWJsaW5nID0gbmV4dEVsZW1lbnRTaWJsaW5nO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBwcmV2aW91cyBlbGVtZW50IHNpYmxpbmcgb2YgYSBub2RlLlxuICpcbiAqIEBwYXJhbSBlbGVtIFRoZSBlbGVtZW50IHRvIGdldCB0aGUgcHJldmlvdXMgc2libGluZyBvZi5cbiAqIEByZXR1cm5zIGBlbGVtYCdzIHByZXZpb3VzIHNpYmxpbmcgdGhhdCBpcyBhIHRhZy5cbiAqL1xuZnVuY3Rpb24gcHJldkVsZW1lbnRTaWJsaW5nKGVsZW0pIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIHByZXYgPSBlbGVtLnByZXY7XG4gICAgd2hpbGUgKHByZXYgIT09IG51bGwgJiYgIXRhZ3R5cGVzXzEuaXNUYWcocHJldikpXG4gICAgICAgIChfYSA9IHByZXYsIHByZXYgPSBfYS5wcmV2KTtcbiAgICByZXR1cm4gcHJldjtcbn1cbmV4cG9ydHMucHJldkVsZW1lbnRTaWJsaW5nID0gcHJldkVsZW1lbnRTaWJsaW5nO1xuIl19