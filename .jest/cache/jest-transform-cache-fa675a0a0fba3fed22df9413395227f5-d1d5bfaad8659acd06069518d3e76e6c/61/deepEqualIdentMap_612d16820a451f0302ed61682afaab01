114daad4c8ce7dcf18ee47b844480546
'use strict';

var isEqual = require('lodash.isequal');

var _comparator = require('./_comparator');

function deepEqualIdentMap(a, b, callback, thisArg) {
  var map = new Map();

  function _map(a, b) {
    if (!map.has(a) && !map.has(b)) {
      map.set(a, b);
      map.set(b, a);
    } else if (map.get(a) !== b || map.get(b) !== a) {
      return false;
    }
  }

  var result = isEqual(a, b, _comparator.bind(null, _map, callback, thisArg));
  return result;
}

module.exports = deepEqualIdentMap;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlZXBFcXVhbElkZW50TWFwLmpzIl0sIm5hbWVzIjpbImlzRXF1YWwiLCJyZXF1aXJlIiwiX2NvbXBhcmF0b3IiLCJkZWVwRXF1YWxJZGVudE1hcCIsImEiLCJiIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwibWFwIiwiTWFwIiwiX21hcCIsImhhcyIsInNldCIsImdldCIsInJlc3VsdCIsImJpbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxnQkFBRCxDQUFyQjs7QUFDQSxJQUFJQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxlQUFELENBQXpCOztBQUtBLFNBQVNFLGlCQUFULENBQTJCQyxDQUEzQixFQUE4QkMsQ0FBOUIsRUFBaUNDLFFBQWpDLEVBQTJDQyxPQUEzQyxFQUFvRDtBQUNsRCxNQUFJQyxHQUFHLEdBQUcsSUFBSUMsR0FBSixFQUFWOztBQUlBLFdBQVNDLElBQVQsQ0FBY04sQ0FBZCxFQUFpQkMsQ0FBakIsRUFBb0I7QUFDbEIsUUFBSSxDQUFDRyxHQUFHLENBQUNHLEdBQUosQ0FBUVAsQ0FBUixDQUFELElBQWUsQ0FBQ0ksR0FBRyxDQUFDRyxHQUFKLENBQVFOLENBQVIsQ0FBcEIsRUFBZ0M7QUFDOUJHLE1BQUFBLEdBQUcsQ0FBQ0ksR0FBSixDQUFRUixDQUFSLEVBQVdDLENBQVg7QUFDQUcsTUFBQUEsR0FBRyxDQUFDSSxHQUFKLENBQVFQLENBQVIsRUFBV0QsQ0FBWDtBQUNELEtBSEQsTUFHTyxJQUFJSSxHQUFHLENBQUNLLEdBQUosQ0FBUVQsQ0FBUixNQUFlQyxDQUFmLElBQW9CRyxHQUFHLENBQUNLLEdBQUosQ0FBUVIsQ0FBUixNQUFlRCxDQUF2QyxFQUEwQztBQUMvQyxhQUFPLEtBQVA7QUFDRDtBQUlGOztBQUVELE1BQUlVLE1BQU0sR0FBR2QsT0FBTyxDQUNoQkksQ0FEZ0IsRUFFaEJDLENBRmdCLEVBR2hCSCxXQUFXLENBQUNhLElBQVosQ0FBaUIsSUFBakIsRUFBdUJMLElBQXZCLEVBQTZCSixRQUE3QixFQUF1Q0MsT0FBdkMsQ0FIZ0IsQ0FBcEI7QUFNQSxTQUFPTyxNQUFQO0FBQ0Q7O0FBRURFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmQsaUJBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNFcXVhbCA9IHJlcXVpcmUoJ2xvZGFzaC5pc2VxdWFsJyk7XG52YXIgX2NvbXBhcmF0b3IgPSByZXF1aXJlKCcuL19jb21wYXJhdG9yJyk7XG5cbi8qKlxuICogQHNlZSBkZWVwRXF1YWxJZGVudFRhZ1xuICovXG5mdW5jdGlvbiBkZWVwRXF1YWxJZGVudE1hcChhLCBiLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICB2YXIgbWFwID0gbmV3IE1hcCgpO1xuXG4gIC8vIERlZmluZWQgaW4gaGVyZSBzbyB0aGF0IHRoaXMgbW9kdWxlIGNhbiBiZSBsb2FkZWQgZXZlbiBpZiBtYXBzIGFyZSBub3RcbiAgLy8gc3VwcG9ydGVkLlxuICBmdW5jdGlvbiBfbWFwKGEsIGIpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zaGFkb3dcbiAgICBpZiAoIW1hcC5oYXMoYSkgJiYgIW1hcC5oYXMoYikpIHtcbiAgICAgIG1hcC5zZXQoYSwgYik7XG4gICAgICBtYXAuc2V0KGIsIGEpO1xuICAgIH0gZWxzZSBpZiAobWFwLmdldChhKSAhPT0gYiB8fCBtYXAuZ2V0KGIpICE9PSBhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIG1hcC5nZXQoYSkgPT09IGIgJiYgbWFwLmdldChiKSA9PT0gYSBvbmx5IHRlbGxzIHVzIHRoYXQgdGhlIG9iamVjdHMgYXJlXG4gICAgLy8gXCJpZGVudGljYWxcIiBidXQgbm90IHdoZXRoZXIgYSBhbmQgYiBhcmUgZXF1YWwsIHNvIHdlIGxlYXZlIHRoaXMgdG9cbiAgICAvLyBpc0VxdWFsXG4gIH1cblxuICB2YXIgcmVzdWx0ID0gaXNFcXVhbChcbiAgICAgIGEsXG4gICAgICBiLFxuICAgICAgX2NvbXBhcmF0b3IuYmluZChudWxsLCBfbWFwLCBjYWxsYmFjaywgdGhpc0FyZylcbiAgKTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBFcXVhbElkZW50TWFwO1xuIl19