3a64c78ee934cfb61bb2df324f9986b2
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports["default"] = void 0;

var _isEvent = _interopRequireDefault(require("./isEvent"));

var getSelectedValues = function getSelectedValues(options) {
  var result = [];

  if (options) {
    for (var index = 0; index < options.length; index++) {
      var option = options[index];

      if (option.selected) {
        result.push(option.value);
      }
    }
  }

  return result;
};

var getValue = function getValue(event, isReactNative) {
  if ((0, _isEvent["default"])(event)) {
    if (!isReactNative && event.nativeEvent && event.nativeEvent.text !== undefined) {
      return event.nativeEvent.text;
    }

    if (isReactNative && event.nativeEvent !== undefined) {
      return event.nativeEvent.text;
    }

    var detypedEvent = event;
    var _detypedEvent$target = detypedEvent.target,
        type = _detypedEvent$target.type,
        value = _detypedEvent$target.value,
        checked = _detypedEvent$target.checked,
        files = _detypedEvent$target.files,
        dataTransfer = detypedEvent.dataTransfer;

    if (type === 'checkbox') {
      return !!checked;
    }

    if (type === 'file') {
      return files || dataTransfer && dataTransfer.files;
    }

    if (type === 'select-multiple') {
      return getSelectedValues(event.target.options);
    }

    return value;
  }

  return event;
};

var _default = getValue;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFZhbHVlLmpzIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZXhwb3J0cyIsIl9fZXNNb2R1bGUiLCJfaXNFdmVudCIsImdldFNlbGVjdGVkVmFsdWVzIiwib3B0aW9ucyIsInJlc3VsdCIsImluZGV4IiwibGVuZ3RoIiwib3B0aW9uIiwic2VsZWN0ZWQiLCJwdXNoIiwidmFsdWUiLCJnZXRWYWx1ZSIsImV2ZW50IiwiaXNSZWFjdE5hdGl2ZSIsIm5hdGl2ZUV2ZW50IiwidGV4dCIsInVuZGVmaW5lZCIsImRldHlwZWRFdmVudCIsIl9kZXR5cGVkRXZlbnQkdGFyZ2V0IiwidGFyZ2V0IiwidHlwZSIsImNoZWNrZWQiLCJmaWxlcyIsImRhdGFUcmFuc2ZlciIsIl9kZWZhdWx0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxzQkFBc0IsR0FBR0MsT0FBTyxDQUFDLDhDQUFELENBQXBDOztBQUVBQyxPQUFPLENBQUNDLFVBQVIsR0FBcUIsSUFBckI7QUFDQUQsT0FBTyxDQUFDLFNBQUQsQ0FBUCxHQUFxQixLQUFLLENBQTFCOztBQUVBLElBQUlFLFFBQVEsR0FBR0osc0JBQXNCLENBQUNDLE9BQU8sQ0FBQyxXQUFELENBQVIsQ0FBckM7O0FBRUEsSUFBSUksaUJBQWlCLEdBQUcsU0FBU0EsaUJBQVQsQ0FBMkJDLE9BQTNCLEVBQW9DO0FBQzFELE1BQUlDLE1BQU0sR0FBRyxFQUFiOztBQUVBLE1BQUlELE9BQUosRUFBYTtBQUNYLFNBQUssSUFBSUUsS0FBSyxHQUFHLENBQWpCLEVBQW9CQSxLQUFLLEdBQUdGLE9BQU8sQ0FBQ0csTUFBcEMsRUFBNENELEtBQUssRUFBakQsRUFBcUQ7QUFDbkQsVUFBSUUsTUFBTSxHQUFHSixPQUFPLENBQUNFLEtBQUQsQ0FBcEI7O0FBRUEsVUFBSUUsTUFBTSxDQUFDQyxRQUFYLEVBQXFCO0FBQ25CSixRQUFBQSxNQUFNLENBQUNLLElBQVAsQ0FBWUYsTUFBTSxDQUFDRyxLQUFuQjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxTQUFPTixNQUFQO0FBQ0QsQ0FkRDs7QUFnQkEsSUFBSU8sUUFBUSxHQUFHLFNBQVNBLFFBQVQsQ0FBa0JDLEtBQWxCLEVBQXlCQyxhQUF6QixFQUF3QztBQUNyRCxNQUFJLENBQUMsR0FBR1osUUFBUSxDQUFDLFNBQUQsQ0FBWixFQUF5QlcsS0FBekIsQ0FBSixFQUFxQztBQUNuQyxRQUFJLENBQUNDLGFBQUQsSUFBa0JELEtBQUssQ0FBQ0UsV0FBeEIsSUFBdUNGLEtBQUssQ0FBQ0UsV0FBTixDQUFrQkMsSUFBbEIsS0FBMkJDLFNBQXRFLEVBQWlGO0FBQy9FLGFBQU9KLEtBQUssQ0FBQ0UsV0FBTixDQUFrQkMsSUFBekI7QUFDRDs7QUFFRCxRQUFJRixhQUFhLElBQUlELEtBQUssQ0FBQ0UsV0FBTixLQUFzQkUsU0FBM0MsRUFBc0Q7QUFDcEQsYUFBT0osS0FBSyxDQUFDRSxXQUFOLENBQWtCQyxJQUF6QjtBQUNEOztBQUVELFFBQUlFLFlBQVksR0FBR0wsS0FBbkI7QUFDQSxRQUFJTSxvQkFBb0IsR0FBR0QsWUFBWSxDQUFDRSxNQUF4QztBQUFBLFFBQ0lDLElBQUksR0FBR0Ysb0JBQW9CLENBQUNFLElBRGhDO0FBQUEsUUFFSVYsS0FBSyxHQUFHUSxvQkFBb0IsQ0FBQ1IsS0FGakM7QUFBQSxRQUdJVyxPQUFPLEdBQUdILG9CQUFvQixDQUFDRyxPQUhuQztBQUFBLFFBSUlDLEtBQUssR0FBR0osb0JBQW9CLENBQUNJLEtBSmpDO0FBQUEsUUFLSUMsWUFBWSxHQUFHTixZQUFZLENBQUNNLFlBTGhDOztBQU9BLFFBQUlILElBQUksS0FBSyxVQUFiLEVBQXlCO0FBQ3ZCLGFBQU8sQ0FBQyxDQUFDQyxPQUFUO0FBQ0Q7O0FBRUQsUUFBSUQsSUFBSSxLQUFLLE1BQWIsRUFBcUI7QUFDbkIsYUFBT0UsS0FBSyxJQUFJQyxZQUFZLElBQUlBLFlBQVksQ0FBQ0QsS0FBN0M7QUFDRDs7QUFFRCxRQUFJRixJQUFJLEtBQUssaUJBQWIsRUFBZ0M7QUFDOUIsYUFBT2xCLGlCQUFpQixDQUFDVSxLQUFLLENBQUNPLE1BQU4sQ0FBYWhCLE9BQWQsQ0FBeEI7QUFDRDs7QUFFRCxXQUFPTyxLQUFQO0FBQ0Q7O0FBRUQsU0FBT0UsS0FBUDtBQUNELENBbENEOztBQW9DQSxJQUFJWSxRQUFRLEdBQUdiLFFBQWY7QUFDQVosT0FBTyxDQUFDLFNBQUQsQ0FBUCxHQUFxQnlCLFFBQXJCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB2b2lkIDA7XG5cbnZhciBfaXNFdmVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaXNFdmVudFwiKSk7XG5cbnZhciBnZXRTZWxlY3RlZFZhbHVlcyA9IGZ1bmN0aW9uIGdldFNlbGVjdGVkVmFsdWVzKG9wdGlvbnMpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gIGlmIChvcHRpb25zKSB7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgb3B0aW9uID0gb3B0aW9uc1tpbmRleF07XG5cbiAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIGdldFZhbHVlID0gZnVuY3Rpb24gZ2V0VmFsdWUoZXZlbnQsIGlzUmVhY3ROYXRpdmUpIHtcbiAgaWYgKCgwLCBfaXNFdmVudFtcImRlZmF1bHRcIl0pKGV2ZW50KSkge1xuICAgIGlmICghaXNSZWFjdE5hdGl2ZSAmJiBldmVudC5uYXRpdmVFdmVudCAmJiBldmVudC5uYXRpdmVFdmVudC50ZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmVudC5uYXRpdmVFdmVudC50ZXh0O1xuICAgIH1cblxuICAgIGlmIChpc1JlYWN0TmF0aXZlICYmIGV2ZW50Lm5hdGl2ZUV2ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmVudC5uYXRpdmVFdmVudC50ZXh0O1xuICAgIH1cblxuICAgIHZhciBkZXR5cGVkRXZlbnQgPSBldmVudDtcbiAgICB2YXIgX2RldHlwZWRFdmVudCR0YXJnZXQgPSBkZXR5cGVkRXZlbnQudGFyZ2V0LFxuICAgICAgICB0eXBlID0gX2RldHlwZWRFdmVudCR0YXJnZXQudHlwZSxcbiAgICAgICAgdmFsdWUgPSBfZGV0eXBlZEV2ZW50JHRhcmdldC52YWx1ZSxcbiAgICAgICAgY2hlY2tlZCA9IF9kZXR5cGVkRXZlbnQkdGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgIGZpbGVzID0gX2RldHlwZWRFdmVudCR0YXJnZXQuZmlsZXMsXG4gICAgICAgIGRhdGFUcmFuc2ZlciA9IGRldHlwZWRFdmVudC5kYXRhVHJhbnNmZXI7XG5cbiAgICBpZiAodHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgcmV0dXJuICEhY2hlY2tlZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICByZXR1cm4gZmlsZXMgfHwgZGF0YVRyYW5zZmVyICYmIGRhdGFUcmFuc2Zlci5maWxlcztcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ3NlbGVjdC1tdWx0aXBsZScpIHtcbiAgICAgIHJldHVybiBnZXRTZWxlY3RlZFZhbHVlcyhldmVudC50YXJnZXQub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50O1xufTtcblxudmFyIF9kZWZhdWx0ID0gZ2V0VmFsdWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyJdfQ==