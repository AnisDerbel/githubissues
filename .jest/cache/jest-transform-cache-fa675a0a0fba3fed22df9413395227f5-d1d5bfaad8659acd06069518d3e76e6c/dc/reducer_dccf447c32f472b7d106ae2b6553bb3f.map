{"version":3,"sources":["reducer.ts"],"names":["initialState","issues","isLoading","hasMoreIssues","error","page","formReducer","state","action","type","ERepoActionTypes","GET_REPO_ISSUES","payload","reset","GET_REPO_ISSUES_SUCCESS","SET_CURRENT_PAGE","GET_REPO_ISSUES_FAILED"],"mappings":";;;;;;;;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BO,IAAMA,YAAwB,6BAAG;AACtCC,EAAAA,MAAM,EAAE,EAD8B;AAEtCC,EAAAA,SAAS,EAAE,KAF2B;AAGtCC,EAAAA,aAAa,EAAE,KAHuB;AAItCC,EAAAA,KAAK,EAAE,IAJ+B;AAKtCC,EAAAA,IAAI,EAAE;AALgC,CAAH,CAA9B;;;;AAQP,IAAMC,WAAgC,GAAG,SAAnCA,WAAmC,GAGxB;AAAA,MAFfC,KAEe,oGAFKP,YAEL;AAAA,MADfQ,MACe;AAAA;AAAA;;AACf,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKC,0BAAiBC,eAAtB;AAAA;AAAuC;AAAA;AACrC,0CACKJ,KADL;AAEEL,UAAAA,SAAS,EAAE,IAFb;AAGED,UAAAA,MAAM,EAAEO,MAAM,CAACI,OAAP,CAAeC,KAAf,KAAyB,IAAzB,gCAAgC,EAAhC,iCAAqCN,KAAK,CAACN,MAA3C,CAHV;AAIEG,UAAAA,KAAK,EAAE;AAJT;AAMD;;AACD,SAAKM,0BAAiBI,uBAAtB;AAAA;AAA+C;AAAA;AAC7C,0CACKP,KADL;AAEEL,UAAAA,SAAS,EAAE,KAFb;AAGEE,UAAAA,KAAK,EAAE,KAHT;AAIED,UAAAA,aAAa,EAAEK,MAAM,CAACI,OAAP,CAAeT,aAJhC;AAKEE,UAAAA,IAAI,EAAEG,MAAM,CAACI,OAAP,CAAeP,IALvB;AAMEJ,UAAAA,MAAM,6BACDM,KAAK,CAACN,MADL,oCAEHO,MAAM,CAACI,OAAP,CAAeP,IAFZ,EAEmBG,MAAM,CAACI,OAAP,CAAeX,MAFlC;AANR;AAWD;;AACD,SAAKS,0BAAiBK,gBAAtB;AAAA;AAAwC;AAAA;AACtC,0CACKR,KADL;AAEEL,UAAAA,SAAS,EAAE,KAFb;AAGEE,UAAAA,KAAK,EAAE,KAHT;AAIED,UAAAA,aAAa,EAAEK,MAAM,CAACI,OAAP,CAAeT,aAJhC;AAKEE,UAAAA,IAAI,EAAEG,MAAM,CAACI,OAAP,CAAeP;AALvB;AAOD;;AACD,SAAKK,0BAAiBM,sBAAtB;AAAA;AAA8C;AAAA;AAC5C,0CACKT,KADL;AAEEL,UAAAA,SAAS,EAAE,KAFb;AAGEE,UAAAA,KAAK,EAAEI,MAAM,CAACI;AAHhB;AAKD;;AACD;AAAA;AAAA;AACE,aAAOL,KAAP;AAvCJ;AAyCD,CA7CD;;eA+CeD,W","sourcesContent":["import {AnyAction, Reducer} from 'redux';\nimport {ERepoActionTypes} from './actions';\n\ninterface PaginatedIssue {\n  [key: number]: Array<Issue>;\n}\nexport type IRepoState = {\n  issues: PaginatedIssue;\n  isLoading: boolean;\n  error: string | boolean | null;\n  hasMoreIssues: boolean;\n  page: number;\n};\nexport interface Label {\n  id: number;\n  name: string;\n  color: string;\n}\n\nexport interface Issue {\n  node_id: string;\n  title: string;\n  labels: Array<Label>;\n  user: {login: string};\n  number: number;\n  created_at: string;\n  state: 'open' | 'closed';\n  html_url: string;\n  comments: number;\n}\n\nexport const initialState: IRepoState = {\n  issues: {},\n  isLoading: false,\n  hasMoreIssues: false,\n  error: null,\n  page: 0,\n};\n\nconst formReducer: Reducer<IRepoState> = (\n  state: IRepoState = initialState,\n  action: AnyAction,\n): IRepoState => {\n  switch (action.type) {\n    case ERepoActionTypes.GET_REPO_ISSUES: {\n      return {\n        ...state,\n        isLoading: true,\n        issues: action.payload.reset === true ? {} : state.issues,\n        error: null,\n      };\n    }\n    case ERepoActionTypes.GET_REPO_ISSUES_SUCCESS: {\n      return {\n        ...state,\n        isLoading: false,\n        error: false,\n        hasMoreIssues: action.payload.hasMoreIssues,\n        page: action.payload.page,\n        issues: {\n          ...state.issues,\n          [action.payload.page]: action.payload.issues,\n        },\n      };\n    }\n    case ERepoActionTypes.SET_CURRENT_PAGE: {\n      return {\n        ...state,\n        isLoading: false,\n        error: false,\n        hasMoreIssues: action.payload.hasMoreIssues,\n        page: action.payload.page,\n      };\n    }\n    case ERepoActionTypes.GET_REPO_ISSUES_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default formReducer;\n"]}